"use strict";(self["webpackChunkauto20_next"]=self["webpackChunkauto20_next"]||[]).push([[594],{9387:function(t,e,s){s.r(e),s.d(e,{default:function(){return q}});var i=s(6768),a=s(4232),n=s(1501),o=s.p+"img/map1.1c12248b.webp";const l=t=>((0,i.Qi)("data-v-88ab0c06"),t=t(),(0,i.jt)(),t),r={class:"hello"},u={class:"ui header"},c=l((()=>(0,i.Lk)("img",{src:n,alt:"互助互惠"},null,-1))),h=l((()=>(0,i.Lk)("img",{src:n,alt:"互助互惠"},null,-1))),d={class:"ui grid container"},_={class:"ui two column stackable row"},g={class:"ui padded segment column"},b={class:"ui header"},k={class:"ui header"},p={href:"http://www.alearn.org.tw",target:"_blank"},v={class:"ui header"},L=l((()=>(0,i.Lk)("i",{class:"chevron right icon"},null,-1))),f={class:"ui header"},m={class:"ui header"},$={class:"ui header"},C=l((()=>(0,i.Lk)("i",{class:"chevron right icon"},null,-1))),y={class:"ui header"},w={class:"ui header"},M=l((()=>(0,i.Lk)("i",{class:"chevron right icon"},null,-1))),W={class:"ui header"},T={class:"ui padded segment column"},E=l((()=>(0,i.Lk)("img",{src:o},null,-1))),N={class:"ui header"},A=l((()=>(0,i.Lk)("i",{class:"chevron right icon"},null,-1))),X={class:"ui header"},D={class:"ui header"},F=l((()=>(0,i.Lk)("i",{class:"chevron right icon"},null,-1))),O={class:"ui header"},S={href:"https://github.com/3dw/auto20-next/issues"},B=l((()=>(0,i.Lk)("i",{class:"chevron right icon"},null,-1))),U={class:"ui header"},G={href:"https://github.com/3dw/github-tutorial/blob/main/README.md"},z=l((()=>(0,i.Lk)("i",{class:"chevron right icon"},null,-1)));function I(t,e){const s=(0,i.g2)("router-link");return(0,i.uX)(),(0,i.CE)("div",r,[(0,i.Lk)("h1",u,[c,(0,i.eW)((0,a.v_)(t.$t("about.intro")),1),h]),(0,i.Lk)("div",d,[(0,i.Lk)("div",_,[(0,i.Lk)("div",g,[(0,i.Lk)("h2",b,(0,a.v_)(t.$t("about.what_is_auto20")),1),(0,i.Lk)("p",null,[(0,i.Lk)("b",null,(0,a.v_)(t.$t("about.auto20")),1),(0,i.eW)((0,a.v_)(t.$t("about.intro_1")),1)]),(0,i.Lk)("p",null,[(0,i.Lk)("b",null,(0,a.v_)(t.$t("about.al")),1),(0,i.eW)((0,a.v_)(t.$t("about.intro_2")),1)]),(0,i.Lk)("p",null,(0,a.v_)(t.$t("about.intro_3")),1),(0,i.Lk)("h2",k,(0,a.v_)(t.$t("about.auto20_by")),1),(0,i.Lk)("p",null,[(0,i.eW)((0,a.v_)(t.$t("about.auto20_by_content1")),1),(0,i.Lk)("a",p,(0,a.v_)(t.$t("about.auto20_by_content2")),1),(0,i.eW)((0,a.v_)(t.$t("about.auto20_by_content3")),1)]),(0,i.Lk)("h2",v,(0,a.v_)(t.$t("about.card_flag")),1),(0,i.Lk)("p",null,[(0,i.Lk)("b",null,(0,a.v_)(t.$t("about.card_name")),1),(0,i.eW)((0,a.v_)(t.$t("about.card_content1")),1)]),(0,i.Lk)("p",null,(0,a.v_)(t.$t("about.flag_content1")),1),(0,i.Lk)("p",null,(0,a.v_)(t.$t("about.card_content2")),1),(0,i.Lk)("p",null,(0,a.v_)(t.$t("about.qrcode_content1")),1),(0,i.Lk)("p",null,[(0,i.bF)(s,{to:"/profile"},{default:(0,i.k6)((()=>[(0,i.eW)((0,a.v_)(t.$t("about.raise_flag")),1)])),_:1}),L]),(0,i.Lk)("h2",f,(0,a.v_)(t.$t("about.card_flag_tip")),1),(0,i.Lk)("p",null,(0,a.v_)(t.$t("about.card_flag_tip_content")),1),(0,i.Lk)("h2",m,(0,a.v_)(t.$t("about.flag_update1")),1),(0,i.Lk)("p",null,(0,a.v_)(t.$t("about.flag_update_content")),1),(0,i.Lk)("h2",$,(0,a.v_)(t.$t("about.flag_content2")),1),(0,i.Lk)("p",null,[(0,i.eW)((0,a.v_)(t.$t("about.flag_content3")),1),(0,i.bF)(s,{to:"privacy-policy"},{default:(0,i.k6)((()=>[(0,i.eW)((0,a.v_)(t.$t("login.pr")),1),C])),_:1}),(0,i.eW)((0,a.v_)(t.$t("about.flag_content4")),1)]),(0,i.Lk)("h2",y,(0,a.v_)(t.$t("about.flag_update2")),1),(0,i.Lk)("p",null,(0,a.v_)(t.$t("about.flag_content5")),1),(0,i.Lk)("h2",w,(0,a.v_)(t.$t("about.flag_download")),1),(0,i.Lk)("p",null,(0,a.v_)(t.$t("about.flag_content6")),1),(0,i.Lk)("p",null,[(0,i.bF)(s,{to:"privacy-policy"},{default:(0,i.k6)((()=>[(0,i.eW)((0,a.v_)(t.$t("about.pr_go")),1),M])),_:1})]),(0,i.Lk)("h2",W,(0,a.v_)(t.$t("about.flag_remove")),1),(0,i.Lk)("p",null,(0,a.v_)(t.$t("about.flag_content7")),1)]),(0,i.Lk)("div",T,[E,(0,i.Lk)("h2",N,(0,a.v_)(t.$t("about.map_is")),1),(0,i.Lk)("p",null,(0,a.v_)(t.$t("about.map_content1")),1),(0,i.Lk)("p",null,[(0,i.bF)(s,{to:"/maps"},{default:(0,i.k6)((()=>[(0,i.eW)((0,a.v_)(t.$t("about.map_go")),1),A])),_:1})]),(0,i.Lk)("h2",X,(0,a.v_)(t.$t("about.directory_is")),1),(0,i.Lk)("p",null,[(0,i.Lk)("b",null,(0,a.v_)(t.$t("login.bk")),1),(0,i.eW)((0,a.v_)(t.$t("about.directory_content1")),1)]),(0,i.Lk)("h2",D,(0,a.v_)(t.$t("about.group_is")),1),(0,i.Lk)("p",null,[(0,i.Lk)("b",null,(0,a.v_)(t.$t("login.gp")),1),(0,i.eW)((0,a.v_)(t.$t("about.group_content1")),1)]),(0,i.Lk)("p",null,[(0,i.bF)(s,{to:"/groups"},{default:(0,i.k6)((()=>[(0,i.eW)((0,a.v_)(t.$t("about.group_go")),1),F])),_:1})]),(0,i.Lk)("h2",O,(0,a.v_)(t.$t("about.bugreport_is")),1),(0,i.Lk)("p",null,[(0,i.Lk)("b",null,(0,a.v_)(t.$t("about.auto20")),1),(0,i.eW)((0,a.v_)(t.$t("about.bugreport_content1")),1)]),(0,i.Lk)("p",null,(0,a.v_)(t.$t("about.bugreport_content2")),1),(0,i.Lk)("p",null,[(0,i.Lk)("a",S,[(0,i.eW)((0,a.v_)(t.$t("about.bugreport_go")),1),B])]),(0,i.Lk)("h2",U,(0,a.v_)(t.$t("about.github_is")),1),(0,i.Lk)("p",null,(0,a.v_)(t.$t("about.github_content1")),1),(0,i.Lk)("p",null,[(0,i.Lk)("a",G,[(0,i.eW)((0,a.v_)(t.$t("about.github_go")),1),z])])])])])])}var j=s(1241);const x={},V=(0,j.A)(x,[["render",I],["__scopeId","data-v-88ab0c06"]]);var q=V},5939:function(t,e,s){s.r(e),s.d(e,{default:function(){return M}});var i=s(6768),a=s(4232),n=s(5130);const o=t=>((0,i.Qi)("data-v-7a1ee858"),t=t(),(0,i.jt)(),t),l={class:"hello"},r={key:0,class:"ui row"},u={class:"sixteen wide column"},c={class:"ui huge buttons"},h=o((()=>(0,i.Lk)("i",{class:"google icon"},null,-1))),d={value:"newest"},_={value:"random"},g={key:0,value:"age_nearest"},b=["value"],k=o((()=>(0,i.Lk)("br",null,null,-1))),p=o((()=>(0,i.Lk)("div",{class:"ui divider"},null,-1))),v=o((()=>(0,i.Lk)("br",null,null,-1)));function L(t,e,s,o,L,f){const m=(0,i.g2)("loader"),$=(0,i.g2)("card");return(0,i.uX)(),(0,i.CE)("div",l,[t.uid||t.users&&0!=t.toList(t.users).length?t.users&&0!=t.toList(t.users).length?(0,i.bo)(((0,i.uX)(),(0,i.CE)("select",{key:2,class:"ui dropdown","onUpdate:modelValue":e[1]||(e[1]=e=>t.logic=e)},[(0,i.Lk)("option",d,(0,a.v_)(t.$t("friends.recent_updates")),1),(0,i.bo)((0,i.Lk)("option",{value:"nearest"},(0,a.v_)(t.$t("friends.nearest")),513),[[n.aG,t.uid&&t.users[t.uid]]]),(0,i.bo)((0,i.Lk)("option",{value:"learner_habit_nearst"},(0,a.v_)(t.$t("friends.similiar_interest")),513),[[n.aG,t.uid&&t.users[t.uid]&&t.users[t.uid].learner_habit]]),(0,i.bo)((0,i.Lk)("option",{value:"ask_match_share"},(0,a.v_)(t.$t("friends.seeking_help")),513),[[n.aG,t.uid&&t.users[t.uid]&&t.users[t.uid].ask]]),(0,i.bo)((0,i.Lk)("option",{value:"share_match_ask"},(0,a.v_)(t.$t("friends.sharer")),513),[[n.aG,t.uid&&t.users[t.uid]&&t.users[t.uid].share]]),(0,i.Lk)("option",_,(0,a.v_)(t.$t("friends.random_profile")),1),t.uid&&t.users[t.uid]&&t.users[t.uid].child_birth?((0,i.uX)(),(0,i.CE)("option",g,(0,a.v_)(t.$t("friends.similiar_age_kid")),1)):(0,i.Q3)("",!0),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(t.cities,((e,s)=>((0,i.uX)(),(0,i.CE)("option",{value:"near_"+e.c.join(","),key:s},(0,a.v_)(e.t)+(0,a.v_)(t.$t("friends.area")),9,b)))),128))],512)),[[n.u1,t.logic]]):((0,i.uX)(),(0,i.Wv)(m,{key:1})):((0,i.uX)(),(0,i.CE)("div",r,[(0,i.Lk)("div",u,[(0,i.Lk)("div",c,[(0,i.Lk)("button",{class:"ui orange button",onClick:e[0]||(e[0]=(...e)=>t.loginGoogle&&t.loginGoogle(...e))},[h,(0,i.eW)((0,a.v_)(t.$t("login.login")),1)])])])])),k,p,v,(0,i.Lk)("div",{class:"ui two doubling cards container",onScroll:e[2]||(e[2]=(...e)=>t.handleScroll&&t.handleScroll(...e)),ref:"scrollContainer"},[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(t.visibleCards,((e,s)=>((0,i.uX)(),(0,i.CE)("div",{class:"ui card",key:s},[(0,i.bF)($,{h:e,full:!1,mySearch:t.mySearch,book:t.book,onLocate:t.locate,onAddBook:t.addBook,onRemoveBook:t.removeBook,uid:t.uid},null,8,["h","mySearch","book","onLocate","onAddBook","onRemoveBook","uid"])])))),128))],544)])}s(3375),s(9225),s(3972),s(9209),s(5714),s(7561),s(6197);var f=s(9034),m=s(2119),$=s(242),C=(0,i.pM)({name:"FindCards",mixins:[f.A],props:["mySearch","book","users","places","center","user","uid"],components:{Loader:m.A,Card:$.A},data(){return{n:10,busy:!1,allCards:[],logic:"random",userLocation:null,cities:[{t:this.$t("friends.taipei"),c:[25.046337,121.517444]},{t:this.$t("friends.newtaipei"),c:[25.011709,121.465881],z:10},{t:this.$t("friends.taoyuan"),c:[24.993923,121.30168]},{t:this.$t("friends.taichung"),c:[24.163162,120.647828]},{t:this.$t("friends.tainan"),c:[22.991235,120.184982]},{t:this.$t("friends.kaohsiung"),c:[22.627277,120.301437]},{t:this.$t("friends.changhua"),c:[120.4818,23.99297]},{t:this.$t("friends.pingtung"),c:[120.62,22.54951]},{t:this.$t("friends.yunlin"),c:[120.3897,23.75585]},{t:this.$t("friends.miaoli"),c:[120.9417,24.48927]},{t:this.$t("friends.chiayiCounty"),c:[120.574,23.45889]},{t:this.$t("friends.hsinchuCounty"),c:[121.1252,24.70328]},{t:this.$t("friends.hsinchuCity"),c:[120.9647,24.80395]},{t:this.$t("friends.keelung"),c:[121.7081,25.10898]},{t:this.$t("friends.yilan"),c:[24.69295,121.7195],z:10},{t:this.$t("friends.nantou"),c:[23.83876,120.9876],z:10},{t:this.$t("friends.chiayiCity"),c:[23.47545,120.4473],z:10},{t:this.$t("friends.hualien"),c:[23.7569,121.3542],z:10},{t:this.$t("friends.taitung"),c:[22.98461,120.9876],z:10},{t:this.$t("friends.penghu"),c:[23.56548,119.6151],z:9},{t:this.$t("friends.lienchiang"),c:[119.5397,26.19737]}]}},computed:{visibleCards(){const t=this.allCards.filter((t=>{(new Date).getTime();if(isNaN(t.lastUpdate))return!1;const e=this.mySearch.toLowerCase(),s=[t.name,t.learner_habit,t.share,t.ask,t.note].some((t=>t&&t.toLowerCase().includes(e)));return s}));return t.slice(0,this.n)},list(){return this.processData(this.users)}},mounted(){console.log("Initial center in child component:"),console.log(this.center),this.allCards=this.list},watch:{center(t){console.log("Child component received new center:",t),this.allCards=this.processData(this.users),this.$forceUpdate()},users(t){this.allCards=this.processData(t)},logic(t){console.log(t);const e=t.match(/^near_(\d+\.\d+),(\d+\.\d+)$/);if("nearest"!==t||this.userLocation)if(e){const t=parseFloat(e[1]),s=parseFloat(e[2]);this.userLocation={lat:t,lng:s},console.log("Updated user location to:",this.userLocation),this.allCards=this.processData(this.users)}else this.allCards=this.processData(this.users);else{if(console.log(this.users[this.uid].latlngColumn),this.users[this.uid].latlngColumn){const[t,e]=this.users[this.uid].latlngColumn.split(",").map(Number);isNaN(t)||isNaN(e)?console.error("Cannot parse lat or lng from latlngColumn:",this.users.latlngColumn):(this.userLocation={lat:t,lng:e},console.log("User location set to:",this.userLocation))}this.allCards=this.processData(this.users)}}},methods:{loginGoogle(){this.$emit("loginGoogle")},toList(t){return t&&"object"===typeof t?Object.values(t):[]},processData(t){const e=Object.keys(t||{}).map((e=>t[e]));if("newest"===this.logic)return e.sort(((t,e)=>(e.lastUpdate||0)-(t.lastUpdate||0)));if("random"===this.logic)return e.sort((()=>.5-Math.random()));if("nearest"===this.logic||this.logic.match(/^near_(\d+\.\d+),(\d+\.\d+)$/))return e.sort(((t,e)=>this.distanceToCenter(t.latlngColumn)-this.distanceToCenter(e.latlngColumn)));if("age_nearest"===this.logic&&this.users[this.uid]&&this.users[this.uid].child_birth){const t=new Date(this.users[this.uid].child_birth).getTime();return e.sort(((t,e)=>this.distanceToCenter(t.latlngColumn)-this.distanceToCenter(e.latlngColumn))).sort(((e,s)=>{const i=e.child_birth?new Date(e.child_birth).getTime():1/0,a=s.child_birth?new Date(s.child_birth).getTime():1/0;return Math.abs(i-t)-Math.abs(a-t)}))}if("ask_match_share"===this.logic&&this.users[this.uid]){const t=this.users[this.uid];return e.filter((t=>t.uid!==this.uid)).sort(((t,e)=>this.distanceToCenter(t.latlngColumn)-this.distanceToCenter(e.latlngColumn))).sort(((e,s)=>{const i=this.countOverlap(t.ask,e.share),a=this.countOverlap(t.ask,s.share);return a-i}))}if("share_match_ask"===this.logic&&this.users[this.uid]){const t=this.users[this.uid];return e.filter((t=>t.uid!==this.uid)).sort(((t,e)=>this.distanceToCenter(t.latlngColumn)-this.distanceToCenter(e.latlngColumn))).sort(((e,s)=>{const i=this.countOverlap(t.share,e.ask),a=this.countOverlap(t.share,s.ask);return a-i}))}if("learner_habit_nearest"===this.logic&&this.users[this.uid]){const t=this.users[this.uid];return e.filter((t=>t.uid!==this.uid)).sort(((t,e)=>this.distanceToCenter(t.latlngColumn)-this.distanceToCenter(e.latlngColumn))).sort(((e,s)=>{const i=this.countOverlap(t.learner_habit,e.learner_habit)+this.countOverlap(e.ask,t.share),a=this.countOverlap(t.learner_habit,s.learner_habit)+this.countOverlap(s.ask,t.share);return a-i}))}return e},countOverlap(t,e){if(!t||!e)return 0;const s=t.split(/[，,、\s]/g),i=e.split(/[，,、\s]/g),a=new Set(s),n=new Set(i);let o=0;return a.forEach((t=>{n.has(t)&&o++})),o},distanceToCenter(t){if(!t||2!==t.split(",").length)return console.error("Invalid latlngColumn format:",t),Number.MAX_VALUE;let[e,s]=t.split(",").map(Number);if(isNaN(e)||isNaN(s))return console.error("Cannot parse lat or lng from latlngColumn:",t),Number.MAX_VALUE;if(!this.userLocation)return Number.MAX_VALUE;const i=this.userLocation,a=t=>t*Math.PI/180,n=a(e-i.lat),o=a(s-i.lng),l=Math.sin(n/2)*Math.sin(n/2)+Math.cos(a(i.lat))*Math.cos(a(e))*Math.sin(o/2)*Math.sin(o/2),r=2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l));return 6371*r},handleScroll(){const t=this.$refs.scrollContainer;t.scrollHeight-t.scrollTop<=t.clientHeight+100&&!this.busy&&this.loadMore()},loadMore(){this.busy=!0,setTimeout((()=>{this.n<this.allCards.length&&(this.n+=10),this.busy=!1}),1e3)},locate(t,e){this.$emit("locate",t,e)},addBook(t){console.log(t),this.$emit("addBook",t)},removeBook(t){console.log(t),this.$emit("removeBook",t)}}}),y=s(1241);const w=(0,y.A)(C,[["render",L],["__scopeId","data-v-7a1ee858"]]);var M=w}}]);
//# sourceMappingURL=about.b49cc723.js.map