"use strict";(self["webpackChunkauto20_next"]=self["webpackChunkauto20_next"]||[]).push([[893],{9600:function(t,i,e){e.r(i),e.d(i,{default:function(){return p}});var n=e(6768),s=e(4232),o=e(5130);const a={class:"hello"},c={class:"ui segment container"},d={class:"ui list"},l={class:"ui buttons"},u=["onClick"];function r(t,i,e,r,h,f){const k=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("div",a,[(0,n.Lk)("div",c,[i[3]||(i[3]=(0,n.Lk)("h2",{class:"ui header"},[(0,n.Lk)("i",{class:"bell icon"}),(0,n.eW)("通知")],-1)),(0,n.Lk)("div",d,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(t.sortedNotifications,(e,a)=>(0,n.bo)(((0,n.uX)(),(0,n.CE)("div",{class:(0,s.C4)(["left aligned item",{hidden:e.hidden}]),key:a},[(0,n.eW)((0,s.v_)(e.date.split("T")[0])+"："+(0,s.v_)(e.text)+" "+(0,s.v_)(e.hidden),1),i[2]||(i[2]=(0,n.Lk)("div",{class:"filler"},null,-1)),(0,n.Lk)("div",l,[(0,n.bF)(k,{class:"ui green button",to:e.route},{default:(0,n.k6)(()=>i[0]||(i[0]=[(0,n.Lk)("i",{class:"eye icon"},null,-1),(0,n.eW)("查看")])),_:2,__:[0]},1032,["to"]),(0,n.Lk)("button",{class:"ui basic red button",onClick:(0,o.D$)(i=>t.hideNotification(e.nid),["prevent"])},i[1]||(i[1]=[(0,n.Lk)("i",{class:"delete icon"},null,-1),(0,n.eW)("刪除")]),8,u)])],2)),[[o.aG,!e.hidden]])),128))])])])}e(8111),e(1701);var h=e(4161),f=e(6808),k=(0,n.pM)({name:"NotificationsView",props:["uid"],data(){return{notifications:{}}},computed:{sortedNotifications(){return Object.values(this.notifications).map((t,i)=>(t.nid=Object.keys(this.notifications)[i],t)).sort((t,i)=>new Date(i.date)-new Date(t.date))}},mounted(){(0,h.Zy)((0,h.KR)(f.db,"users/"+this.uid+"/notifications"),t=>{const i=t.val()||{};this.notifications=i})},methods:{hideNotification(t){const i=t;console.log(i),(0,h.hZ)((0,h.KR)(f.db,"users/"+this.uid+"/notifications/"+i+"/hidden"),!0).then(()=>{this.notifications[i].hidden=!0,console.log("通知已隱藏")}).catch(t=>{console.error("隱藏通知時出錯：",t)})}}}),v=e(1241);const b=(0,v.A)(k,[["render",r],["__scopeId","data-v-c357fb7a"]]);var p=b}}]);
//# sourceMappingURL=notifications.3b4a0951.js.map