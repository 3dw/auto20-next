(function(){"use strict";var e={6808:function(e,t,o){o.d(t,{UM:function(){return d},db:function(){return s},pO:function(){return c},sY:function(){return u},y6:function(){return r},yA:function(){return l}});var n=o(6400),i=o(4161);const a=(0,n.Wp)({apiKey:"AIzaSyA64Lzpmdn-HovWkOvTtPFecurm9Szaxf8",authDomain:"shackhand-autolearn.firebaseapp.com",databaseURL:"https://shackhand-autolearn.firebaseio.com",projectId:"shackhand-autolearn",storageBucket:"shackhand-autolearn.appspot.com",messagingSenderId:"270389952986",appId:"1:270389952986:web:010827f42571edac5c80e3"}),l=a,s=(0,i.C3)(a),r=((0,i.KR)(s,"places"),(0,i.KR)(s,"users")),c=(0,i.KR)(s,"chats"),u=(0,i.KR)(s,"groups"),d=(0,i.KR)(s,"books")},3780:function(e,t,o){var n=o(5130),i=o(6768),a=o(4232);const l={class:"ui menu",id:"main-menu"},s=(0,i.Lk)("i",{class:"icon bars"},null,-1),r=[s],c=(0,i.Lk)("i",{class:"home icon"},null,-1),u=(0,i.Lk)("i",{class:"info icon"},null,-1),d=(0,i.Lk)("i",{class:"map icon"},null,-1),h=(0,i.Lk)("i",{class:"users icon"},null,-1),p=(0,i.Lk)("i",{class:"object group outline icon"},null,-1),g={class:"right menu"},f={class:"ui simple dropdown item"},m=(0,i.Lk)("i",{class:"globe icon"},null,-1),k=(0,i.Lk)("span",{class:"fat-only"},"語言 Language",-1),b={class:"menu"},y={class:"ui simple dropdown item"},v=["src"],_={key:1,class:"user icon"},L={class:"menu"},w=(0,i.Lk)("i",{class:"flag icon"},null,-1),C={class:"ui divider"},A=(0,i.Lk)("i",{class:"book icon no-float"},null,-1),E=(0,i.Lk)("i",{class:"sign-out icon"},null,-1),M=(0,i.Lk)("i",{class:"home icon no-float"},null,-1),F=(0,i.Lk)("i",{class:"info icon no-float"},null,-1),W=(0,i.Lk)("i",{class:"save icon no-float"},null,-1),S=(0,i.Lk)("i",{class:"users icon no-float"},null,-1),T=(0,i.Lk)("i",{class:"map icon no-float"},null,-1),X=(0,i.Lk)("i",{class:"object group outlin icon no-float"},null,-1),G=(0,i.Lk)("i",{class:"user icon no-float"},null,-1),$=(0,i.Lk)("i",{class:"book icon no-float"},null,-1),B=(0,i.Lk)("br",null,null,-1),U={key:0,class:"ui form container"},I={class:"search-input"},x=(0,i.Lk)("i",{class:"search icon"},null,-1),D=(0,i.Lk)("br",null,null,-1),H=(0,i.Lk)("br",null,null,-1),R=(0,i.Lk)("br",null,null,-1);function N(e,t,o,s,N,Q){const O=(0,i.g2)("router-link"),q=(0,i.g2)("slide"),j=(0,i.g2)("carousel"),P=(0,i.g2)("router-view"),Y=(0,i.g2)("chatbox"),K=(0,i.gN)("autofocus");return(0,i.uX)(),(0,i.CE)(i.FK,null,[(0,i.Lk)("nav",l,[(0,i.Lk)("button",{class:"no-border ui item",onClick:t[0]||(t[0]=(...t)=>e.toggleSidebar&&e.toggleSidebar(...t))},r),(0,i.bF)(O,{class:"item fat-only",to:"/"},{default:(0,i.k6)((()=>[c,(0,i.Lk)("span",null,(0,a.v_)(e.$t("login.hp")),1)])),_:1}),(0,i.bF)(O,{class:"item",to:"/about"},{default:(0,i.k6)((()=>[u,(0,i.eW)((0,a.v_)(e.$t("login.ab")),1)])),_:1}),(0,i.bF)(O,{class:"item",to:"/maps"},{default:(0,i.k6)((()=>[d,(0,i.eW)((0,a.v_)(e.$t("login.mp")),1)])),_:1}),(0,i.bF)(O,{class:"item fat-only",to:"/friends"},{default:(0,i.k6)((()=>[h,(0,i.eW)((0,a.v_)(e.$t("login.fr")),1)])),_:1}),(0,i.bF)(O,{class:"item fat-only",to:"/groups"},{default:(0,i.k6)((()=>[p,(0,i.eW)((0,a.v_)(e.$t("login.gp")),1)])),_:1}),(0,i.Lk)("div",g,[(0,i.Lk)("div",f,[m,k,(0,i.Lk)("div",b,[(0,i.Lk)("button",{class:"no-border ui item",onClick:t[1]||(t[1]=(...t)=>e.changeZh&&e.changeZh(...t))},"中文 Chinese"),(0,i.Lk)("button",{class:"no-border ui item",onClick:t[2]||(t[2]=(...t)=>e.changeEn&&e.changeEn(...t))},"英文 English")])]),(0,i.Lk)("div",y,[e.photoURL?((0,i.uX)(),(0,i.CE)("img",{key:0,class:"ui avatar image",src:e.photoURL},null,8,v)):((0,i.uX)(),(0,i.CE)("i",_)),(0,i.Lk)("div",L,[(0,i.bF)(O,{class:"item",to:"/profile"},{default:(0,i.k6)((()=>[w,(0,i.eW)((0,a.v_)(e.$t("login.fg")),1)])),_:1}),(0,i.bo)((0,i.Lk)("div",C,null,512),[[n.aG,e.myGroupIdx().length>0]]),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.myGroupIdx(),(t=>((0,i.uX)(),(0,i.Wv)(O,{class:"item",key:t,to:"/group/"+t},{default:(0,i.k6)((()=>[(0,i.eW)((0,a.v_)(e.groups[t].n),1)])),_:2},1032,["to"])))),128)),e.uid?((0,i.uX)(),(0,i.Wv)(O,{key:0,class:"item",to:"/book"},{default:(0,i.k6)((()=>[A,(0,i.eW)((0,a.v_)(e.$t("login.bk")),1)])),_:1})):(0,i.Q3)("",!0),e.uid?((0,i.uX)(),(0,i.CE)("button",{key:1,class:"no-border ui item",onClick:t[3]||(t[3]=(...t)=>e.logout&&e.logout(...t))},[E,(0,i.eW)((0,a.v_)(e.$t("login.logout")),1)])):(0,i.Q3)("",!0)])])])]),(0,i.bF)(j,{wrapAround:!0,"items-to-show":1,autoplay:4e3,transition:4e3,pauseAutoplayOnHover:!0},{addons:(0,i.k6)((()=>[])),default:(0,i.k6)((()=>[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.news,(t=>((0,i.uX)(),(0,i.Wv)(q,{key:t},{default:(0,i.k6)((()=>[(0,i.Lk)("span",null,(0,a.v_)(e.$t("news."+t)),1)])),_:2},1024)))),128))])),_:1}),(0,i.Lk)("div",{class:(0,a.C4)(["ui sidebar vertical menu",{hidden:!e.sidebarVisible}]),id:"side-menu"},[(0,i.bF)(O,{class:"item",to:"/"},{default:(0,i.k6)((()=>[M,(0,i.eW)((0,a.v_)(e.$t("login.hp")),1)])),_:1}),(0,i.bF)(O,{class:"item",to:"/about"},{default:(0,i.k6)((()=>[F,(0,i.eW)((0,a.v_)(e.$t("login.ab")),1)])),_:1}),(0,i.bF)(O,{class:"item",to:"/privacy-policy"},{default:(0,i.k6)((()=>[W,(0,i.eW)((0,a.v_)(e.$t("login.pr")),1)])),_:1}),(0,i.bF)(O,{class:"item",to:"/friends"},{default:(0,i.k6)((()=>[S,(0,i.eW)((0,a.v_)(e.$t("login.fr")),1)])),_:1}),(0,i.bF)(O,{class:"item",to:"/maps"},{default:(0,i.k6)((()=>[T,(0,i.eW)((0,a.v_)(e.$t("login.mp")),1)])),_:1}),(0,i.bF)(O,{class:"item",to:"/groups"},{default:(0,i.k6)((()=>[X,(0,i.eW)((0,a.v_)(e.$t("login.gp")),1)])),_:1}),(0,i.bF)(O,{class:"item",to:"/profile"},{default:(0,i.k6)((()=>[G,(0,i.eW)((0,a.v_)(e.$t("login.fg")),1)])),_:1}),e.uid?((0,i.uX)(),(0,i.Wv)(O,{key:0,class:"item",to:"/book"},{default:(0,i.k6)((()=>[$,(0,i.eW)((0,a.v_)(e.$t("login.bk")),1)])),_:1})):(0,i.Q3)("",!0)],2),(0,i.Lk)("div",{class:(0,a.C4)(["ui sidebar bg",{hidden:!e.sidebarVisible}]),onClick:t[4]||(t[4]=(...t)=>e.toggleSidebar&&e.toggleSidebar(...t))},null,2),B,e.doSearch(e.$route.path)?((0,i.uX)(),(0,i.CE)("div",U,[(0,i.Lk)("div",I,[(0,i.bo)((0,i.Lk)("input",{"onUpdate:modelValue":t[5]||(t[5]=t=>e.mySearch=t),placeholder:"關鍵字搜尋",autofocus:""},null,512),[[K],[n.Jo,e.mySearch]]),x])])):(0,i.Q3)("",!0),D,(0,i.bF)(P,{isInApp:e.isInApp,zoom:e.zoom,uid:e.uid,users:e.users,book:e.book,center:e.center,places:e.places,user:e.user,mySearch:e.mySearch,email:e.email,photoURL:e.photoURL,onLoginGoogle:e.loginGoogle,onAddBook:e.addBook,onRemoveBook:e.removeBook,onLocate:e.locate,onGetUserLocation:e.getUserLocation,onLogout:e.logout},null,8,["isInApp","zoom","uid","users","book","center","places","user","mySearch","email","photoURL","onLoginGoogle","onAddBook","onRemoveBook","onLocate","onGetUserLocation","onLogout"]),H,R,(0,i.bF)(Y,{id:"ch",onLoginGoogle:e.loginGoogle,uid:e.uid,user:e.user,photoURL:e.photoURL},null,8,["onLoginGoogle","uid","user","photoURL"])],64)}o(4114);var Q=o(9420),O=o.n(Q),q=o(4161),j=o(6808),P=o(2621);const Y=e=>((0,i.Qi)("data-v-62c1e978"),e=e(),(0,i.jt)(),e),K={class:"ui inverted big menu",id:"menu"},z={class:"item ui form"},V={class:"ui input"},Z={class:"right menu"},J=Y((()=>(0,i.Lk)("i",{class:"comments icon"},null,-1))),ee=Y((()=>(0,i.Lk)("i",{class:"compress icon"},null,-1))),te={id:"box"},oe={class:"ui list"},ne=["src"],ie=["onClick"],ae={class:"text"},le={key:0,class:"item preview"},se=["src"],re={key:1,class:"item"},ce={class:"ui form"},ue={class:"field"},de=["src"],he={class:"inline fields"},pe={class:"field"},ge={class:"ui radio checkbox"},fe=["value"],me=["onClick"],ke={class:"ui button group"},be={key:2,class:"item"},ye={key:0,class:"ui big buttons"},ve=Y((()=>(0,i.Lk)("i",{class:"google icon"},null,-1)));function _e(e,t,o,l,s,r){const c=(0,i.g2)("router-link");return(0,i.uX)(),(0,i.CE)("div",{class:(0,a.C4)(["chats",{full:e.isFull,mini:e.isMini}])},[(0,i.Lk)("div",K,[(0,i.bo)((0,i.Lk)("div",z,[(0,i.Lk)("div",V,[(0,i.bo)((0,i.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.key=t),placeholder:"搜尋"},null,512),[[n.Jo,e.key]])])],512),[[n.aG,e.isFull]]),(0,i.Lk)("div",Z,[e.isFull?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("a",{key:0,class:"item",onClick:t[1]||(t[1]=t=>{e.isFull=!0,e.isMini=!1,e.reCount()})},[J,(0,i.eW)((0,a.v_)(e.$t("chat.gc")),1),(0,i.bo)((0,i.Lk)("div",{class:"red note"},(0,a.v_)(e.fil(e.chats).length-e.read),513),[[n.aG,e.fil(e.chats).length>e.read]])])),e.isMini?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("a",{key:1,class:"item",onClick:t[2]||(t[2]=t=>{e.isFull=!1,e.isMini=!0})},[ee,(0,i.eW)((0,a.v_)(e.$t("chat.cp")),1)]))])]),(0,i.Lk)("div",te,[(0,i.Lk)("div",oe,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.fil(e.chats).slice(e.fil(e.chats).length-5,e.fil(e.chats).length),((t,o)=>((0,i.uX)(),(0,i.CE)("div",{class:"item",key:t.t},[(0,i.bo)((0,i.Lk)("p",null,[(0,i.bF)(c,{to:"/flag/"+t.uid},{default:(0,i.k6)((()=>[(0,i.Lk)("img",{class:"ui avatar",src:t.photoURL||"http://graph.facebook.com/"+t.uid+"/picture",alt:"^_^"},null,8,ne)])),_:2},1032,["to"]),(0,i.Lk)("a",{onClick:o=>e.key=t.l,class:(0,a.C4)(t.l)},"["+(0,a.v_)(t.l)+"]",11,ie),(0,i.Lk)("span",ae,(0,a.v_)(t.n)+" : "+(0,a.v_)(t.t),1),(0,i.bo)((0,i.Lk)("span",{class:"gray"},"  -"+(0,a.v_)(e.countDateDiff(t.time)),513),[[n.aG,e.isFull]])],512),[[n.aG,e.edit!==t]])])))),128)),e.p.t?((0,i.uX)(),(0,i.CE)("div",le,[(0,i.bF)(c,{to:"/flag/"+e.p.uid},{default:(0,i.k6)((()=>[(0,i.Lk)("img",{class:"ui avatar",src:e.p.photoURL||"/static/img/handshake0.png"},null,8,se)])),_:1},8,["to"]),(0,i.Lk)("a",{onClick:t[3]||(t[3]=t=>e.key=e.p.l),class:(0,a.C4)(e.p.l)},"["+(0,a.v_)(e.p.l)+"] (預覽)",3),(0,i.eW)((0,a.v_)(e.p.n)+" : "+(0,a.v_)(e.p.t),1),(0,i.bo)((0,i.Lk)("span",{class:"gray"},"  -"+(0,a.v_)(e.countDateDiff(e.p.time)),513),[[n.aG,e.isFull]])])):(0,i.Q3)("",!0),e.uid?((0,i.uX)(),(0,i.CE)("div",re,[(0,i.Lk)("div",ce,[(0,i.Lk)("div",ue,[(0,i.Lk)("img",{class:"ui avatar",src:e.photoURL},null,8,de),(0,i.bo)((0,i.Lk)("input",{class:"input","onUpdate:modelValue":t[4]||(t[4]=t=>e.msg=t),placeholder:"在想什麼嗎?",autofocus:""},null,512),[[n.Jo,e.msg]])]),(0,i.Lk)("div",he,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.labels,(o=>((0,i.uX)(),(0,i.CE)("div",pe,[(0,i.Lk)("div",ge,[(0,i.bo)((0,i.Lk)("input",{type:"radio",name:"l","onUpdate:modelValue":t[5]||(t[5]=t=>e.label=t),value:o},null,8,fe),[[n.XL,e.label]]),(0,i.Lk)("label",null,[(0,i.Lk)("a",{onClick:t=>e.label=o,class:(0,a.C4)(o)},(0,a.v_)(o),11,me)])])])))),256)),(0,i.Lk)("div",ke,[(0,i.Lk)("a",{class:"ui blue small button",onClick:t[6]||(t[6]=(...t)=>e.preview&&e.preview(...t))},"預覽"),(0,i.Lk)("a",{class:"ui green small button",onClick:t[7]||(t[7]=(...t)=>e.addChat&&e.addChat(...t))},"留言")])])])])):((0,i.uX)(),(0,i.CE)("div",be,[e.uid?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("div",ye,[(0,i.Lk)("button",{class:"ui orange button",onClick:t[8]||(t[8]=t=>e.loginGoogle())},[ve,(0,i.eW)("登入以留言 ")])]))]))])])],2)}var Le=o(9034),we=(0,i.pM)({name:"ChatBox",mixins:[Le.A],props:["uid","user","photoURL"],data(){return{p:"",msg:"",key:"閒聊",edit:"",chats:[],read:0,isFull:!1,isMini:!0,label:"閒聊",labels:["諮詢","故障","找伴","閒聊"]}},watch:{label(e){this.key=e}},methods:{preview(){var e={uid:this.uid,n:this.user.providerData[0].displayName,t:this.msg,l:this.label,edit:!1,photoURL:this.photoURL||"",time:(new Date).getTime()};this.p=e},addChat(){var e={uid:this.uid,n:this.user.providerData[0].displayName,t:this.msg,l:this.label,photoURL:this.photoURL||"",time:(new Date).getTime()};if(this.msg){const t=(Math.random()+"").substr(0,8).replace(".","");this.chats[t]=e,this.msg="",this.p=""}(0,q.hZ)((0,q.KR)(j.db,"chats"),this.chats).then(console.log("chats更新成功"))},loginGoogle(){this.$emit("loginGoogle")},fil(e){var t=this.key;const o=Object.keys(e);for(var n=[],i=0;i<o.length;i++)n.push(e[o[i]]);return n=n.filter((function(e){return(e.t+e.l).indexOf(t)>-1||!t})).map((function(e){return e.edit=!1,e})),n.sort((function(e,t){return e.time-t.time})),n},reCount(){this.read=this.fil(this.chats).length,localStorage.setItem("read",this.read)}},mounted(){(0,q.Zy)(j.pO,(e=>{const t=e.val();this.chats=t})),this.read=localStorage.getItem("read")||0,"undefined"===this.read&&(this.read=0)}}),Ce=o(1241);const Ae=(0,Ce.A)(we,[["render",_e],["__scopeId","data-v-62c1e978"]]);var Ee=Ae,Me=o(1114);const Fe=new(O())(window.navigator.userAgent);let We=Fe.isInApp;/Android/.test(window.navigator.userAgent)&&/Chrome|Google/.test(window.navigator.userAgent)&&(We=!1);const Se=(0,P.xI)(j.yA),Te=new P.HF;Te.addScope("profile"),Te.addScope("email"),Te.addScope("https://www.googleapis.com/auth/userinfo.email");var Xe=(0,i.pM)({name:"WeLearn",components:{Carousel:Me.FN,Slide:Me.q7,Pagination:Me.dK,Navigation:Me.Vx,Chatbox:Ee},data(){return{mySearch:"",news:["upgrading","flag","remove"],zoom:7,center:[23.533,121.0654],sidebarVisible:!1,users:null,book:[],books:[],user:null,email:null,uid:"",photoURL:null,isInApp:We,groups:null,places:null}},mounted(){const e=this;console.log(e.isInApp),(0,q.Zy)(j.y6,(t=>{const o=t.val();e.users=o})),(0,q.Zy)(j.sY,(t=>{const o=t.val();e.groups=o})),(0,q.Zy)(j.UM,(t=>{console.log("get books");const o=t.val()||{};e.books=o}))},watch:{$route(e,t){console.log(t.path),console.log(e.path),window.scrollTo(0,0),this.sidebarVisible=!1},center(e,t){console.log("Center updated from",t,"to",e)},uid(e){e&&(this.book=this.books[e],console.log(this.book),this.$nextTick((()=>{console.log("Book updated and propagated to children")})))}},methods:{doSearch:function(e){return!e.match(/(^\/$|myPlace|polis|qr|outer|flag|myFlag|group\/|place|profile|about|privacy-policy|faq|flag\/\d+|ans\/\d+)/)},myGroupIdx(){return(this.groups||[]).filter((e=>(e.members||[]).indexOf(this.uid||"")>-1)).map((function(e){return e.idx}))},changeZh(){this.$i18n.locale="zh",localStorage.setItem("lang","zh")},changeEn(){this.$i18n.locale="en",localStorage.setItem("lang","en")},locate:function(e,t){this.zoom=13,this.center=e.latlngColumn.split(","),console.log("Updated location:",this.center),this.$nextTick((()=>{console.log("Center updated and propagated to children")})),t&&this.$router.push({path:"/maps"})},getUserLocation:function(){console.log("try getUserLocation"),navigator.geolocation?navigator.geolocation.getCurrentPosition((e=>{this.center=[e.coords.latitude,e.coords.longitude],console.log("Updated location:",this.center),this.$nextTick((()=>{console.log("Center updated and propagated to children")}))}),(e=>{console.error("Error getting location:",e)})):console.error("Geolocation is not supported by this browser.")},toggleSidebar(){console.log("toggleSidebar"),this.sidebarVisible=!this.sidebarVisible},setLocal:function(e){console.log("set:"+e),"book"==e&&localStorage.setItem(e,JSON.stringify(this.book))},addBook:function(e){-1===this.book.indexOf(e)&&(this.book.push(e),(0,q.hZ)((0,q.KR)(j.db,"books/"+this.uid),this.book))},removeBook:function(e){window.confirm("確定要將這位朋友移出您的名簿嗎？")&&(this.book.splice(e,1),(0,q.hZ)((0,q.KR)(j.db,"books/"+this.uid),this.book))},copyLink(){if(!document.hasFocus())return void alert("Document does not have focus, cannot copy link.");console.log(this.$route);const e="https://we.alearn.org.tw/#"+this.$route.path;navigator.clipboard.writeText(e).then((()=>{window.alert("已複製當前網址: "+e)})).catch((e=>{console.error("無法複製當前網址: ",e)})),this.$forceUpdate()},logout(){const e=this;Se.signOut().then((function(){e.user=null,e.uid="",e.photoURL="",console.log(e.$router),e.$router.push("/")}))},loginGoogle:function(){const e=this;this.isInApp?window.alert("本系統不支援Facebook, Line等App內部瀏覽，請用一般瀏覽器開啟，方可登入，謝謝"):(0,P.df)(Se,Te).then((t=>{const o=t.user;e.user=o,e.email=o.providerData[0].email,e.uid=o.uid,console.log(e.uid),e.photoURL=o.photoURL?decodeURI(o.photoURL):"https://we.alearn.org.tw/logo-new.png",e.uid&&e.users[e.uid]&&(e.user=e.users[e.uid]),e.uid&&e.users[e.uid]&&e.users[e.uid].latlngColumn&&this.locate(e.users[e.uid],!1),e.$router.push("/profile")})).catch((e=>{console.error("Login error:",e),e.message.includes("sessionStorage")&&window.alert("瀏覽器不支持sessionStorage，請檢查瀏覽器設置或更換瀏覽器再試一次。")}))}}});const Ge=(0,Ce.A)(Xe,[["render",N]]);var $e=Ge,Be=o(1387),Ue=o(1501);const Ie=e=>((0,i.Qi)("data-v-fb099776"),e=e(),(0,i.jt)(),e),xe={class:"home"},De=Ie((()=>(0,i.Lk)("img",{id:"main-img",src:Ue,alt:"互助互惠"},null,-1)));function He(e,t,o,n,a,l){const s=(0,i.g2)("HelloWorld");return(0,i.uX)(),(0,i.CE)("div",xe,[De,(0,i.bF)(s,{uid:e.uid,users:e.users,places:e.places,book:e.book,isInApp:e.isInApp,onAddBook:e.addBook,onLocate:e.locate,onRemoveBook:e.removeBook,onLoginGoogle:e.loginGoogle},null,8,["uid","users","places","book","isInApp","onAddBook","onLocate","onRemoveBook","onLoginGoogle"])])}const Re=e=>((0,i.Qi)("data-v-45abd252"),e=e(),(0,i.jt)(),e),Ne={class:"hello"},Qe={class:"ui header"},Oe=Re((()=>(0,i.Lk)("br",null,null,-1))),qe={class:"ui huge buttons"},je=Re((()=>(0,i.Lk)("i",{class:"google icon"},null,-1))),Pe=Re((()=>(0,i.Lk)("div",{class:"or"},null,-1))),Ye={key:0};function Ke(e,t,o,n,l,s){const r=(0,i.g2)("router-link"),c=(0,i.g2)("loader");return(0,i.uX)(),(0,i.CE)(i.FK,null,[(0,i.Lk)("div",Ne,[(0,i.Lk)("h4",Qe,(0,a.v_)(e.$t("login.hd")),1)]),Oe,(0,i.Lk)("div",qe,[e.user&&e.user.uid?((0,i.uX)(),(0,i.Wv)(r,{key:1,class:"ui blue button",to:"/profile"},{default:(0,i.k6)((()=>[(0,i.eW)((0,a.v_)(e.$t("login.go_flag")),1)])),_:1})):((0,i.uX)(),(0,i.CE)("button",{key:0,class:(0,a.C4)(["ui basic orange button",{disabled:e.isInApp}]),onClick:t[0]||(t[0]=(...t)=>e.loginGoogle&&e.loginGoogle(...t))},[je,(0,i.eW)((0,a.v_)(e.$t("login.login")),1)],2)),Pe,(0,i.bF)(r,{class:"ui blue button",to:"/about"},{default:(0,i.k6)((()=>[(0,i.eW)((0,a.v_)(e.$t("login.lm")),1)])),_:1})]),e.isInApp?((0,i.uX)(),(0,i.CE)("p",Ye,"本系統不支援facebook, link等app內部瀏覽，請用一般瀏覽器開啟，方可登入，謝謝")):(0,i.Q3)("",!0),0==e.toList(e.users).length?((0,i.uX)(),(0,i.Wv)(c,{key:1})):(0,i.Q3)("",!0)],64)}var ze=o(242),Ve=o(2119),Ze=(0,i.pM)({name:"HelloWorld",components:{Card:ze.A,Loader:Ve.A},props:{uid:{type:String,required:!1,default:""},user:{type:Object,required:!1,default:()=>({})},users:{type:Object,required:!1,default:()=>({})},places:{type:Object,required:!1,default:()=>({})},book:{type:Array,required:!1,default:()=>[]},mySearch:{type:String,required:!1,default:""},isInApp:{type:Boolean,required:!0}},data(){return{logic:"random",shuffledList:[],newestList:[]}},emits:["addBook","removeBook","locate","loginGoogle"],computed:{ordered_list(){return"random"===this.logic?this.shuffledList:this.newestList}},watch:{logic(e){"random"===e?this.shuffleList():"newest"===e&&this.sortByNewest()},users:{handler(){this.shuffleList(),this.sortByNewest()},deep:!0},places:{handler(){this.shuffleList(),this.sortByNewest()},deep:!0}},mounted(){this.shuffleList(),this.sortByNewest()},methods:{toList(e){return e&&"object"===typeof e?Object.values(e):[]},shuffleList(){const e=this.toList(this.users).concat(this.toList(this.places));for(let t=e.length-1;t>0;t--){const o=Math.floor(Math.random()*(t+1));[e[t],e[o]]=[e[o],e[t]]}this.shuffledList=e},sortByNewest(){const e=this.toList(this.users).slice().sort(((e,t)=>!t.lastUpdate||isNaN(t.lastUpdate)?-1:t.lastUpdate-e.lastUpdate));this.newestList=e},addBook(e){console.log(e),this.$emit("addBook",e)},removeBook(e){console.log(e),this.$emit("removeBook",e)},locate(e,t){this.$emit("locate",e,t)},loginGoogle(){this.$emit("loginGoogle")}}});const Je=(0,Ce.A)(Ze,[["render",Ke],["__scopeId","data-v-45abd252"]]);var et=Je,tt=(0,i.pM)({name:"HomeView",components:{HelloWorld:et},props:{uid:{type:String,required:!1,default:()=>""},users:{type:Object,required:!1,default:()=>({})},places:{type:Object,required:!1,default:()=>({})},book:{type:Array,required:!1,default:()=>[]},mySearch:{type:String,required:!1,default:()=>""},isInApp:{type:Boolean,required:!0}},emits:["addBook","removeBook","locate","loginGoogle"],methods:{addBook:function(e){console.log(e),this.$emit("addBook",e)},removeBook:function(e){console.log(e),this.$emit("removeBook",e)},locate:function(e,t){this.$emit("locate",e,t)},loginGoogle:function(){this.$emit("loginGoogle")}}});const ot=(0,Ce.A)(tt,[["render",He],["__scopeId","data-v-fb099776"]]);var nt=ot,it=o(5384),at={login:{welcome:"Welcome to Autonomous Learning 2.0(Auto20) non-profit friend search platform",hp:"Home page",ab:"About us",mp:"Map",fr:"Friends",gp:"Groups",fg:"My flag",hd:"Some are first in learning, and others excel in  different fields.",pr:" Privacy Policy ",bk:"My Directory",logout:"Logout",lm:"Learn more",login:"Login",go_flag:"Go to My Flag",em:"Email: "},chat:{gc:"Chats",cp:"Shrink"},news:{upgrading:"We are upgrading",flag:"Please update your flag regularly",remove:"Flags that logged in with Facebook will be removed"},about:{intro:" Introduction ",what_is_auto20:"What is Autonomous Learning 2.0(Auto20)?",auto20:"Autonomous Learning 2.0(Auto20)",intro_1:" is a public welfare friend-finding platform, free of charge and without advertising. It aims to help users find friends through geographical location, personal interests and expertise. The core function of the platform, 'Mutual Aid Flag', provides public self-introduction, allowing people to get to know each other initially before meeting.",al:"Autonomous Learning",intro_2:" is 'homeschooling' in the narrow sense and 'Self-directed learning' in the broad sense. Independent learning is an attitude of being responsible for one's own growth and life.",intro_3:"We welcome all friends who are interested in 'Self-directed Learning' to participate, regardless of age and whether they are in school or not.",auto20_by:"Who is designing and maintaining Autonomous Learning 2.0(Auto20)？",auto20_by_content1:"This platform is designed and maintained by",auto20_by_content2:" the non-profit organization Autonomous Learning Promotion Association of  R.O.C. (Taiwan)",auto20_by_content3:", dedicated to providing a safe and friendly environment for everyone to freely find learning partners.",card_flag:"What is Cloud Card and Mutual Aid Flag?",card_name:"Cloud Card",card_content1:" is a self-introduction feature with an approximate geographical location, allowing others to have a preliminary understanding of your interests, expertise, and background before meeting you, making it easier to find like-minded friends.",flag_content1:"The system automatically assigns you an appropriate location on the map based on your approximate geographic location, like planting a flag. Hence, it is also called a 'Mutual Aid Flag'.",card_content2:"After you create a 'Cloud Card', the system will provide you with a unique URL that you can use for self-introduction.",qrcode_content1:"You will also receive a unique QR code that friends can scan with their mobile phones to link to your cloud card.",raise_flag:"Raise a Mutual Aid Flag",card_flag_tip:"Tips for Filling Out the Form to Raise the Flag",card_flag_tip_content:"'Interests', 'Sharing', and 'Seeking' are the three factors that influence the logical operation of the automatic matching program.To accurately match those in need with those who can help, please clearly fill in your interests, what you can share, and what you are seeking. You can use commas (','), Chinese commas ('，'), or slashes ('/') to separate multiple items.",flag_update1:"Does the 'Mutual Aid Flag' need to be updated?",flag_update_content:"To ensure that friends in need can find you smoothly, please update your 'Mutual Aid Flag' periodically, especially after moving.",flag_content2:"Will my 'Mutual Aid Flag' be public?",flag_content3:"The 'Mutual Aid Flag' is completely public, and you can choose to leave only the information you are willing to disclose. Please refer to our",flag_content4:" to learn how to better protect your privacy.",flag_update2:"Can I modify the 'Mutual Aid Flag' after raising it?",flag_content5:"Of course! Just log in to the platform again, click on 'My Flag', and you can modify the content of your 'Mutual Aid Flag' at any time to keep the information up-to-date and accurate.",flag_download:"Can I download a backup after raising the 'Mutual Aid Flag'?",flag_content6:"Of course! Just log in to the platform again, click on 'Privacy Policy', and click the 'Download Backup' button below to download your data backup.",pr_go:"Go to Privacy Policy",flag_remove:"Can I remove the 'Mutual Aid Flag' after raising it?",flag_content7:"Yes, you can. Simply go to the 'My Flag' page and click 'Delete Flag' to remove your flag and opt out Autonomous Learning 2.0(Auto20).",map_is:"What is the purpose of the 'Map'?",map_content1:"The 'Map' is designed to help you find friends who are geographically close to you. You can click on the flag icon on the map to view the 'Cloud Card' of the friend.",map_go:"Go to Map",directory_is:"What is the 'My Directory'?",directory_content1:" is a feature that allows you to manage and find specific friends easily, similar to shortcuts or pins. Users can create their own directory to easily find specific friends next time.",group_is:"What is the concept of 'Groups' in Autonomous Learning 2.0(Auto20)?",group_content1:" is similar to a resource pool. Users can create groups, add introductions, share learning resources, and chat. This helps to collect and share useful information according to the theme, and promote collaboration and interaction among members.",group_go:"Go to Groups",bugreport_is:"How to submit bug reports or feature requests?",bugreport_content1:" has a project issue tracker on Github. Please submit bug reports and feature requests on Github's project issue tracker. Thank you. If you don't have a Github account yet, please register a Github account first before leaving a message.",bugreport_content2:"Note: You do not need a Github account if you are only logging into Autonomous Learning 2.0(Auto20) and not submitting an issue.",bugreport_go:"Go to Project Issue Tracker",github_is:"What is Github?",github_content1:"Github is a platform for hosting and collaborating on software development projects. It is widely used for version control using Git. It also provides a platform for users to submit bug reports and feature requests.",github_go:"GitHub Tutorial for Beginners"},privacy:{title:" Privacy Policy ",strong:"In order to protect your personal privacy, please do not place any sensitive or too complete personally identifiable information on the mutual aid flag.",content1:"Welcome to our service! We value your privacy and would like to inform you that the ‘Mutual Aid Flag’ content on Autonomous Learning 2.0(Auto20)(hereinafter referred to as the Platform) is completely public. The program also requires your email for login, please choose an email that you are comfortable making public.",content2:"When using this service, please carefully consider what information you are willing to make public online. We encourage you to only share information that you are comfortable having others know.",content3:"For the security of your data, the Platform provides an option to download a backup of your data. You can download your 'Mutual Aid Flag' data at any time for self-management and backup. You can also delete your own flag after logging in.",cc_is:"Creative Commons Licenses",cc_content1:"Your 'Mutual Aid Flag' on this platform are publicly available on the internet under the Creative Commons Attribution-NoDerivatives (CC BY-ND) license. This means you grant others permission to freely share and distribute your content, but they may not modify it and must give you appropriate credit.",cc_content2:"Details of the CC BY-ND license terms",cc_content3:"CC BY-ND (Attribution-NoDerivatives) is a Creative Commons license that allows others to reuse your work for any purpose and in any form, but with two conditions:",cc_by_is:"Attribution (BY):",cc_content4:" When using your work, they must give you appropriate credit, provide the title of the work, and indicate if any changes were made. The specific manner of attribution can be determined by you.",cc_nd_is:"NoDerivatives (ND):",cc_content5:"Users cannot make any modifications, adaptations, or create derivative works from your work in any way.",cc_content6:"This means that others can freely share your work, but they must maintain the integrity of the work and must attribute it in the way you specify.",security_download_is:"Data Security and Backup Downloads",security_download_content1:"We provide an option to download data backups so you can download and manage your 'Mutual Aid Flag' data at any time. Please download backups regularly to ensure the security of your data.",manager_right_is:"Administrator Rights",manage_content1:"In the event of special circumstances, such as a user who has not updated their flag for two years or has posted offensive language, the administrators of Autonomous Learning 2.0(Auto20) reserve the right to remove the Mutual Aid Flag, but the administrators must still comply with the Creative Commons license and may not modify the user's Mutual Aid Flag.",contactus:"Contact Us",contact_manager:"If you have any questions or suggestions regarding the Privacy Policy, please feel free to contact us. The contact information for the administrators is as follows:",download_backup:"Download My Backup",lg_downlaod_backup:"Login to download backup"}},lt={login:{welcome:"歡迎來到自學2.0公益尋友平台",hp:"首頁",ab:"關於我們",mp:"地圖",fr:"夥伴",gp:"社團",fg:"我的旗幟",hd:"聞道有先後，術業有專攻",pr:" 隱私權政策 ",bk:"我的名簿",logout:"登出",lm:"瞭解更多",login:"登入",go_flag:"前往我的旗幟",em:"Email: "},chat:{gc:"群聊",cp:"縮小"},news:{upgrading:"自學2.0更新中",flag:"請定期更新您的互助旗",remove:"以Facebook登入之旗幟將被移除"},about:{intro:" 使用說明 ",what_is_auto20:"自學2.0是什麼？",auto20:"自學2.0",intro_1:"是一個公益尋友平台，免付費、無業配廣告，旨在透過地理位置、個人興趣及專長來協助用戶尋找朋友。平台的核心功能「互助旗」提供公開的自我介紹，讓人們在見面前能初步了解和認識對方。",al:"自學",intro_2:"有狹義的「在家自學」和廣義的「自主學習」。自主學習是一種為自己的成長和生命負責的態度。",intro_3:"自學2.0歡迎所有對「自主學習」有興趣的朋友一起參與，不分年齡、在校與否。",auto20_by:"自學2.0由誰在設計及維護？",auto20_by_content1:"本平台由非營利組織",auto20_by_content2:"中華民國自主學習促進會",auto20_by_content3:"設計及維護，致力於提供一個安全且友善的環境，讓大家能夠自由地尋找學習夥伴。",card_flag:"雲端名片與互助旗是什麼？",card_name:"雲端名片",card_content1:"是一個帶有概略地理位置的自我介紹功能，讓人在與您見面之前，便能對您的興趣、專長及背景有初步的認識，從而更容易找到志同道合的朋友。",flag_content1:"系統會自動依據您的概略地理位置，在地圖上給予您適當的位置，像是插上一支旗子。故又稱為「互助旗」。",card_content2:"當您建立雲端名片之後，系統會提供您一個專屬的網址，可以用來自我介紹。",qrcode_content1:"您還可以得到一個專屬的QR-Code，在手機上可讓朋友掃描連結到您的雲端名片。",raise_flag:"升起互助旗",card_flag_tip:"填表升旗的小秘訣",card_flag_tip_content:"「興趣」、「分享」、「尋找」這三者會影響程式自動配對的邏輯運算，為了更精準地找到需求者和協助者，請清楚填寫您的興趣、分享和尋找。格式上可以用「,」「，」或「、」來分隔多項的內容。",flag_update1:"互助旗需更新嗎？",flag_update_content:"為了讓有需要的朋友能夠順利找到您，請更期更新一次您的互助旗，特別是搬家之後。",flag_content2:"我的互助旗會是公開的嗎？",flag_content3:"互助旗是完全公開的，您可以選擇只留下您願意公開的資訊。請參考我們的",flag_content4:"，以了解如何更好地保護您的隱私。",flag_update2:"升起互助旗後可以修改嗎？",flag_content5:"當然可以！只需再次登入平台，點選「我的旗幟」，即可隨時修改您的互助旗內容，保持信息的最新和準確。",flag_download:"升起互助旗後可以下載備份嗎？",flag_content6:"當然可以！只需再次登入平台，點選「隱私權政策」，點擊下方「下載備份」按鈕，即可下載您的資料備份",pr_go:"前往隱私權政策",flag_remove:"升起互助旗後可以移除嗎？",flag_content7:"可以，您只要在「我的旗幟」頁面點選「刪除旗幟」來刪除旗幟並退出自學2.0的服務。",map_is:"地圖介面有什麼用意？",map_content1:"地圖介面讓您能夠根據地理位置就近尋找夥伴。例如，您可以查看「宜蘭附近有沒有自學朋友呢？」透過地圖，您可以一目了然地找到附近的學習夥伴，增進彼此的互動和交流。",map_go:"前往地圖介面",directory_is:"名簿是什麼？",directory_content1:"是方便管理和查找特定朋友的功能，類似捷徑或釘選。使用者可以建立自己的名簿，方便下次查找特定的朋友。",group_is:"自學2.0中社團概念為何？",group_content1:"功能類似資源庫，使用者可創建社團，添加簡介，分享學習資源，留言聊天。這有助於根據主題收集和分享有用資訊，促進成員間的協作和互動。",bugreport_is:"如何提出錯誤回報或功能請求？",bugreport_content1:"有位於Github的專案議題區。請上Github的專案議題區提出錯誤回報與功能請求，謝謝。若您還沒有Github帳號，請先註冊一個Github帳號再留言。",bugreport_content2:"Note: 若您單純是要登入自學2.0，而非提出議題，並不需要一個Github帳號。",bugreport_go:"前往專案議題區",github_is:"Github平台是什麼？",guthub_content:"如果有70個人要協作一份重要文件，每個人都有不同的想法但都希望文件更好，可以把他們分成七組，每組10人。每組使用便利貼、布告板等工具集思廣益。然而，整合所有小組意見時，會發現每組都有優缺點，難以完全整合。使用Google Docs協作，當人數多時，單一版本控制常常不夠用。若只有兩三人，可以保留所有不同意見並整合到新版本。GitHub 提供一種更強大的協作平台，基於Git版本控制系統，有效解決這些問題。",github_go:"前往Github入門介紹"},privacy:{title:" 隱私權政策 ",strong:"為了保護您的個人隱私，請不要在互助旗上放置任何敏感或過於完整的個人身份資訊。",content1:"歡迎您使用我們的服務！我們非常重視您的隱私權保護，特此說明自學2.0(以下簡稱本平台)的互助旗內容是完全公開的。程式並會需要您的Email以登錄，請選擇您方便公開的Email。",content2:"使用本服務時，請您謹慎考慮哪些資訊是您願意公開於網路上。我們鼓勵您只分享您願意讓他人知道的資訊。",content3:"為了您的資料安全，本平台提供了資料下載備份的選項。您可以隨時下載您的互助旗資料，以便於自行管理和備份。您也可以在登入後刪除您自己的旗幟。",cc_is:"創用授權",cc_content1:"您於本平台上的互助旗，均以創用授權CC-BY-ND公開於網路。這意味著您授權他人自由分享和傳播您的內容，但不得對其進行修改，並且必須給予適當的署名。",cc_content2:"CC BY-ND授權條款的詳細說明",cc_content3:"CC BY-ND（署名-禁止演繹）是一種創作共用授權條款，允許他人以任何形式和任何目的再利用您的作品，但有兩個條件：",cc_by_is:"署名（BY）：",cc_content4:"使用您的作品時，必須給予您適當的署名，提供作品的名稱，並指出是否對作品進行了修改。具體的署名方式可以由您自行決定。",cc_nd_is:"禁止演繹（ND）：",cc_content5:"使用者不能對您的作品進行任何修改，改編或以其他方式創作衍生作品。",cc_content6:"這意味著他人可以自由分享您的作品，但必須保持作品的完整性，並且必須按照您指定的方式進行署名。",seculity_download_is:"數據安全和下載備份",seculity_download_content1:"我們提供資料下載備份的選項，讓您可以隨時下載並管理您的互助旗資料。請定期下載備份，以確保您的資料安全。",manager_right_is:"管理員權利",manage_content1:"若遇到特殊情況，例如用戶兩年以及未更新旗幟或是出現明顯冒犯性語言等問題，自學2.0管理員保有移除互助旗之權利，但管理員仍需遵守創用授權，不得局部修改用戶之互助旗。",contactus:"聯絡我們",contact_manager:"如果您對於隱私權政策有任何疑問或建議，請隨時聯絡我們。管理員聯絡方式如下：",download_backup:"下載我的備份",lg_download_backup:"登入以下載備份"}};const st=[{path:"/",name:"home",component:nt},{path:"/qr/:uid",name:"qr",component:()=>o.e(998).then(o.bind(o,8547))},{path:"/about",name:"about",component:()=>o.e(594).then(o.bind(o,9387))},{path:"/privacy-policy",name:"privacy-policy",component:()=>o.e(928).then(o.bind(o,6212))},{path:"/profile",name:"profile",component:()=>Promise.all([o.e(886),o.e(138)]).then(o.bind(o,2907))},{path:"/flag/:uid",name:"Flag",component:()=>o.e(5).then(o.bind(o,8976))},{path:"/friends",name:"friends",component:()=>o.e(594).then(o.bind(o,2134))},{path:"/maps",name:"maps",component:()=>Promise.all([o.e(886),o.e(522)]).then(o.bind(o,5073))},{path:"/groups",name:"groups",component:()=>o.e(583).then(o.bind(o,5119))},{path:"/group/:idx",name:"group",component:()=>o.e(583).then(o.bind(o,5400))},{path:"/book",name:"book",component:()=>o.e(952).then(o.bind(o,295))}],rt=(0,Be.aE)({history:(0,Be.Bt)(),routes:st}),ct=(0,it.hU)({locale:localStorage.getItem("lang")||"zh",fallbackLocale:localStorage.getItem("lang")||"zh",globalInjection:!0,legacy:!1,messages:{zh:lt,en:at}}),ut=(0,n.Ef)($e);ut.use(rt),ut.use(ct),ut.mount("#app")},9034:function(e,t){t.A={methods:{part(e){return String(e).substring(0,100)},toAge(e){const t=(new Date).getFullYear();return t-parseInt(e)},highlight(e,t){if(!e)return"";if(e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"),e=e.replace(/&lt;\s*br\/?\s*&gt;/g,"<br/>"),!t)return e;if(t.startsWith("$"))return e;const o=t.split(/\s+/g);for(const n of o)e=e.replace(new RegExp(n,"gi"),'<span class="highlightedText">$&</span>');return e},getIcon(e){return e&&e.photoURL?e.photoURL:e&&e.name?`https://www.moedict.tw/${e.name}.png`:"https://www.moedict.tw/unknown.png"},countDateDiff(e){if(!e)return"";const t=new Date(e);return t.toLocaleDateString()},makeHref(e){if(!e)return"";let t=String(e);return t.startsWith("http://")||t.startsWith("https://")||(t="http://"+t),t.replace("https://","")},badAge(e){if(!e)return!1;const t=(new Date).getFullYear(),o=t-parseInt(e);return isNaN(o)},isValid(e){return e&&e.name&&e.share&&e.learner_habit&&e.note&&e.address&&!("undefined,undefined"===e.latlngColumn)&&!("36.778261,-119.4179324"===e.latlngColumn)&&e.connect_me},asValid(e){return e&&e.name&&e.note&&e.note.length>=20&&e.address&&!("undefined,undefined"===e.latlngColumn)&&!("36.778261,-119.4179324"===e.latlngColumn)},searchBy(e,t){const o=Object.keys(e),n=o.map((t=>e[t]));if(!n)return[];t||(t="");const i=t.split(/[\s&]+/g);let a=n;for(const l of i){let e,t;[e,t]=l.split(/[~-]/),l.match(/(\d+)[~-](\d+)/)?a=a.filter((o=>(this.toAge(o.learner_birth)<=Number(t)&&this.toAge(o.learner_birth))>=e||this.toAge(o.child_birth)<=Number(t)&&this.toAge(o.child_birth)>=e||this.toAge(o.child_birth2)<=Number(t)&&this.toAge(o.child_birth2)>=e)):l.match(/(\d+)\+/)?(e=l.split("+")[0],a=a.filter((t=>this.toAge(t.learner_birth)>=Number(e)||this.toAge(t.child_birth)>=Number(e)||this.toAge(t.child_birth2)>=Number(e)))):l.match(/(\d+)-/)?(t=l.split("-")[0],a=a.filter((e=>this.toAge(e.learner_birth)<=Number(t)||this.toAge(e.child_birth)<=Number(t)||this.toAge(e.child_birth2)<=Number(t)))):a=a.filter((e=>!!e.name&&(e.name+e.address+e.note+e.freetime+e.learner_habit+e.share+e.ask+e.id).includes(l)))}return a.sort(((e,t)=>(e.lastUpdate||(e.lastUpdate=0),t.lastUpdate||(t.lastUpdate=0),t.lastUpdate-e.lastUpdate))),a}}}},242:function(e,t,o){o.d(t,{A:function(){return xe}});var n=o(6768),i=o(4232),a=o(5130);const l=e=>((0,n.Qi)("data-v-43a96df1"),e=e(),(0,n.jt)(),e),s={class:"hello"},r={class:"image"},c={class:"ui header"},u=["src"],d={key:0},h=["innerHTML"],p={key:1},g={key:2},f={key:3},m={class:"content"},k={class:"description gray"},b=["innerHTML"],y=["innerHTML"],v=["innerHTML"],_=["innerHTML"],L=["innerHTML"],w={key:0,class:"content"},C=l((()=>(0,n.Lk)("div",{class:"ui divider"},null,-1))),A={key:0,class:"descrtpion"},E={key:1,class:"descrtpion"},M={key:2,class:"descrtpion"},F={class:"content"},W=l((()=>(0,n.Lk)("div",{class:"ui divider"},null,-1))),S={key:0},T=["src"],X=l((()=>(0,n.Lk)("i",{class:"right arrow icon"},null,-1))),G={key:1},$=["src"],B=l((()=>(0,n.Lk)("i",{class:"right arrow icon"},null,-1))),U={class:"content"},I=l((()=>(0,n.Lk)("div",{class:"ui divider"},null,-1))),x={key:0,class:"descrtpion"},D=["innerHTML"],H=l((()=>(0,n.Lk)("br",null,null,-1))),R={key:1,class:"descrtpion"},N=["innerHTML"],Q=l((()=>(0,n.Lk)("br",null,null,-1))),O=["to"],q={class:"image"},j={class:"ui header"},P=["src"],Y={key:0},K=["innerHTML"],z={key:1},V={key:2},Z={key:3},J={class:"content"},ee={class:"description gray"},te=["innerHTML"],oe=["innerHTML"],ne=["innerHTML"],ie=["innerHTML"],ae=["innerHTML"],le={key:0,class:"content"},se=l((()=>(0,n.Lk)("div",{class:"ui divider"},null,-1))),re={key:0,class:"descrtpion"},ce={key:1,class:"descrtpion"},ue={key:2,class:"descrtpion"},de={class:"content"},he=l((()=>(0,n.Lk)("div",{class:"ui divider"},null,-1))),pe={key:0},ge=["src"],fe=l((()=>(0,n.Lk)("i",{class:"right arrow icon"},null,-1))),me={key:1},ke=["src"],be=l((()=>(0,n.Lk)("i",{class:"right arrow icon"},null,-1))),ye={class:"content"},ve=l((()=>(0,n.Lk)("div",{class:"ui divider"},null,-1))),_e={key:0,class:"descrtpion"},Le=["innerHTML"],we=l((()=>(0,n.Lk)("br",null,null,-1))),Ce={key:1,class:"descrtpion"},Ae=["innerHTML"],Ee=l((()=>(0,n.Lk)("br",null,null,-1))),Me=l((()=>(0,n.Lk)("div",{class:"filler"},null,-1))),Fe=l((()=>(0,n.Lk)("i",{class:"book icon"},null,-1))),We=l((()=>(0,n.Lk)("i",{class:"book icon"},null,-1))),Se=l((()=>(0,n.Lk)("i",{class:"map icon"},null,-1))),Te=l((()=>(0,n.Lk)("i",{class:"share square icon"},null,-1))),Xe=l((()=>(0,n.Lk)("i",{class:"qrcode icon"},null,-1)));function Ge(e,t,o,l,Ge,$e){const Be=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("div",s,[e.clickable?((0,n.uX)(),(0,n.Wv)(Be,{key:0,to:"/flag/"+(e.h.uid||e.h.idx)},{default:(0,n.k6)((()=>[(0,n.Lk)("div",r,[(0,n.Lk)("h3",c,[(0,n.Lk)("img",{class:"main",src:e.getIcon(e.h),alt:"^_^"},null,8,u),(0,n.eW)((0,i.v_)(e.h.name),1),e.h.learner_birth?((0,n.uX)(),(0,n.CE)("span",d,[(0,n.eW)("-"),(0,n.Lk)("span",{innerHTML:e.toAge(e.h.learner_birth)},null,8,h),(0,n.eW)("歲")])):(0,n.Q3)("",!0),e.h.child_birth?((0,n.uX)(),(0,n.CE)("span",p,"(孩子約")):(0,n.Q3)("",!0),e.h.child_birth2?((0,n.uX)(),(0,n.CE)("span",g,(0,i.v_)(e.toAge(e.h.child_birth2))+" ~",1)):(0,n.Q3)("",!0),e.h.child_birth?((0,n.uX)(),(0,n.CE)("span",f,(0,i.v_)(e.toAge(e.h.child_birth))+" 歲)",1)):(0,n.Q3)("",!0)])]),(0,n.Lk)("div",m,[(0,n.Lk)("p",k,[(0,n.Lk)("span",{innerHTML:e.highlight(e.h.address,e.mySearch)},null,8,b),(0,n.eW)("   - "+(0,i.v_)(e.countDateDiff(e.h.lastUpdate))+"已更新",1)]),e.h.learner_habit?((0,n.uX)(),(0,n.CE)("p",{key:0,class:"description",innerHTML:"興趣： "+e.highlight(e.h.learner_habit,e.mySearch)},null,8,y)):(0,n.Q3)("",!0),e.h.share?((0,n.uX)(),(0,n.CE)("p",{key:1,class:"description",innerHTML:"可分享： "+e.highlight(e.h.share,e.mySearch)},null,8,v)):(0,n.Q3)("",!0),e.h.ask?((0,n.uX)(),(0,n.CE)("p",{key:2,class:"description",innerHTML:"尋找： "+e.highlight(e.h.ask,e.mySearch)},null,8,_)):(0,n.Q3)("",!0),e.h.price?((0,n.uX)(),(0,n.CE)("p",{key:3,class:"description",innerHTML:"可支付： "+e.highlight(e.h.price,e.mySearch)},null,8,L)):(0,n.Q3)("",!0)]),e.h.connect_me&&e.full?((0,n.uX)(),(0,n.CE)("div",w,[C,e.isEmail(e.h.connect_me)?((0,n.uX)(),(0,n.CE)("p",A,[(0,n.eW)("可點擊的email連絡方式： "),(0,n.Lk)("a",{onClick:t[0]||(t[0]=(0,a.D$)((t=>e.gotoMail(e.h.connect_me)),["stop"]))},(0,i.v_)(e.h.connect_me),1)])):((0,n.uX)(),(0,n.CE)("p",E,"連絡方式： "+(0,i.v_)(e.h.connect_me),1)),e.h.freetime?((0,n.uX)(),(0,n.CE)("p",M,"有空時間： "+(0,i.v_)(e.h.freetime),1)):(0,n.Q3)("",!0)])):(0,n.Q3)("",!0),(0,n.Lk)("div",F,[W,e.h.site?((0,n.uX)(),(0,n.CE)("p",S,[(0,n.Lk)("a",{onClick:t[1]||(t[1]=(0,a.D$)((t=>e.goto(e.h.site)),["stop"]))},[(0,n.eW)("個人網址："),(0,n.Lk)("img",{src:"https://www.google.com/s2/favicons?domain="+e.h.site,title:"個人網址",alt:"個人網址"},null,8,T),X])])):(0,n.Q3)("",!0),e.h.site2?((0,n.uX)(),(0,n.CE)("p",G,[(0,n.Lk)("a",{onClick:t[2]||(t[2]=(0,a.D$)((t=>e.goto(e.h.site2)),["stop"]))},[(0,n.eW)("社群網址："),(0,n.Lk)("img",{src:"https://www.google.com/s2/favicons?domain="+e.h.site2,title:"社群網址",alt:"個人網址"},null,8,$),B])])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",U,[I,e.full?((0,n.uX)(),(0,n.CE)("p",R,[(0,n.Lk)("span",{class:"text",innerHTML:e.highlight(e.h.note,e.mySearch)},null,8,N),Q])):((0,n.uX)(),(0,n.CE)("p",x,[(0,n.Lk)("span",{class:"text",innerHTML:e.highlight(e.part(e.h.note),e.mySearch)+"..."},null,8,D),H]))])])),_:1},8,["to"])):((0,n.uX)(),(0,n.CE)("div",{key:1,to:"/flag/"+(e.h.uid||e.h.idx)},[(0,n.Lk)("div",q,[(0,n.Lk)("h3",j,[(0,n.Lk)("img",{class:"main",src:e.getIcon(e.h),alt:"^_^"},null,8,P),(0,n.eW)((0,i.v_)(e.h.name),1),e.h.learner_birth?((0,n.uX)(),(0,n.CE)("span",Y,[(0,n.eW)("-"),(0,n.Lk)("span",{innerHTML:e.toAge(e.h.learner_birth)},null,8,K),(0,n.eW)("歲")])):(0,n.Q3)("",!0),e.h.child_birth?((0,n.uX)(),(0,n.CE)("span",z,"(孩子約")):(0,n.Q3)("",!0),e.h.child_birth2?((0,n.uX)(),(0,n.CE)("span",V,(0,i.v_)(e.toAge(e.h.child_birth2))+" ~",1)):(0,n.Q3)("",!0),e.h.child_birth?((0,n.uX)(),(0,n.CE)("span",Z,(0,i.v_)(e.toAge(e.h.child_birth))+" 歲)",1)):(0,n.Q3)("",!0)])]),(0,n.Lk)("div",J,[(0,n.Lk)("p",ee,[(0,n.Lk)("span",{innerHTML:e.highlight(e.h.address,e.mySearch)},null,8,te),(0,n.eW)("   - "+(0,i.v_)(e.countDateDiff(e.h.lastUpdate))+"已更新",1)]),e.h.learner_habit?((0,n.uX)(),(0,n.CE)("p",{key:0,class:"description",innerHTML:"興趣： "+e.highlight(e.h.learner_habit,e.mySearch)},null,8,oe)):(0,n.Q3)("",!0),e.h.share?((0,n.uX)(),(0,n.CE)("p",{key:1,class:"description",innerHTML:"可分享： "+e.highlight(e.h.share,e.mySearch)},null,8,ne)):(0,n.Q3)("",!0),e.h.ask?((0,n.uX)(),(0,n.CE)("p",{key:2,class:"description",innerHTML:"尋找： "+e.highlight(e.h.ask,e.mySearch)},null,8,ie)):(0,n.Q3)("",!0),e.h.price?((0,n.uX)(),(0,n.CE)("p",{key:3,class:"description",innerHTML:"可支付： "+e.highlight(e.h.price,e.mySearch)},null,8,ae)):(0,n.Q3)("",!0)]),e.h.connect_me&&e.full?((0,n.uX)(),(0,n.CE)("div",le,[se,e.isEmail(e.h.connect_me)?((0,n.uX)(),(0,n.CE)("p",re,[(0,n.eW)("可點擊的email連絡方式： "),(0,n.Lk)("a",{onClick:t[3]||(t[3]=(0,a.D$)((t=>e.gotoMail(e.h.connect_me)),["stop"]))},(0,i.v_)(e.h.connect_me),1)])):((0,n.uX)(),(0,n.CE)("p",ce,"連絡方式： "+(0,i.v_)(e.h.connect_me),1)),e.h.freetime?((0,n.uX)(),(0,n.CE)("p",ue,"有空時間： "+(0,i.v_)(e.h.freetime),1)):(0,n.Q3)("",!0)])):(0,n.Q3)("",!0),(0,n.Lk)("div",de,[he,e.h.site?((0,n.uX)(),(0,n.CE)("p",pe,[(0,n.Lk)("a",{onClick:t[4]||(t[4]=(0,a.D$)((t=>e.goto(e.h.site)),["stop"]))},[(0,n.eW)("個人網址："),(0,n.Lk)("img",{src:"https://www.google.com/s2/favicons?domain="+e.h.site,title:"個人網址",alt:"個人網址"},null,8,ge),fe])])):(0,n.Q3)("",!0),e.h.site2?((0,n.uX)(),(0,n.CE)("p",me,[(0,n.Lk)("a",{onClick:t[5]||(t[5]=(0,a.D$)((t=>e.goto(e.h.site2)),["stop"]))},[(0,n.eW)("社群網址："),(0,n.Lk)("img",{src:"https://www.google.com/s2/favicons?domain="+e.h.site2,title:"社群網址",alt:"個人網址"},null,8,ke),be])])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",ye,[ve,e.full?((0,n.uX)(),(0,n.CE)("p",Ce,[(0,n.Lk)("span",{class:"text",innerHTML:e.highlight(e.h.note,e.mySearch)},null,8,Ae),Ee])):((0,n.uX)(),(0,n.CE)("p",_e,[(0,n.Lk)("span",{class:"text",innerHTML:e.highlight(e.part(e.h.note),e.mySearch)+"..."},null,8,Le),we]))])],8,O)),Me,(0,n.Lk)("div",{class:(0,i.C4)(["ui bottom attached stackable buttons",{vertical:!e.full||e.thin}])},[!e.uid||e.book&&-1!=e.book.indexOf(e.h.uid||e.h.idx)?e.uid&&e.book&&e.book.indexOf(e.h.uid||e.h.idx)>-1?((0,n.uX)(),(0,n.CE)("div",{key:1,class:"ui red button",onClick:t[7]||(t[7]=t=>e.removeBook(e.book.indexOf(e.h.uid||e.h.idx)))},[We,(0,n.eW)("從名簿移除")])):(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("div",{key:0,class:"ui green button",onClick:t[6]||(t[6]=t=>e.addBook(e.h.uid||e.h.idx))},[Fe,(0,n.eW)("登入名簿")])),(0,n.Lk)("div",{class:"ui purple button",onClick:t[8]||(t[8]=t=>e.locate(e.h,!0))},[Se,(0,n.eW)("地圖檢視")]),(0,n.Lk)("div",{class:"ui blue button",onClick:t[9]||(t[9]=t=>e.copyFlagURL(e.h.uid))},[Te,(0,n.eW)("分享名片")]),(0,n.bF)(Be,{class:"ui teal button",to:"/qr/"+e.h.uid},{default:(0,n.k6)((()=>[Xe,(0,n.eW)("顯示QR碼 ")])),_:1},8,["to"])],2)])}var $e=o(9034),Be=(0,n.pM)({name:"NameCard",mixins:[$e.A],props:{h:{type:Object,required:!0},mySearch:{type:String,required:!1,default:()=>""},full:{type:Boolean,required:!1,default:()=>!1},uid:{type:String,required:!1,default:()=>""},book:{type:Array,required:!1,default:()=>[]},clickable:{type:Boolean,required:!1,default:()=>!0}},data(){return{thin:window.innerWidth<720}},methods:{isEmail(e){const t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return t.test(e)},goto(e){e.startsWith("http://")||e.startsWith("https://")||(e="https://"+e),window.open(e)},locate:function(e,t){console.log(e),this.$emit("locate",e,t)},addBook:function(e){console.log(e),this.$emit("addBook",e)},removeBook:function(e){console.log(e),this.$emit("removeBook",e)},gotoMail(e){window.location.href=`mailto:${e}`},loginGoogle:function(){this.$emit("loginGoogle")},copyFlagURL(e){if(!document.hasFocus())return void alert("Document does not have focus, cannot copy link.");const t="https://we.alearn.org.tw/#/flag/"+e;navigator.clipboard.writeText(t).then((()=>{window.alert("已複製該名片")})).catch((e=>{console.error("無法複製該名片",e)})),this.$forceUpdate()}}}),Ue=o(1241);const Ie=(0,Ue.A)(Be,[["render",Ge],["__scopeId","data-v-43a96df1"]]);var xe=Ie},2119:function(e,t,o){o.d(t,{A:function(){return h}});var n=o(6768),i=o(4232);const a={class:"hello"},l={class:"ui active inverted dimmer"},s={class:"ui big text loader"};function r(e,t,o,r,c,u){return(0,n.uX)(),(0,n.CE)("div",a,[(0,n.Lk)("div",l,[(0,n.Lk)("div",s,[(0,n.Lk)("b",null,(0,i.v_)(e.myHint),1)])])])}var c=(0,n.pM)({name:"LoaderComponent",data(){return{hints:["歡迎所有願意分享互助的朋友參與。","地圖的左上角有 + , - 鍵可以放大和縮小。","登入平台時，請拖曳地圖上的標記到正確位置。","「分享」和「尋找」之間可以相互配對。","地圖介面讓您能夠根據地理位置就近尋找夥伴。","請不要在互助旗上放置過於完整的個人資訊。","建立自己的名簿，方便下次查找特定的朋友。","Andriod手機上點選「安裝應用程式」可以安裝自學2.0","iOS手機上點選「新增至主畫面」可以安裝自學2.0"],myHint:"地圖介面讓您能夠根據地理位置就近尋找夥伴。"}},mounted(){this.myHint=this.hints[Math.floor(Math.random()*this.hints.length)]},methods:{}}),u=o(1241);const d=(0,u.A)(c,[["render",r],["__scopeId","data-v-afe07500"]]);var h=d},1501:function(e,t,o){e.exports=o.p+"img/handshake1.c81ff127.webp"}},t={};function o(n){var i=t[n];if(void 0!==i)return i.exports;var a=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(a.exports,a,a.exports,o),a.loaded=!0,a.exports}o.m=e,function(){var e=[];o.O=function(t,n,i,a){if(!n){var l=1/0;for(u=0;u<e.length;u++){n=e[u][0],i=e[u][1],a=e[u][2];for(var s=!0,r=0;r<n.length;r++)(!1&a||l>=a)&&Object.keys(o.O).every((function(e){return o.O[e](n[r])}))?n.splice(r--,1):(s=!1,a<l&&(l=a));if(s){e.splice(u--,1);var c=i();void 0!==c&&(t=c)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[n,i,a]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){o.f={},o.e=function(e){return Promise.all(Object.keys(o.f).reduce((function(t,n){return o.f[n](e,t),t}),[]))}}(),function(){o.u=function(e){return"js/"+({5:"flag",138:"profile",522:"maps",583:"groups",594:"about",928:"privacy-policy",952:"book",998:"qr"}[e]||e)+"."+{5:"ec454913",138:"bac8e259",522:"09bfd3ba",583:"b3f8435f",594:"6d914579",886:"54748357",928:"5dc0b6de",952:"6ef90e1f",998:"9744bb99"}[e]+".js"}}(),function(){o.miniCssF=function(e){return"css/"+{5:"flag",138:"profile",522:"maps",583:"groups",594:"about",928:"privacy-policy",952:"book",998:"qr"}[e]+"."+{5:"4e5993e3",138:"1e74bfea",522:"5fa7a45c",583:"1b6bf20c",594:"0bfdea1f",928:"7f4fe48c",952:"8da445d2",998:"b7c52485"}[e]+".css"}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="auto20-next:";o.l=function(n,i,a,l){if(e[n])e[n].push(i);else{var s,r;if(void 0!==a)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+a){s=d;break}}s||(r=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,o.nc&&s.setAttribute("nonce",o.nc),s.setAttribute("data-webpack",t+a),s.src=n),e[n]=[i];var h=function(t,o){s.onerror=s.onload=null,clearTimeout(p);var i=e[n];if(delete e[n],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(o)})),t)return t(o)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),r&&document.head.appendChild(s)}}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){o.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){o.p="/"}(),function(){if("undefined"!==typeof document){var e=function(e,t,n,i,a){var l=document.createElement("link");l.rel="stylesheet",l.type="text/css",o.nc&&(l.nonce=o.nc);var s=function(o){if(l.onerror=l.onload=null,"load"===o.type)i();else{var n=o&&o.type,s=o&&o.target&&o.target.href||t,r=new Error("Loading CSS chunk "+e+" failed.\n("+n+": "+s+")");r.name="ChunkLoadError",r.code="CSS_CHUNK_LOAD_FAILED",r.type=n,r.request=s,l.parentNode&&l.parentNode.removeChild(l),a(r)}};return l.onerror=l.onload=s,l.href=t,n?n.parentNode.insertBefore(l,n.nextSibling):document.head.appendChild(l),l},t=function(e,t){for(var o=document.getElementsByTagName("link"),n=0;n<o.length;n++){var i=o[n],a=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(a===e||a===t))return i}var l=document.getElementsByTagName("style");for(n=0;n<l.length;n++){i=l[n],a=i.getAttribute("data-href");if(a===e||a===t)return i}},n=function(n){return new Promise((function(i,a){var l=o.miniCssF(n),s=o.p+l;if(t(l,s))return i();e(n,s,null,i,a)}))},i={524:0};o.f.miniCss=function(e,t){var o={5:1,138:1,522:1,583:1,594:1,928:1,952:1,998:1};i[e]?t.push(i[e]):0!==i[e]&&o[e]&&t.push(i[e]=n(e).then((function(){i[e]=0}),(function(t){throw delete i[e],t})))}}}(),function(){var e={524:0};o.f.j=function(t,n){var i=o.o(e,t)?e[t]:void 0;if(0!==i)if(i)n.push(i[2]);else{var a=new Promise((function(o,n){i=e[t]=[o,n]}));n.push(i[2]=a);var l=o.p+o.u(t),s=new Error,r=function(n){if(o.o(e,t)&&(i=e[t],0!==i&&(e[t]=void 0),i)){var a=n&&("load"===n.type?"missing":n.type),l=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+l+")",s.name="ChunkLoadError",s.type=a,s.request=l,i[1](s)}};o.l(l,r,"chunk-"+t,t)}},o.O.j=function(t){return 0===e[t]};var t=function(t,n){var i,a,l=n[0],s=n[1],r=n[2],c=0;if(l.some((function(t){return 0!==e[t]}))){for(i in s)o.o(s,i)&&(o.m[i]=s[i]);if(r)var u=r(o)}for(t&&t(n);c<l.length;c++)a=l[c],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(u)},n=self["webpackChunkauto20_next"]=self["webpackChunkauto20_next"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=o.O(void 0,[504],(function(){return o(3780)}));n=o.O(n)})();
//# sourceMappingURL=app.9e1031c5.js.map