"use strict";(self["webpackChunkauto20_next"]=self["webpackChunkauto20_next"]||[]).push([[594],{9387:function(t,e,o){o.r(e),o.d(e,{default:function(){return q}});var s=o(6768),a=o(4232),n=o(1501),l=o.p+"img/map1.1c12248b.webp";const i=t=>((0,s.Qi)("data-v-88ab0c06"),t=t(),(0,s.jt)(),t),r={class:"hello"},u={class:"ui header"},c=i((()=>(0,s.Lk)("img",{src:n,alt:"互助互惠"},null,-1))),h=i((()=>(0,s.Lk)("img",{src:n,alt:"互助互惠"},null,-1))),d={class:"ui grid container"},_={class:"ui two column stackable row"},b={class:"ui padded segment column"},g={class:"ui header"},k={class:"ui header"},p={href:"http://www.alearn.org.tw",target:"_blank"},v={class:"ui header"},L=i((()=>(0,s.Lk)("i",{class:"chevron right icon"},null,-1))),m={class:"ui header"},f={class:"ui header"},$={class:"ui header"},C=i((()=>(0,s.Lk)("i",{class:"chevron right icon"},null,-1))),w={class:"ui header"},y={class:"ui header"},M=i((()=>(0,s.Lk)("i",{class:"chevron right icon"},null,-1))),W={class:"ui header"},T={class:"ui padded segment column"},E=i((()=>(0,s.Lk)("img",{src:l},null,-1))),A={class:"ui header"},U=i((()=>(0,s.Lk)("i",{class:"chevron right icon"},null,-1))),X={class:"ui header"},D={class:"ui header"},F=i((()=>(0,s.Lk)("i",{class:"chevron right icon"},null,-1))),O={class:"ui header"},S={href:"https://github.com/3dw/auto20-next/issues"},B=i((()=>(0,s.Lk)("i",{class:"chevron right icon"},null,-1))),N={class:"ui header"},G={href:"https://github.com/3dw/github-tutorial/blob/main/README.md"},z=i((()=>(0,s.Lk)("i",{class:"chevron right icon"},null,-1)));function I(t,e){const o=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("div",r,[(0,s.Lk)("h1",u,[c,(0,s.eW)((0,a.v_)(t.$t("about.intro")),1),h]),(0,s.Lk)("div",d,[(0,s.Lk)("div",_,[(0,s.Lk)("div",b,[(0,s.Lk)("h2",g,(0,a.v_)(t.$t("about.what_is_auto20")),1),(0,s.Lk)("p",null,[(0,s.Lk)("b",null,(0,a.v_)(t.$t("about.auto20")),1),(0,s.eW)((0,a.v_)(t.$t("about.intro_1")),1)]),(0,s.Lk)("p",null,[(0,s.Lk)("b",null,(0,a.v_)(t.$t("about.al")),1),(0,s.eW)((0,a.v_)(t.$t("about.intro_2")),1)]),(0,s.Lk)("p",null,(0,a.v_)(t.$t("about.intro_3")),1),(0,s.Lk)("h2",k,(0,a.v_)(t.$t("about.auto20_by")),1),(0,s.Lk)("p",null,[(0,s.eW)((0,a.v_)(t.$t("about.auto20_by_content1")),1),(0,s.Lk)("a",p,(0,a.v_)(t.$t("about.auto20_by_content2")),1),(0,s.eW)((0,a.v_)(t.$t("about.auto20_by_content3")),1)]),(0,s.Lk)("h2",v,(0,a.v_)(t.$t("about.card_flag")),1),(0,s.Lk)("p",null,[(0,s.Lk)("b",null,(0,a.v_)(t.$t("about.card_name")),1),(0,s.eW)((0,a.v_)(t.$t("about.card_content1")),1)]),(0,s.Lk)("p",null,(0,a.v_)(t.$t("about.flag_content1")),1),(0,s.Lk)("p",null,(0,a.v_)(t.$t("about.card_content2")),1),(0,s.Lk)("p",null,(0,a.v_)(t.$t("about.qrcode_content1")),1),(0,s.Lk)("p",null,[(0,s.bF)(o,{to:"/profile"},{default:(0,s.k6)((()=>[(0,s.eW)((0,a.v_)(t.$t("about.raise_flag")),1)])),_:1}),L]),(0,s.Lk)("h2",m,(0,a.v_)(t.$t("about.card_flag_tip")),1),(0,s.Lk)("p",null,(0,a.v_)(t.$t("about.card_flag_tip_content")),1),(0,s.Lk)("h2",f,(0,a.v_)(t.$t("about.flag_update1")),1),(0,s.Lk)("p",null,(0,a.v_)(t.$t("about.flag_update_content")),1),(0,s.Lk)("h2",$,(0,a.v_)(t.$t("about.flag_content2")),1),(0,s.Lk)("p",null,[(0,s.eW)((0,a.v_)(t.$t("about.flag_content3")),1),(0,s.bF)(o,{to:"privacy-policy"},{default:(0,s.k6)((()=>[(0,s.eW)((0,a.v_)(t.$t("login.pr")),1),C])),_:1}),(0,s.eW)((0,a.v_)(t.$t("about.flag_content4")),1)]),(0,s.Lk)("h2",w,(0,a.v_)(t.$t("about.flag_update2")),1),(0,s.Lk)("p",null,(0,a.v_)(t.$t("about.flag_content5")),1),(0,s.Lk)("h2",y,(0,a.v_)(t.$t("about.flag_download")),1),(0,s.Lk)("p",null,(0,a.v_)(t.$t("about.flag_content6")),1),(0,s.Lk)("p",null,[(0,s.bF)(o,{to:"privacy-policy"},{default:(0,s.k6)((()=>[(0,s.eW)((0,a.v_)(t.$t("about.pr_go")),1),M])),_:1})]),(0,s.Lk)("h2",W,(0,a.v_)(t.$t("about.flag_remove")),1),(0,s.Lk)("p",null,(0,a.v_)(t.$t("about.flag_content7")),1)]),(0,s.Lk)("div",T,[E,(0,s.Lk)("h2",A,(0,a.v_)(t.$t("about.map_is")),1),(0,s.Lk)("p",null,(0,a.v_)(t.$t("about.map_content1")),1),(0,s.Lk)("p",null,[(0,s.bF)(o,{to:"/maps"},{default:(0,s.k6)((()=>[(0,s.eW)((0,a.v_)(t.$t("about.map_go")),1),U])),_:1})]),(0,s.Lk)("h2",X,(0,a.v_)(t.$t("about.directory_is")),1),(0,s.Lk)("p",null,[(0,s.Lk)("b",null,(0,a.v_)(t.$t("login.bk")),1),(0,s.eW)((0,a.v_)(t.$t("about.directory_content1")),1)]),(0,s.Lk)("h2",D,(0,a.v_)(t.$t("about.group_is")),1),(0,s.Lk)("p",null,[(0,s.Lk)("b",null,(0,a.v_)(t.$t("login.gp")),1),(0,s.eW)((0,a.v_)(t.$t("about.group_content1")),1)]),(0,s.Lk)("p",null,[(0,s.bF)(o,{to:"/groups"},{default:(0,s.k6)((()=>[(0,s.eW)((0,a.v_)(t.$t("about.group_go")),1),F])),_:1})]),(0,s.Lk)("h2",O,(0,a.v_)(t.$t("about.bugreport_is")),1),(0,s.Lk)("p",null,[(0,s.Lk)("b",null,(0,a.v_)(t.$t("about.auto20")),1),(0,s.eW)((0,a.v_)(t.$t("about.bugreport_content1")),1)]),(0,s.Lk)("p",null,(0,a.v_)(t.$t("about.bugreport_content2")),1),(0,s.Lk)("p",null,[(0,s.Lk)("a",S,[(0,s.eW)((0,a.v_)(t.$t("about.bugreport_go")),1),B])]),(0,s.Lk)("h2",N,(0,a.v_)(t.$t("about.github_is")),1),(0,s.Lk)("p",null,(0,a.v_)(t.$t("about.github_content1")),1),(0,s.Lk)("p",null,[(0,s.Lk)("a",G,[(0,s.eW)((0,a.v_)(t.$t("about.github_go")),1),z])])])])])])}var j=o(1241);const x={},V=(0,j.A)(x,[["render",I],["__scopeId","data-v-88ab0c06"]]);var q=V},2134:function(t,e,o){o.r(e),o.d(e,{default:function(){return A}});var s=o(6768),a=o(5130),n=o(4232);const l=t=>((0,s.Qi)("data-v-c25ac6ae"),t=t(),(0,s.jt)(),t),i={class:"hello"},r={key:0,class:"ui row"},u={class:"sixteen wide column"},c={class:"ui huge buttons"},h=l((()=>(0,s.Lk)("i",{class:"google icon"},null,-1))),d=l((()=>(0,s.Lk)("option",{value:"newest"},"最近更新",-1))),_={value:"nearest"},b={value:"learner_habit_nearst"},g={value:"ask_match_share"},k={value:"share_match_ask"},p=l((()=>(0,s.Lk)("option",{value:"random"},"隨機介紹",-1))),v={key:0,value:"age_nearest"},L=["value"],m=l((()=>(0,s.Lk)("br",null,null,-1))),f=l((()=>(0,s.Lk)("div",{class:"ui divider"},null,-1))),$=l((()=>(0,s.Lk)("br",null,null,-1)));function C(t,e,o,l,C,w){const y=(0,s.g2)("loader"),M=(0,s.g2)("card");return(0,s.uX)(),(0,s.CE)("div",i,[t.uid||t.users&&0!=t.toList(t.users).length?t.users&&0!=t.toList(t.users).length?(0,s.bo)(((0,s.uX)(),(0,s.CE)("select",{key:2,class:"ui dropdown","onUpdate:modelValue":e[1]||(e[1]=e=>t.logic=e)},[d,(0,s.bo)((0,s.Lk)("option",_,"離我最近",512),[[a.aG,t.userLocation||t.uid&&t.users[t.uid]]]),(0,s.bo)((0,s.Lk)("option",b,"興趣相仿",512),[[a.aG,t.uid&&t.users[t.uid]&&t.users[t.uid].learner_habit]]),(0,s.bo)((0,s.Lk)("option",g,"尋找協助",512),[[a.aG,t.uid&&t.users[t.uid]&&t.users[t.uid].ask]]),(0,s.bo)((0,s.Lk)("option",k,"尋找需求者",512),[[a.aG,t.uid&&t.users[t.uid]&&t.users[t.uid].share]]),p,t.uid&&t.users[t.uid]&&t.users[t.uid].child_birth?((0,s.uX)(),(0,s.CE)("option",v,"孩子年齡相近")):(0,s.Q3)("",!0),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.cities,((t,e)=>((0,s.uX)(),(0,s.CE)("option",{value:"near_"+t.c.join(","),key:e},(0,n.v_)(t.t)+"附近",9,L)))),128))],512)),[[a.u1,t.logic]]):((0,s.uX)(),(0,s.Wv)(y,{key:1})):((0,s.uX)(),(0,s.CE)("div",r,[(0,s.Lk)("div",u,[(0,s.Lk)("div",c,[(0,s.Lk)("button",{class:"ui orange button",onClick:e[0]||(e[0]=(...e)=>t.loginGoogle&&t.loginGoogle(...e))},[h,(0,s.eW)("登入")])])])])),m,f,$,(0,s.Lk)("div",{class:"ui two doubling cards container",onScroll:e[2]||(e[2]=(...e)=>t.handleScroll&&t.handleScroll(...e)),ref:"scrollContainer"},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.visibleCards,((e,o)=>((0,s.uX)(),(0,s.CE)("div",{class:"ui card",key:o},[(0,s.bF)(M,{h:e,full:!1,mySearch:t.mySearch,book:t.book,onLocate:t.locate,onAddBook:t.addBook,onRemoveBook:t.removeBook,uid:t.uid},null,8,["h","mySearch","book","onLocate","onAddBook","onRemoveBook","uid"])])))),128))],544)])}o(3375),o(9225),o(3972),o(9209),o(5714),o(7561),o(6197);var w=o(9034),y=o(2119),M=o(242),W=(0,s.pM)({name:"FrindCards",mixins:[w.A],props:["mySearch","book","users","places","center","user","uid"],components:{Loader:y.A,Card:M.A},data(){return{n:10,busy:!1,allCards:[],logic:"random",userLocation:null,cities:[{t:"臺北市",c:[25.046337,121.517444]},{t:"新北市",c:[25.011709,121.465881],z:10},{t:"桃園市",c:[24.993923,121.30168]},{t:"臺中市",c:[24.163162,120.647828]},{t:"臺南市",c:[22.991235,120.184982]},{t:"高雄市",c:[22.627277,120.301437]},{t:"彰化縣",c:[120.4818,23.99297]},{t:"屏東縣",c:[120.62,22.54951]},{t:"雲林縣",c:[120.3897,23.75585]},{t:"苗栗縣",c:[120.9417,24.48927]},{t:"嘉義縣",c:[120.574,23.45889]},{t:"新竹縣",c:[121.1252,24.70328]},{t:"新竹市",c:[120.9647,24.80395]},{t:"基隆市",c:[121.7081,25.10898]},{t:"宜蘭縣",c:[24.69295,121.7195],z:10},{t:"南投縣",c:[23.83876,120.9876],z:10},{t:"嘉義市",c:[23.47545,120.4473],z:10},{t:"花蓮縣",c:[23.7569,121.3542],z:10},{t:"臺東縣",c:[22.98461,120.9876],z:10},{t:"澎湖縣",c:[23.56548,119.6151],z:9},{t:"連江縣",c:[119.5397,26.19737]}]}},computed:{visibleCards(){const t=this.allCards.filter((t=>{(new Date).getTime();if(isNaN(t.lastUpdate))return!1;const e=this.mySearch.toLowerCase(),o=[t.name,t.learner_habit,t.share,t.ask,t.note].some((t=>t&&t.toLowerCase().includes(e)));return o}));return t.slice(0,this.n)},list(){return this.processData(this.users)}},mounted(){console.log("Initial center in child component:"),console.log(this.center),this.allCards=this.list,this.getUserLocation()},watch:{center(t){console.log("Child component received new center:",t),this.allCards=this.processData(this.users),this.$forceUpdate()},users(t){this.allCards=this.processData(t)},logic(t){console.log(t);const e=t.match(/^near_(\d+\.\d+),(\d+\.\d+)$/);if("nearest"!==t||this.userLocation)if(e){const t=parseFloat(e[1]),o=parseFloat(e[2]);this.userLocation={lat:t,lng:o},console.log("Updated user location to:",this.userLocation),this.allCards=this.processData(this.users)}else this.allCards=this.processData(this.users);else this.getUserLocation()}},methods:{loginGoogle(){this.$emit("loginGoogle")},toList(t){return t&&"object"===typeof t?Object.values(t):[]},processData(t){const e=Object.keys(t||{}).map((e=>t[e]));if("newest"===this.logic)return e.sort(((t,e)=>(e.lastUpdate||0)-(t.lastUpdate||0)));if("random"===this.logic)return e.sort((()=>.5-Math.random()));if("nearest"===this.logic||this.logic.match(/^near_(\d+\.\d+),(\d+\.\d+)$/))return e.sort(((t,e)=>this.distanceToCenter(t.latlngColumn)-this.distanceToCenter(e.latlngColumn)));if("age_nearest"===this.logic&&this.users[this.uid]&&this.users[this.uid].child_birth){const t=new Date(this.users[this.uid].child_birth).getTime();return e.sort(((t,e)=>this.distanceToCenter(t.latlngColumn)-this.distanceToCenter(e.latlngColumn))).sort(((e,o)=>{const s=e.child_birth?new Date(e.child_birth).getTime():1/0,a=o.child_birth?new Date(o.child_birth).getTime():1/0;return Math.abs(s-t)-Math.abs(a-t)}))}if("ask_match_share"===this.logic&&this.users[this.uid]){const t=this.users[this.uid];return e.filter((t=>t.uid!==this.uid)).sort(((t,e)=>this.distanceToCenter(t.latlngColumn)-this.distanceToCenter(e.latlngColumn))).sort(((e,o)=>{const s=this.countOverlap(t.ask,e.share),a=this.countOverlap(t.ask,o.share);return a-s}))}if("share_match_ask"===this.logic&&this.users[this.uid]){const t=this.users[this.uid];return e.filter((t=>t.uid!==this.uid)).sort(((t,e)=>this.distanceToCenter(t.latlngColumn)-this.distanceToCenter(e.latlngColumn))).sort(((e,o)=>{const s=this.countOverlap(t.share,e.ask),a=this.countOverlap(t.share,o.ask);return a-s}))}if("learner_habit_nearest"===this.logic&&this.users[this.uid]){const t=this.users[this.uid];return e.filter((t=>t.uid!==this.uid)).sort(((t,e)=>this.distanceToCenter(t.latlngColumn)-this.distanceToCenter(e.latlngColumn))).sort(((e,o)=>{const s=this.countOverlap(t.learner_habit,e.learner_habit)+this.countOverlap(e.ask,t.share),a=this.countOverlap(t.learner_habit,o.learner_habit)+this.countOverlap(o.ask,t.share);return a-s}))}return e},countOverlap(t,e){if(!t||!e)return 0;const o=t.split(/[，,、\s]/g),s=e.split(/[，,、\s]/g),a=new Set(o),n=new Set(s);let l=0;return a.forEach((t=>{n.has(t)&&l++})),l},distanceToCenter(t){if(!t||2!==t.split(",").length)return console.error("Invalid latlngColumn format:",t),Number.MAX_VALUE;let[e,o]=t.split(",").map(Number);if(isNaN(e)||isNaN(o))return console.error("Cannot parse lat or lng from latlngColumn:",t),Number.MAX_VALUE;if(!this.userLocation)return Number.MAX_VALUE;const s=this.userLocation,a=t=>t*Math.PI/180,n=a(e-s.lat),l=a(o-s.lng),i=Math.sin(n/2)*Math.sin(n/2)+Math.cos(a(s.lat))*Math.cos(a(e))*Math.sin(l/2)*Math.sin(l/2),r=2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i));return 6371*r},handleScroll(){const t=this.$refs.scrollContainer;t.scrollHeight-t.scrollTop<=t.clientHeight+100&&!this.busy&&this.loadMore()},loadMore(){this.busy=!0,setTimeout((()=>{this.n<this.allCards.length&&(this.n+=10),this.busy=!1}),1e3)},locate(t,e){this.$emit("locate",t,e)},addBook(t){console.log(t),this.$emit("addBook",t)},removeBook(t){console.log(t),this.$emit("removeBook",t)},getUserLocation(){navigator.geolocation?navigator.geolocation.getCurrentPosition((t=>{const e=t.coords.latitude,o=t.coords.longitude;this.userLocation={lat:e,lng:o},console.log("User location obtained:",this.userLocation),this.allCards=this.processData(this.users)}),(t=>{console.error("Error getting user location:",t)})):console.error("Geolocation is not supported by this browser.")}}}),T=o(1241);const E=(0,T.A)(W,[["render",C],["__scopeId","data-v-c25ac6ae"]]);var A=E}}]);
//# sourceMappingURL=about.6d914579.js.map