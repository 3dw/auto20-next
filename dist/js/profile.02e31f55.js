"use strict";(self["webpackChunkauto20_next"]=self["webpackChunkauto20_next"]||[]).push([[138],{5654:function(e,o,l){l.r(o),l.d(o,{default:function(){return Qo}});var t=l(6768),i=l(4232),r=l(5130);const a=e=>((0,t.Qi)("data-v-6942fa8c"),e=e(),(0,t.jt)(),e),s={class:"hello"},n={key:0},d={key:1,class:"ui divider"},u={key:2},p={key:3},f={key:4},c={class:"ui grid"},m={key:0,class:"ui row"},h={class:"sixteen wide column"},k={class:"ui huge buttons"},v=a((()=>(0,t.Lk)("i",{class:"google icon"},null,-1))),g={key:1,class:"ui stackable two column row"},_={class:"ten wide column"},L={class:"ui fluid card container"},$={class:"six wide column"},b=a((()=>(0,t.Lk)("i",{class:"edit icon"},null,-1))),w={key:0},C={key:1},y={key:5,class:"ui container"},E={key:0,class:"ui warning message"},X={class:"header"},Q={key:0},U={class:"ui form error warning success",id:"main-form"},W={class:"ui header"},x={class:"sub header"},V=a((()=>(0,t.Lk)("br",null,null,-1))),N=a((()=>(0,t.Lk)("i",{class:"red star"},null,-1))),F={class:"ui dividing header"},A={class:"field"},J={class:"required"},D=["placeholder"],G={class:"required"},T=["placeholder"],M={key:0,class:"ui error message"},I={class:"header"},q=a((()=>(0,t.Lk)("br",null,null,-1))),B={href:"https://www.google.com.tw/chrome/browser/desktop/",target:"_blank"},R={key:1,class:"ui warning message"},K={class:"header"},j={class:"ui header"},S={class:"sub header"},Z=a((()=>(0,t.Lk)("div",{id:"map",style:{height:"300px"}},null,-1))),P=a((()=>(0,t.Lk)("div",{class:"ui divider"},null,-1))),z={class:"field"},H={class:"two fields"},O={class:"field"},Y=["placeholder"],ee={key:0},oe=["href"],le=["src","title","alt"],te={class:"field"},ie=["placeholder"],re={key:0},ae=["href"],se=["src","title","alt"],ne={class:"two fields"},de={class:"field"},ue={class:"required"},pe=["placeholder"],fe={class:"field"},ce=["placeholder"],me={class:"ui dividing header"},he={class:"field"},ke={value:""},ve=["value"],ge={class:"field"},_e={value:""},Le=["value"],$e={class:"required"},be=["placeholder"],we={key:0},Ce={key:1,class:"ui warning message"},ye={class:"header"},Ee={key:2,class:"ui error message"},Xe={class:"header"},Qe={class:"field"},Ue=["placeholder"],We=a((()=>(0,t.Lk)("br",null,null,-1))),xe={key:0},Ve=a((()=>(0,t.Lk)("div",{class:"ui divider"},null,-1))),Ne={style:{"margin-left":"15px"}},Fe=a((()=>(0,t.Lk)("br",null,null,-1))),Ae=["placeholder"],Je=a((()=>(0,t.Lk)("br",null,null,-1))),De={key:1},Ge=a((()=>(0,t.Lk)("div",{class:"ui divider"},null,-1))),Te={class:"three fields"},Me={class:"field"},Ie={class:"required"},qe=["placeholder"],Be={class:"field"},Re={class:"required"},Ke=["placeholder"],je={class:"field"},Se=["placeholder"],Ze={class:"field"},Pe=["placeholder"],ze={class:"field"},He={class:"required"},Oe=["placeholder"],Ye={key:0,class:"ui warning message"},eo={class:"header"},oo={key:1,class:"ui success message"},lo={class:"header"},to={key:3,class:"warning"},io=a((()=>(0,t.Lk)("i",{class:"red star"},null,-1))),ro={key:1},ao={class:"ui vertical buttons"},so={key:0},no=a((()=>(0,t.Lk)("i",{class:"flag icon"},null,-1))),uo={key:1},po=a((()=>(0,t.Lk)("i",{class:"flag icon"},null,-1))),fo=a((()=>(0,t.Lk)("i",{class:"user icon"},null,-1))),co=a((()=>(0,t.Lk)("i",{class:"chevron right icon"},null,-1))),mo=a((()=>(0,t.Lk)("i",{class:"delete icon"},null,-1))),ho=a((()=>(0,t.Lk)("br",null,null,-1))),ko=a((()=>(0,t.Lk)("br",null,null,-1))),vo=a((()=>(0,t.Lk)("br",null,null,-1))),go=a((()=>(0,t.Lk)("br",null,null,-1)));function _o(e,o,l,a,_o,Lo){const $o=(0,t.g2)("router-link"),bo=(0,t.g2)("card");return(0,t.uX)(),(0,t.CE)("div",s,[l.isInApp?((0,t.uX)(),(0,t.CE)("p",n,(0,i.v_)(e.$t("login.isapp")),1)):(0,t.Q3)("",!0),(0,t.bo)((0,t.Lk)("p",null,[(0,t.eW)((0,i.v_)(e.$t("profile.announce1")),1),(0,t.bF)($o,{target:"_blank",to:"/privacy-policy"},{default:(0,t.k6)((()=>[(0,t.eW)((0,i.v_)(e.$t("profile.announce2")),1)])),_:1})],512),[[r.aG,_o.isNew]]),(0,t.eW)((0,i.v_)(e.$t("profile.announce3")),1),_o.isNew?((0,t.uX)(),(0,t.CE)("div",d)):(0,t.Q3)("",!0),_o.isNew?((0,t.uX)(),(0,t.CE)("br",u)):(0,t.Q3)("",!0),_o.isNew?((0,t.uX)(),(0,t.CE)("br",p)):(0,t.Q3)("",!0),_o.isNew?((0,t.uX)(),(0,t.CE)("br",f)):(0,t.Q3)("",!0),(0,t.Lk)("div",c,[l.uid?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.CE)("div",m,[(0,t.Lk)("div",h,[(0,t.Lk)("div",k,[(0,t.Lk)("button",{class:"ui orange button",onClick:o[0]||(o[0]=(...e)=>Lo.loginGoogle&&Lo.loginGoogle(...e))},[v,(0,t.eW)((0,i.v_)(e.$t("login.login")),1)])])])])),_o.editing?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.CE)("div",g,[(0,t.Lk)("div",_,[(0,t.bo)((0,t.Lk)("div",L,[(0,t.bF)(bo,{h:_o.root,full:!0,book:e.book,onLocate:Lo.locate,onAddBook:Lo.addBook,onLoginGoogle:Lo.loginGoogle,uid:l.uid},null,8,["h","book","onLocate","onAddBook","onLoginGoogle","uid"])],512),[[r.aG,!_o.isNew&&!_o.editing]])]),(0,t.Lk)("div",$,[(0,t.bo)((0,t.Lk)("div",{class:"ui massive green button",onClick:o[1]||(o[1]=(...e)=>Lo.startEdit&&Lo.startEdit(...e))},[b,(0,t.eW)((0,i.v_)(e.$t("profile.push")),1),_o.isNew?((0,t.uX)(),(0,t.CE)("span",w,(0,i.v_)(e.$t("profile.start")),1)):((0,t.uX)(),(0,t.CE)("span",C,(0,i.v_)(e.$t("profile.edit")),1))],512),[[r.aG,l.uid&&!_o.editing]])])]))]),_o.editing?((0,t.uX)(),(0,t.CE)("div",y,[Lo.longTimeNoSee()>.25?((0,t.uX)(),(0,t.CE)("div",E,[(0,t.Lk)("div",X,(0,i.v_)(e.$t("profile.update1")),1),Lo.longTimeNoSee()>.25?((0,t.uX)(),(0,t.CE)("span",Q,(0,i.v_)(e.$t("profile.update2")),1)):(0,t.Q3)("",!0)])):(0,t.Q3)("",!0),(0,t.bo)((0,t.Lk)("form",U,[(0,t.Lk)("h2",W,(0,i.v_)(e.$t("profile.fillform")),1),(0,t.Lk)("div",x,[(0,t.eW)((0,i.v_)(e.$t("profile.form1")),1),V,(0,t.eW)((0,i.v_)(e.$t("profile.form2")),1),N,(0,t.eW)((0,i.v_)(e.$t("profile.form3")),1)]),(0,t.Lk)("h4",F,(0,i.v_)(e.$t("profile.form4")),1),(0,t.Lk)("div",A,[(0,t.Lk)("label",J,(0,i.v_)(e.$t("profile.form5")),1),(0,t.bo)((0,t.Lk)("input",{type:"text","onUpdate:modelValue":o[2]||(o[2]=e=>_o.root.name=e),placeholder:e.$t("profile.form6")},null,8,D),[[r.Jo,_o.root.name]])]),(0,t.Lk)("div",{class:(0,i.C4)(["field",{error:_o.root.address&&("undefined,undefined"==_o.root.latlngColumn||"36.778261,-119.4179324"==_o.root.latlngColumn)}])},[(0,t.Lk)("label",G,(0,i.v_)(e.$t("profile.form7")),1),(0,t.bo)((0,t.Lk)("input",{"onUpdate:modelValue":o[3]||(o[3]=e=>_o.root.address=e),placeholder:e.$t("profile.form8")},null,8,T),[[r.Jo,_o.root.address,void 0,{trim:!0}]]),!_o.root.address||"undefined,undefined"!=_o.root.latlngColumn&&"36.778261,-119.4179324"!=_o.root.latlngColumn?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.CE)("div",M,[(0,t.Lk)("div",I,(0,i.v_)(e.$t("profile.form9")),1),(0,t.Lk)("p",null,[(0,t.eW)((0,i.v_)(e.$t("profile.form10")),1),q,(0,t.eW)((0,i.v_)(e.$t("profile.form11")),1),(0,t.Lk)("a",B,(0,i.v_)(e.$t("profile.form12")),1),(0,t.eW)((0,i.v_)(e.$t("profile.form13")),1)])])),Lo.tooDetail(_o.root.address)?((0,t.uX)(),(0,t.CE)("div",R,[(0,t.Lk)("div",K,(0,i.v_)(e.$t("profile.form14")),1),(0,t.Lk)("p",null,(0,i.v_)(e.$t("profile.form15")),1)])):(0,t.Q3)("",!0)],2),(0,t.Lk)("h4",j,[(0,t.eW)((0,i.v_)(e.$t("profile.form16")),1),(0,t.Lk)("div",S,(0,i.v_)(e.$t("profile.form17"))+"："+(0,i.v_)(_o.root.latlngColumn),1)]),Z,P,(0,t.Lk)("div",z,[(0,t.Lk)("label",null,(0,i.v_)(e.$t("profile.form18")),1),(0,t.Lk)("div",H,[(0,t.Lk)("div",O,[(0,t.bo)((0,t.Lk)("input",{"onUpdate:modelValue":o[4]||(o[4]=e=>_o.root.site=e),placeholder:e.$t("profile.form19")},null,8,Y),[[r.Jo,_o.root.site]]),_o.root.site?((0,t.uX)(),(0,t.CE)("span",ee,[(0,t.Lk)("a",{href:_o.root.site,target:"_blank"},[(0,t.Lk)("img",{src:"https://www.google.com/s2/favicons?domain="+_o.root.site,title:e.$t("profile.form19"),alt:e.$t("profile.form19")},null,8,le),(0,t.eW)((0,i.v_)(e.$t("profile.form20")),1)],8,oe)])):(0,t.Q3)("",!0)]),(0,t.Lk)("div",te,[(0,t.bo)((0,t.Lk)("input",{"onUpdate:modelValue":o[5]||(o[5]=e=>_o.root.site2=e),placeholder:e.$t("profile.form21")},null,8,ie),[[r.Jo,_o.root.site2]]),_o.root.site2?((0,t.uX)(),(0,t.CE)("span",re,[(0,t.Lk)("a",{href:_o.root.site2,target:"_blank"},[(0,t.Lk)("img",{src:"https://www.google.com/s2/favicons?domain="+_o.root.site2,title:e.$t("profile.form22"),alt:e.$t("profile.form22")},null,8,se),(0,t.eW)((0,i.v_)(e.$t("profile.form20")),1)],8,ae)])):(0,t.Q3)("",!0)])])]),(0,t.Lk)("div",ne,[(0,t.Lk)("div",de,[(0,t.Lk)("label",ue,(0,i.v_)(e.$t("profile.form23")),1),(0,t.bo)((0,t.Lk)("input",{type:"text","onUpdate:modelValue":o[6]||(o[6]=e=>_o.root.connect_me=e),placeholder:e.$t("profile.form24")},null,8,pe),[[r.Jo,_o.root.connect_me]])]),(0,t.Lk)("div",fe,[(0,t.Lk)("label",null,(0,i.v_)(e.$t("profile.form25")),1),(0,t.bo)((0,t.Lk)("input",{type:"text","onUpdate:modelValue":o[7]||(o[7]=e=>_o.root.freetime=e),placeholder:e.$t("profile.form26")},null,8,ce),[[r.Jo,_o.root.freetime]])])]),(0,t.Lk)("h4",me,(0,i.v_)(e.$t("profile.form27")),1),(0,t.Lk)("div",he,[(0,t.Lk)("label",null,(0,i.v_)(e.$t("profile.form28")),1),(0,t.bo)((0,t.Lk)("select",{class:"selectpicker","onUpdate:modelValue":o[8]||(o[8]=e=>_o.root.learner_role=e)},[(0,t.Lk)("option",ke,"-- "+(0,i.v_)(e.$t("profile.form29"))+" --",1),((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)([e.$t("profile.form30"),e.$t("profile.form31"),e.$t("profile.form32"),e.$t("profile.form33"),e.$t("profile.form34"),e.$t("profile.form35"),e.$t("profile.form36")],(e=>((0,t.uX)(),(0,t.CE)("option",{value:e},(0,i.v_)(e),9,ve)))),256))],512),[[r.u1,_o.root.learner_role]])]),(0,t.Lk)("div",ge,[(0,t.Lk)("label",null,(0,i.v_)(e.$t("profile.form37")),1),(0,t.bo)((0,t.Lk)("select",{class:"selectpicker","onUpdate:modelValue":o[9]||(o[9]=e=>_o.root.learner_type=e)},[(0,t.Lk)("option",_e,"-- "+(0,i.v_)(e.$t("profile.form38"))+" --",1),((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)([e.$t("profile.form39"),e.$t("profile.form40"),e.$t("profile.form41"),e.$t("profile.form42")],(e=>((0,t.uX)(),(0,t.CE)("option",{value:e},(0,i.v_)(e),9,Le)))),256))],512),[[r.u1,_o.root.learner_type]])]),(0,t.Lk)("div",{class:(0,i.C4)(["field",{error:e.badAge(_o.root.learner_birth),warning:!_o.root.learner_birth}])},[(0,t.Lk)("label",$e,(0,i.v_)(e.$t("profile.form43")),1),(0,t.bo)((0,t.Lk)("input",{type:"text","onUpdate:modelValue":o[10]||(o[10]=e=>_o.root.learner_birth=e),placeholder:e.$t("profile.form44")},null,8,be),[[r.Jo,_o.root.learner_birth]])],2),_o.root.learner_birth?((0,t.uX)(),(0,t.CE)("span",we,(0,i.v_)(e.$t("profile.form45"))+(0,i.v_)(e.toAge(_o.root.learner_birth))+(0,i.v_)(e.$t("login.old")),1)):(0,t.Q3)("",!0),_o.root.learner_birth?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.CE)("div",Ce,[(0,t.Lk)("div",ye,(0,i.v_)(e.$t("profile.form46")),1),(0,t.Lk)("p",null,(0,i.v_)(e.$t("profile.form47")),1)])),e.badAge(_o.root.learner_birth)?((0,t.uX)(),(0,t.CE)("div",Ee,[(0,t.Lk)("div",Xe,(0,i.v_)(e.$t("profile.form48")),1),(0,t.Lk)("p",null,(0,i.v_)(e.$t("profile.form49")),1)])):(0,t.Q3)("",!0),(0,t.Lk)("div",Qe,[(0,t.Lk)("label",null,(0,i.v_)(e.$t("profile.form50")),1),(0,t.Lk)("span",null,[(0,t.bo)((0,t.Lk)("input",{"onUpdate:modelValue":o[11]||(o[11]=e=>_o.root.child_birth=e),type:"text",placeholder:e.$t("profile.form51")},null,8,Ue),[[r.Jo,_o.root.child_birth]]),We,_o.root.child_birth?((0,t.uX)(),(0,t.CE)("span",xe,(0,i.v_)(e.$t("profile.form45"))+(0,i.v_)(e.toAge(_o.root.child_birth))+(0,i.v_)(e.$t("login.arround")),1)):(0,t.Q3)("",!0),Ve,(0,t.Lk)("span",Ne,[(0,t.eW)((0,i.v_)(e.$t("profile.form52")),1),Fe,(0,t.bo)((0,t.Lk)("input",{"onUpdate:modelValue":o[12]||(o[12]=e=>_o.root.child_birth2=e),type:"text",placeholder:e.$t("profile.form53")},null,8,Ae),[[r.Jo,_o.root.child_birth2]]),Je]),_o.root.child_birth2?((0,t.uX)(),(0,t.CE)("span",De,(0,i.v_)(e.$t("login.arround"))+(0,i.v_)(e.toAge(_o.root.child_birth2))+(0,i.v_)(e.$t("login.old"))+"~"+(0,i.v_)(e.toAge(_o.root.child_birth))+(0,i.v_)(e.$t("login.old")),1)):(0,t.Q3)("",!0)]),Ge,(0,t.Lk)("div",Te,[(0,t.Lk)("div",Me,[(0,t.Lk)("label",Ie,(0,i.v_)(e.$t("profile.form54")),1),(0,t.bo)((0,t.Lk)("input",{"onUpdate:modelValue":o[13]||(o[13]=e=>_o.root.learner_habit=e),placeholder:e.$t("profile.form54")},null,8,qe),[[r.Jo,_o.root.learner_habit]])]),(0,t.Lk)("div",Be,[(0,t.Lk)("label",Re,(0,i.v_)(e.$t("profile.form55")),1),(0,t.bo)((0,t.Lk)("input",{"onUpdate:modelValue":o[14]||(o[14]=e=>_o.root.share=e),placeholder:e.$t("profile.form56")},null,8,Ke),[[r.Jo,_o.root.share]])]),(0,t.Lk)("div",je,[(0,t.Lk)("label",null,(0,i.v_)(e.$t("profile.form57")),1),(0,t.bo)((0,t.Lk)("input",{"onUpdate:modelValue":o[15]||(o[15]=e=>_o.root.ask=e),placeholder:e.$t("profile.form58")},null,8,Se),[[r.Jo,_o.root.ask]])]),(0,t.Lk)("div",Ze,[(0,t.Lk)("label",null,(0,i.v_)(e.$t("profile.form59")),1),(0,t.bo)((0,t.Lk)("input",{"onUpdate:modelValue":o[16]||(o[16]=e=>_o.root.price=e),placeholder:e.$t("profile.form60")},null,8,Pe),[[r.Jo,_o.root.price]])])]),(0,t.Lk)("div",ze,[(0,t.Lk)("label",He,(0,i.v_)(e.$t("profile.form61")),1),(0,t.bo)((0,t.Lk)("textarea",{id:"note","onUpdate:modelValue":o[17]||(o[17]=e=>_o.root.note=e),rows:"5",cols:"30",placeholder:e.$t("profile.form62")},null,8,Oe),[[r.Jo,_o.root.note]])]),_o.root.note&&_o.root.note.length<20?((0,t.uX)(),(0,t.CE)("div",Ye,[(0,t.Lk)("div",eo,(0,i.v_)(e.$t("profile.form63"))+(0,i.v_)(20-_o.root.note.length)+(0,i.v_)(e.$t("profile.form64")),1),(0,t.Lk)("p",null,(0,i.v_)(e.$t("profile.form65")),1)])):(0,t.Q3)("",!0),_o.root.note&&_o.root.note.length>=20?((0,t.uX)(),(0,t.CE)("div",oo,[(0,t.Lk)("div",lo,(0,i.v_)(e.$t("profile.form66")),1),(0,t.Lk)("p",null,(0,i.v_)(e.$t("profile.form67")),1)])):(0,t.Q3)("",!0)]),Lo.isValid(_o.root)?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.CE)("div",to,[(0,t.eW)("note: "+(0,i.v_)(e.$t("profile.form68")),1),io,(0,t.eW)((0,i.v_)(e.$t("profile.form69")),1)]))],512),[[r.aG,_o.editing]]),_o.isNew?((0,t.uX)(),(0,t.CE)("p",ro,[(0,t.bo)((0,t.Lk)("input",{class:"ui checkbox",type:"checkbox","onUpdate:modelValue":o[18]||(o[18]=e=>_o.agree=e)},null,512),[[r.lH,_o.agree]]),(0,t.eW)((0,i.v_)(e.$t("profile.form70")),1),(0,t.bF)($o,{target:"_blank",to:"/privacy-policy"},{default:(0,t.k6)((()=>[(0,t.eW)((0,i.v_)(e.$t("profile.form71")),1)])),_:1})])):(0,t.Q3)("",!0),(0,t.Lk)("div",ao,[(0,t.Lk)("a",{class:(0,i.C4)(["ui large blue button",{disabled:!Lo.isValid(_o.root)}]),onClick:o[19]||(o[19]=(...e)=>Lo.updateFlag&&Lo.updateFlag(...e))},[_o.isNew?((0,t.uX)(),(0,t.CE)("span",so,[no,(0,t.eW)((0,i.v_)(e.$t("login.raise_flag")),1)])):((0,t.uX)(),(0,t.CE)("span",uo,[po,(0,t.eW)((0,i.v_)(e.$t("login.update_flag")),1)]))],2),_o.isNew?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.Wv)($o,{key:0,class:"ui large green button",to:"/flag/"+l.uid},{default:(0,t.k6)((()=>[fo,(0,t.eW)((0,i.v_)(e.$t("login.check_flag")),1),co])),_:1},8,["to"])),_o.isNew?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.CE)("div",{key:1,class:"ui large red button",onClick:o[20]||(o[20]=(...e)=>Lo.confirmDelete&&Lo.confirmDelete(...e))},[mo,(0,t.eW)((0,i.v_)(e.$t("login.delete_flag")),1)]))]),ho,ko,vo,go])):(0,t.Q3)("",!0)])}var Lo=l(9034),$o=l(242),bo=l(6808),wo=l(4161),Co=l(6886),yo={name:"MyFlag",mixins:[Lo.A],props:["uid","user","email","mySearch","provider","photoURL","isInApp"],components:{Card:$o.A},metaInfo:{title:"$t('login.fg')"},data(){return{agree:!1,root:{latlngColumn:"23.5330,121.0654"},local:{},map:null,marker:null,isNew:!0,editing:!1}},emit:["loginGoogle","locate"],watch:{uid(e){e&&this.fetchUserData()}},methods:{isValid(){if(!this.root.note||this.root.note.length<20)return!1;const e=[this.root.name,this.root.address,this.root.connect_me,this.root.learner_birth,this.root.learner_habit,this.root.share,this.root.note];return e.every((e=>e&&""!==e.trim()))},startEdit(){this.editing=!0,Co.Icon.Default.imagePath="//cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/",setTimeout(this.initMap,500),setTimeout(this.setMapAndMarker,1e3),this.root.email||this.fetchUserData()},initMap(){this.map=Co.map("map").setView(this.root.latlngColumn.split(","),7),Co.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:18,attribution:'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(this.map),Co.Icon.Default.imagePath="//cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/",this.marker=Co.marker(this.map.getCenter(),{draggable:!0}).addTo(this.map),this.marker.on("dragend",(()=>{const{lat:e,lng:o}=this.marker.getLatLng();this.map.setView({lat:e,lng:o}),this.root.latlngColumn=`${e.toFixed(5)},${o.toFixed(5)}`,this.$forceUpdate()}))},fetchUserData(){const e=(0,wo.KR)(bo.db,"users/"+this.uid);(0,wo.Jt)(e).then((e=>{e.exists()?(this.isNew=!1,this.root=e.val()):(console.log("No data available for user: "+this.uid),this.root={name:this.user.providerData[0].displayName||"新朋友",uid:this.uid,email:this.email,connect_me:this.email,photoURL:this.photoURL||"",latlngColumn:"23.5330,121.0654",note:""},this.isNew=!0)})).catch((e=>{console.error(e)}))},setMapAndMarker(){if(this.map&&this.marker){const e=this.root.latlngColumn.split(","),o=Co.latLng(e[0],e[1]);this.map.setView(o,7),this.marker.setLatLng(o)}},longTimeNoSee(){const e=(new Date).getTime();return(e-this.root.lastUpdate)/1e3/3600/24/365.25},tooDetail:function(e){return!!e&&!!e.match(/(號|樓|F|f)/)},updateFlag:function(){if(this.root.lastUpdate=(new Date).getTime(),this.isNew){if(!this.agree)return void window.alert(this.$t("login.agree_pr"));console.log("new2"),this.isNew=!1,this.editing=!1,(0,wo.hZ)((0,wo.KR)(bo.db,"users/"+this.uid),this.root).then(alert(this.$t("login.fg")))}else this.isNew=!1,this.editing=!1,(0,wo.hZ)((0,wo.KR)(bo.db,"users/"+this.uid),this.root).then(alert(this.$t("login.update_sucess")));this.$emit("locate",this.root,!1)},confirmDelete(){window.confirm(this.$t("login.delete_confirm2"))&&this.deleteFlag()},deleteFlag(){(0,wo.TF)((0,wo.KR)(bo.db,"users/"+this.uid)).then(alert(this.$t("login.delete_confirm3"))).catch((e=>alert(this.$t("login.delete_failed")+e.message))),this.root={},this.$emit("logout")},loginFB:function(){this.$emit("loginFB")},locate:function(e,o){this.$emit("locate",e,o)},addBook:function(e){console.log(e),this.$emit("addBook",e)},loginGoogle:function(){this.$emit("loginGoogle")}}},Eo=l(1241);const Xo=(0,Eo.A)(yo,[["render",_o],["__scopeId","data-v-6942fa8c"]]);var Qo=Xo}}]);
//# sourceMappingURL=profile.02e31f55.js.map