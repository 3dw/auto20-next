"use strict";(self["webpackChunkauto20_next"]=self["webpackChunkauto20_next"]||[]).push([[583],{9963:function(s,e,t){t.r(e),t.d(e,{default:function(){return _s}});var i=t(6768),o=t(4232),r=t(5130);const u=s=>((0,i.Qi)("data-v-ed349826"),s=s(),(0,i.jt)(),s),n={class:"hello"},l={key:0,class:"ui row"},a={class:"sixteen wide column"},d={class:"ui huge buttons"},h={class:"ui grid"},p={key:0,class:"ui one column row"},g={class:"ui column ui segment"},c=u((()=>(0,i.Lk)("br",{class:"thin-only"},null,-1))),m=u((()=>(0,i.Lk)("i",{class:"edit icon"},null,-1))),k=u((()=>(0,i.Lk)("i",{class:"globe icon"},null,-1))),b={class:"ui form"},v={key:0,class:"field"},f=u((()=>(0,i.Lk)("i",{class:"google icon"},null,-1))),_={class:"field"},L={class:"ui labeled input"},$={class:"ui label"},w=["placeholder"],y={class:"field"},C={key:0},x=u((()=>(0,i.Lk)("i",{class:"delete icon"},null,-1))),R={class:"ui grid"},I={class:"row"},E=["src","alt"],X={key:0},N={class:"two column stackable row"},U={class:"column"},K={class:"ui divided list"},G={class:"item left aligned"},Q={class:"resource-content"},W=["href"],Z=["src","alt"],S=u((()=>(0,i.Lk)("div",{class:"filler"},null,-1))),j={class:"resource-buttons"},O=["onClick"],M=u((()=>(0,i.Lk)("i",{class:"eye icon"},null,-1))),H=["onClick"],J=u((()=>(0,i.Lk)("i",{class:"hide icon"},null,-1))),V=["onClick"],D=u((()=>(0,i.Lk)("i",{class:"thumbs up icon"},null,-1))),F={key:3,class:"red"},B=u((()=>(0,i.Lk)("i",{class:"heart icon"},null,-1))),q={class:"item ui form"},A={class:"ui three stackable fields"},T={class:"field no-margin no-padding"},Y={class:"ui labeled input"},z={class:"ui label"},P=["placeholder"],ss={class:"field no-margin no-padding"},es={class:"ui labeled input"},ts={class:"ui label"},is=["placeholder"],os={class:"field no-padding"},rs={class:"column"},us={class:"ui divided list"},ns=["src"],ls={key:0,class:"item ui form"},as={class:"field"},ds={class:"ui labeled input"},hs=["src"],ps=["placeholder"];function gs(s,e,t,u,gs,cs){const ms=(0,i.g2)("router-link"),ks=(0,i.g2)("loader");return(0,i.uX)(),(0,i.CE)("div",n,[s.uid||s.users&&0!=s.toList(s.users).length?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("div",l,[(0,i.Lk)("div",a,[(0,i.Lk)("div",d,[(0,i.Lk)("button",{class:"ui orange button",onClick:e[0]||(e[0]=(...e)=>s.toggleLogin&&s.toggleLogin(...e))},(0,o.v_)(s.$t("login.login_to_see_data")),1)])])])),s.users&&s.toList(s.users).length>0&&s.groups[s.$route.params.idx]&&!s.groups[s.$route.params.idx].hidden?((0,i.uX)(),(0,i.Wv)(ks,{key:1},{default:(0,i.k6)((()=>[(0,i.Lk)("div",h,[s.groups[s.$route.params.idx].n?((0,i.uX)(),(0,i.CE)("div",p,[(0,i.Lk)("div",g,[(0,i.Lk)("h3",null,"〈"+(0,o.v_)(s.groups[s.$route.params.idx].n)+"〉",1),(0,i.Lk)("p",null,[(0,i.eW)((0,o.v_)(s.groups[s.$route.params.idx].intro),1),c,(0,i.eW)("    "),s.isMember(s.groups[s.$route.params.idx].idx)?((0,i.uX)(),(0,i.CE)("a",{key:0,onClick:e[1]||(e[1]=e=>s.toggleEdit(s.$route.params.idx))},[m,(0,i.eW)((0,o.v_)(s.edit?s.$t("login.end"):"")+(0,o.v_)(s.$t("group.edit_group")),1)])):(0,i.Q3)("",!0)]),(0,i.Lk)("p",null,[(0,i.bF)(ms,{class:"ui basic green button",to:"/groups"},{default:(0,i.k6)((()=>[k,(0,i.eW)((0,o.v_)(s.$t("group.explore_groups")),1)])),_:1})]),(0,i.bo)((0,i.Lk)("div",b,[s.uid?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("div",v,[(0,i.Lk)("button",{class:"ui orange button",onClick:e[2]||(e[2]=e=>s.loginGoogle())},[f,(0,i.eW)((0,o.v_)(s.$t("login.login_first")),1)])])),(0,i.Lk)("div",_,[(0,i.Lk)("div",L,[(0,i.Lk)("label",$,(0,o.v_)(s.$t("group.enter_intro")),1),(0,i.bo)((0,i.Lk)("textarea",{"onUpdate:modelValue":e[3]||(e[3]=e=>s.newIntro=e),onInput:e[4]||(e[4]=e=>s.filterInput("newIntro",e)),placeholder:s.$t("group.enter_intro_first"),rows:"5",style:{width:"100%"}},null,40,w),[[r.Jo,s.newIntro]])])]),(0,i.Lk)("div",y,[(0,i.Lk)("a",{class:(0,o.C4)(["ui green button",{disabled:!s.newIntro}]),onClick:e[5]||(e[5]=e=>s.addIntro(s.$route.params.idx))},(0,o.v_)(s.$t("group.update_intro")),3)])],512),[[r.aG,s.edit]]),0===(s.groups[s.$route.params.idx].members||[]).length?((0,i.uX)(),(0,i.CE)("p",C,[(0,i.Lk)("button",{class:"ui red button",onClick:e[6]||(e[6]=e=>s.hideGroup(s.$route.params.idx))},[x,(0,i.eW)((0,o.v_)(s.$t("group.delete_group")),1)])])):(0,i.Q3)("",!0),(0,i.Lk)("div",R,[(0,i.Lk)("div",I,[(0,i.Lk)("p",null,[(0,i.eW)("成員："),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(s.groups[s.$route.params.idx].members,(e=>((0,i.uX)(),(0,i.CE)("span",null,[s.isUser(e)?((0,i.uX)(),(0,i.Wv)(ms,{key:0,to:"/flag/"+e},{default:(0,i.k6)((()=>[(0,i.Lk)("img",{class:"ui avatar",src:s.users[e].photoURL,alt:s.users[e].n},null,8,E)])),_:2},1032,["to"])):(0,i.Q3)("",!0)])))),256)),s.uid?((0,i.uX)(),(0,i.CE)("span",X,[s.isUser(s.uid)&&!s.isMember(s.groups[s.$route.params.idx].idx)?((0,i.uX)(),(0,i.CE)("a",{key:0,class:"ui green tiny button",onClick:e[7]||(e[7]=e=>s.join(s.groups[s.$route.params.idx].idx))},(0,o.v_)(s.$t("groups.join_group")),1)):(0,i.Q3)("",!0),s.isUser(s.uid)&&s.isMember(s.groups[s.$route.params.idx].idx)?((0,i.uX)(),(0,i.CE)("a",{key:1,class:"ui red tiny button",onClick:e[8]||(e[8]=e=>s.out(s.groups[s.$route.params.idx].idx))},(0,o.v_)(s.$t("groups.out_group")),1)):(0,i.Q3)("",!0)])):(0,i.Q3)("",!0)])]),(0,i.Lk)("div",N,[(0,i.Lk)("div",U,[(0,i.Lk)("div",K,[(0,i.Lk)("div",G,(0,o.v_)(s.$t("group.resources")),1),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(s.sortedResources,((e,t)=>(0,i.bo)(((0,i.uX)(),(0,i.CE)("div",{class:"item left aligned",key:t+e.n+e.href},[(0,i.Lk)("div",Q,[(0,i.Lk)("a",{href:e.href,target:"_blank",rel:"noopener noreferrer"},[(0,i.Lk)("img",{src:"http://www.google.com/s2/favicons?domain="+e.href,alt:e.n},null,8,Z),(0,i.eW)((0,o.v_)(e.n),1)],8,W),S]),(0,i.Lk)("div",j,[s.edit&&e.hidden?((0,i.uX)(),(0,i.CE)("a",{key:0,class:"ui basic green button",onClick:e=>s.showResource(s.$route.params.idx,t)},[M,(0,i.eW)((0,o.v_)(s.$t("group.show_resource")),1)],8,O)):(0,i.Q3)("",!0),s.edit&&!e.hidden?((0,i.uX)(),(0,i.CE)("a",{key:1,class:"ui basic red button",onClick:e=>s.hideResource(s.$route.params.idx,t)},[J,(0,i.eW)((0,o.v_)(s.$t("group.hide_resource")),1)],8,H)):(0,i.Q3)("",!0),s.isUser(s.uid)&&!(e.likes||[]).includes(s.uid)?(0,i.bo)(((0,i.uX)(),(0,i.CE)("a",{key:2,class:"ui blue button",onClick:e=>s.likeResource(s.$route.params.idx,t)},[D,(0,i.eW)((0,o.v_)(s.$t("group.like")),1)],8,V)),[[r.aG,!s.edit]]):(0,i.Q3)("",!0),e.likes&&e.likes.length>0?((0,i.uX)(),(0,i.CE)("span",F,[B,(0,i.eW)((0,o.v_)(e.likes.length)+" "+(0,o.v_)(s.$t("group.likes")),1)])):(0,i.Q3)("",!0)])])),[[r.aG,!e.hidden||s.edit]]))),128)),(0,i.bo)((0,i.Lk)("div",q,[(0,i.Lk)("div",A,[(0,i.Lk)("div",T,[(0,i.Lk)("div",Y,[(0,i.Lk)("label",z,(0,o.v_)(s.$t("group.enter_resource")),1),(0,i.bo)((0,i.Lk)("input",{type:"text","onUpdate:modelValue":e[9]||(e[9]=e=>s.newResName=e),onInput:e[10]||(e[10]=e=>s.filterInput("newResName",e)),placeholder:s.$t("group.enter_resource_first")},null,40,P),[[r.Jo,s.newResName]])])]),(0,i.Lk)("div",ss,[(0,i.Lk)("div",es,[(0,i.Lk)("label",ts,(0,o.v_)(s.$t("group.enter_link")),1),(0,i.bo)((0,i.Lk)("input",{type:"text","onUpdate:modelValue":e[11]||(e[11]=e=>s.newHref=e),onInput:e[12]||(e[12]=e=>s.filterInput("newHref",e)),placeholder:s.$t("group.enter_link_first")},null,40,is),[[r.Jo,s.newHref]])])]),(0,i.Lk)("div",os,[(0,i.Lk)("a",{class:(0,o.C4)(["ui green button",{disabled:!s.newHref||!s.newResName}]),onClick:e[13]||(e[13]=e=>s.addRes(s.$route.params.idx))},(0,o.v_)(s.$t("group.add_resource")),3)])])],512),[[r.aG,s.uid]])])]),(0,i.Lk)("div",rs,[(0,i.eW)((0,o.v_)(s.$t("login.leave_messages")),1),(0,i.Lk)("div",us,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(s.latestChats,((s,e)=>((0,i.uX)(),(0,i.CE)("div",{class:"item",key:e},[(0,i.Lk)("img",{class:"ui avatar",src:s.photoURL},null,8,ns),(0,i.eW)((0,o.v_)(s.n)+" : "+(0,o.v_)(s.t),1)])))),128)),s.isMember(s.groups[s.$route.params.idx].idx)?((0,i.uX)(),(0,i.CE)("div",ls,[(0,i.Lk)("div",as,[(0,i.Lk)("div",ds,[(0,i.Lk)("img",{class:"ui avatar",src:s.photoURL},null,8,hs),(0,i.bo)((0,i.Lk)("input",{class:"input","onUpdate:modelValue":e[14]||(e[14]=e=>s.msg=e),onInput:e[15]||(e[15]=e=>s.filterInput("msg",e)),placeholder:s.$t("group.anything_to_say")},null,40,ps),[[r.Jo,s.msg]]),(0,i.Lk)("a",{class:(0,o.C4)(["ui label green button",{disabled:!s.msg}]),onClick:e[16]||(e[16]=e=>s.addChat(s.$route.params.idx))},(0,o.v_)(s.$t("login.leave_messages")),3)])])])):(0,i.Q3)("",!0)])])])])])])):(0,i.Q3)("",!0)])])),_:1})):(0,i.Q3)("",!0)])}t(4114);var cs=t(2134),ms=t(4161),ks=t(6808),bs=(0,i.pM)({name:"GroupsView",props:["photoURL","users","user","uid","mySearch"],metaInfo:{title:"$t('login.auto_gp')"},data(){return{edit:!1,newIntro:"",newName:"",newResName:"",newHref:"",msg:"",groups:[]}},computed:{latestChats(){const s=this.$route.params.idx,e=this.groups[s]?.chats||[];return e.slice(-10)},sortedResources(){const s=this.$route.params.idx;return(this.groups[s]?.res||[]).filter((s=>!this.mySearch||s.n.indexOf(this.mySearch)>-1||s.href.indexOf(this.mySearch)>-1||s.des&&s.des.indexOf(this.mySearch)>-1)).sort(((s,e)=>{const t=s.likes?s.likes.length:0,i=e.likes?e.likes.length:0;return i-t}))}},methods:{hideGroup(s){confirm(this.$t("group.delete_confirm"))&&(this.groups[s].hidden=!0,(0,ms.hZ)((0,ms.KR)(ks.db,"groups/"+s+"/hidden"),!0).then(console.log(this.$t("groups.update_sucess"))).catch((s=>{console.error(this.$t("groups.update_failed"),s)})))},containsKeyword(s){return cs.R.some((e=>s.includes(e)))},filterInput(s,e){this.containsKeyword(e.target.value)?(alert("Input contains forbidden keywords."),this[s]=""):this[s]=e.target.value},toggleEdit(s){this.isMember(s)?(this.edit=!this.edit,this.edit?this.newIntro=this.groups[s].intro:this.newIntro=""):alert(this.$t("groups.edit_permission"))},toList:s=>s&&"object"===typeof s?Object.values(s):[],loginGoogle(s,e){this.$emit("loginGoogle",s,e)},toggleLogin(){this.$emit("toggleLogin")},isUser(s){return s&&this.users[s]},isMember(s){return(this.groups[s].members||[]).indexOf(this.uid)>-1},join(s){this.groups[s].members=this.groups[s].members||[],this.groups[s].members.push(this.uid),(0,ms.hZ)((0,ms.KR)(ks.db,"groups"),this.groups).then(console.log(this.$t("groups.update_sucess")))},out(s){this.groups[s].members=this.groups[s].members||[],this.groups[s].members=this.groups[s].members.filter((s=>s!==this.uid)),(0,ms.hZ)((0,ms.KR)(ks.db,"groups"),this.groups).then(console.log(this.$t("groups.update_sucess")))},searchBy(s,e){return e?s.filter((function(s){return JSON.stringify(s).indexOf(e)>-1})):s},likeResource(s,e){this.groups[s].res[e].likes=this.groups[s].res[e].likes||[],(this.groups[s].res[e].likes||[]).includes(this.uid)||(this.groups[s].res[e].likes.push(this.uid),(0,ms.hZ)((0,ms.KR)(ks.db,"groups/"+s+"/res/"+e),this.groups[s].res[e]).then((()=>{console.log(this.$t("groups.update_sucess"))})).catch((s=>{console.error(this.$t("groups.update_failed"),s)})))},addChat(s){var e={uid:this.uid,n:this.users[this.uid].name?this.users[this.uid].name:this.$t("login.anoymous"),t:this.msg,photoURL:this.photoURL||"",time:(new Date).getTime()},t=this.groups[s].chats?[...this.groups[s].chats]:[];this.msg&&(t.push(e),this.msg=""),(0,ms.hZ)((0,ms.KR)(ks.db,"groups/"+s+"/chats"),t).then(console.log(this.$t("groups.update_sucess")));const i=this.groups[s].members||[];i.forEach((e=>{if(e!==this.uid){let t="/group/"+s;this.addNotificationByUid(e,"在社團「"+this.groups[s].n+"」有新留言",t)}}))},addRes(s){this.groups[s].res=this.groups[s].res||[],this.groups[s].res.push({n:this.newResName,href:this.newHref,likes:[this.uid]}),this.newResName="",this.newHref="",(0,ms.hZ)((0,ms.KR)(ks.db,"groups/"+s),this.groups[s]).then(console.log(this.$t("groups.update_sucess")));const e=this.groups[s].members||[];e.forEach((e=>{if(e!==this.uid){let t="/group/"+s;this.addNotificationByUid(e,"在社團「"+this.groups[s].n+"」有新增社團資源",t)}}))},hideResource(s,e){this.groups[s].res[e].hidden=!0,(0,ms.hZ)((0,ms.KR)(ks.db,"groups/"+s+"/res/"+e+"/hidden"),!0).then((()=>{console.log(this.$t("groups.update_sucess"))})).catch((s=>{console.error(this.$t("groups.update_failed"),s)}))},showResource(s,e){this.groups[s].res[e].hidden=!1,(0,ms.hZ)((0,ms.KR)(ks.db,"groups/"+s+"/res/"+e+"/hidden"),!1).then((()=>{console.log(this.$t("groups.update_sucess"))})).catch((s=>{console.error(this.$t("groups.update_failed"),s)}))},addNotificationByUid(s,e,t){const i={date:(new Date).toISOString(),from:"systemdef",text:e,route:t,isRead:!1},o=(0,ms.KR)(ks.db,"users/"+s+"/notifications");(0,ms.VC)(o,i).then((()=>{console.log("notification created")})).catch((s=>{console.error("Error creating notification:",s)}))},addGroup(){this.groups.push({n:this.newName,res:[],chats:[],idx:this.groups.length}),this.newName="",(0,ms.hZ)((0,ms.KR)(ks.db,"groups"),this.groups).then(console.log(this.$t("groups.update_sucess")))},addIntro(s){this.newIntro.trim().length&&(this.groups[s].intro=this.newIntro,(0,ms.hZ)((0,ms.KR)(ks.db,"groups/"+s),this.groups[s]).then((()=>console.log(this.$t("login.update_sucess")))).catch((s=>{console.error(this.$t("login.update_failed"),s)})),this.newIntro="")}},mounted(){(0,ms.Zy)(ks.sY,(s=>{const e=s.val();this.groups=e||[]}))}}),vs=t(1241);const fs=(0,vs.A)(bs,[["render",gs],["__scopeId","data-v-ed349826"]]);var _s=fs},875:function(s,e,t){t.r(e),t.d(e,{default:function(){return Z}});var i=t(6768),o=t(4232),r=t(5130);const u=s=>((0,i.Qi)("data-v-4c940896"),s=s(),(0,i.jt)(),s),n={class:"hello"},l={key:0,class:"ui row"},a={class:"sixteen wide column"},d={class:"ui huge buttons"},h={key:1,class:"ui container"},p={class:"ui grid"},g={class:"ui two stackable column row"},c=u((()=>(0,i.Lk)("br",{class:"thin-only"},null,-1))),m={class:"ui buttons"},k=u((()=>(0,i.Lk)("i",{class:"sign-in icon"},null,-1))),b=["onClick"],v=["onClick"],f={class:"ui grid"},_={class:"row"},L=["src","alt"],$={class:"ui eight wide column form"},w=u((()=>(0,i.Lk)("br",null,null,-1))),y=u((()=>(0,i.Lk)("br",null,null,-1))),C={class:"field"},x={class:"ui labeled input"},R={class:"ui label"},I=["placeholder"],E={class:"field button-field"};function X(s,e,t,u,X,N){const U=(0,i.g2)("router-link");return(0,i.uX)(),(0,i.CE)("div",n,[s.uid?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("div",l,[(0,i.Lk)("div",a,[(0,i.Lk)("div",d,[(0,i.Lk)("button",{class:"ui orange button",onClick:e[0]||(e[0]=(...e)=>s.toggleLogin&&s.toggleLogin(...e))},(0,o.v_)(s.$t("login.login_to_see_data")),1)])])])),s.users&&s.toList(s.users).length>0?((0,i.uX)(),(0,i.CE)("div",h,[(0,i.Lk)("div",p,[(0,i.Lk)("div",g,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(s.searchBy(s.groups,s.mySearch),((e,t)=>(0,i.bo)(((0,i.uX)(),(0,i.CE)("div",{class:"ui eight wide column segment",key:e.idx},[(0,i.Lk)("h3",null,"〈"+(0,o.v_)(e.n)+"〉",1),(0,i.Lk)("p",null,[(0,i.eW)((0,o.v_)(e.intro),1),c,(0,i.eW)("    ")]),(0,i.Lk)("p",null,[(0,i.Lk)("div",m,[(0,i.bF)(U,{class:"ui basic green button",to:"/group/"+e.idx},{default:(0,i.k6)((()=>[k,(0,i.eW)((0,o.v_)(s.$t("groups.go_group")),1)])),_:2},1032,["to"]),s.isUser(s.uid)&&!s.isMember(e.idx)?((0,i.uX)(),(0,i.CE)("a",{key:0,class:"ui green button",onClick:t=>s.join(e.idx)},(0,o.v_)(s.$t("groups.join_group")),9,b)):(0,i.Q3)("",!0),s.isUser(s.uid)&&s.isMember(e.idx)?((0,i.uX)(),(0,i.CE)("a",{key:1,class:"ui red basic button",onClick:t=>s.out(e.idx)},(0,o.v_)(s.$t("groups.out_group")),9,v)):(0,i.Q3)("",!0)])]),(0,i.Lk)("div",f,[(0,i.Lk)("div",_,[(0,i.Lk)("p",null,[(0,i.eW)((0,o.v_)(s.$t("groups.members")),1),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.members,(e=>((0,i.uX)(),(0,i.CE)("span",null,[s.isUser(e)?((0,i.uX)(),(0,i.Wv)(U,{key:0,to:"/flag/"+e},{default:(0,i.k6)((()=>[(0,i.Lk)("img",{class:"ui avatar",src:s.users[e].photoURL,alt:s.users[e].name},null,8,L)])),_:2},1032,["to"])):(0,i.Q3)("",!0)])))),256))])])])])),[[r.aG,!e.hidden]]))),128)),(0,i.bo)((0,i.Lk)("div",$,[w,y,(0,i.Lk)("h4",null,(0,o.v_)(s.$t("groups.create_group")),1),(0,i.Lk)("div",C,[(0,i.Lk)("div",x,[(0,i.Lk)("label",R,(0,o.v_)(s.$t("groups.group_name")),1),(0,i.bo)((0,i.Lk)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=e=>s.newName=e),onInput:e[2]||(e[2]=e=>s.filterInput("newName",e)),placeholder:s.$t("groups.enter_group_name")},null,40,I),[[r.Jo,s.newName]])])]),(0,i.Lk)("div",E,[(0,i.Lk)("a",{class:(0,o.C4)(["ui green button",{disabled:!s.newName}]),onClick:e[3]||(e[3]=e=>s.addGroup())},(0,o.v_)(s.$t("groups.create_group")),3)])],512),[[r.aG,s.uid&&s.users[s.uid]]])])])])):(0,i.Q3)("",!0)])}t(4114);var N=t(2134),U=t(4161),K=t(6808),G=(0,i.pM)({name:"GroupsView",props:{uid:{type:String,required:!1},photoURL:{type:String,required:!1},users:{type:Object,required:!1,default:()=>({})},mySearch:{type:String,required:!1}},metaInfo:{title:"$t('login.auto_gp')"},data(){return{edit:!1,newIntro:"",newName:"",newResName:"",newHref:"",msg:"",groups:[]}},watch:{users(s){this.toList(s).length>0&&this.fetchGroupData()}},mounted(){this.uid&&this.fetchGroupData()},methods:{fetchGroupData(){(0,U.Jt)(K.sY).then((s=>{const e=s.val();this.groups=e||[],console.log("Groups data updated:",this.groups)}),(s=>{console.error("Error fetching group data:",s)}))},containsKeyword(s){return N.R.some((e=>s.includes(e)))},filterInput(s,e){this.containsKeyword(e.target.value)?(alert("Input contains forbidden keywords."),this[s]=""):this[s]=e.target.value},toList:s=>s&&"object"===typeof s?Object.values(s):[],loginGoogle(s,e){this.$emit("loginGoogle",s,e)},toggleLogin(){this.$emit("toggleLogin")},isUser(s){return s&&this.users[s]&&this.users[s].name},isMember(s){return(this.groups[s].members||[]).indexOf(this.uid)>-1},join(s){this.groups[s].members=this.groups[s].members||[],this.groups[s].members.push(this.uid),(0,U.hZ)((0,U.KR)(K.db,"groups"),this.groups).then(console.log(this.$t("groups.update_sucess")))},out(s){window.confirm(this.$t("groups.out_confirm"))&&(this.groups[s].members=this.groups[s].members||[],this.groups[s].members=this.groups[s].members.filter((s=>s!==this.uid)),(0,U.hZ)((0,U.KR)(K.db,"groups"),this.groups).then(console.log(this.$t("groups.update_sucess"))))},searchBy(s,e){return e?s.filter((function(s){return JSON.stringify(s).indexOf(e)>-1})):s},addChat(s){var e={uid:this.uid,n:(this.user.providerData||[{displayName:this.$t("login.anoymous")}])[0].displayName,t:this.msg,photoURL:this.photoURL||"",time:(new Date).getTime()};this.groups[s].chats=this.groups[s].chats||[],this.msg&&(this.groups[s].chats.push(e),this.msg=""),(0,U.hZ)((0,U.KR)(K.db,"groups/"+s),this.g).then(console.log(this.$t("groups.update_sucess")))},addGroup(){this.groups.push({n:this.newName,res:[],chats:[],idx:this.groups.length}),this.newName="",(0,U.hZ)((0,U.KR)(K.db,"groups"),this.groups).then(console.log(this.$t("groups.update_sucess")))},addRes(s){this.groups[s].res=this.groups[s].res||[],this.groups[s].res.push({n:this.newResName,href:this.newHref}),this.newResName="",this.newHref="",(0,U.hZ)((0,U.KR)(K.db,"groups"),this.groups).then(console.log(this.$t("groups.update_sucess")))},addIntro(s){this.groups[s].intro=this.newIntro,this.newIntro="",(0,U.hZ)((0,U.KR)(K.db,"groups"),this.groups).then(console.log(this.$t("groups.update_sucess")))}}}),Q=t(1241);const W=(0,Q.A)(G,[["render",X],["__scopeId","data-v-4c940896"]]);var Z=W}}]);
//# sourceMappingURL=groups.b6e98f93.js.map