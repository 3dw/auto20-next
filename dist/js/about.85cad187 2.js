"use strict";(self["webpackChunkauto20_next"]=self["webpackChunkauto20_next"]||[]).push([[594],{9387:function(t,e,s){s.r(e),s.d(e,{default:function(){return q}});var o=s(6768),i=s(4232),a=s(1501),n=s.p+"img/map1.1c12248b.webp";const r=t=>((0,o.Qi)("data-v-88ab0c06"),t=t(),(0,o.jt)(),t),l={class:"hello"},u={class:"ui header"},c=r((()=>(0,o.Lk)("img",{src:a,alt:"互助互惠"},null,-1))),h=r((()=>(0,o.Lk)("img",{src:a,alt:"互助互惠"},null,-1))),d={class:"ui grid container"},_={class:"ui two column stackable row"},g={class:"ui padded segment column"},b={class:"ui header"},k={class:"ui header"},p={href:"http://www.alearn.org.tw",target:"_blank"},v={class:"ui header"},L=r((()=>(0,o.Lk)("i",{class:"chevron right icon"},null,-1))),f={class:"ui header"},$={class:"ui header"},m={class:"ui header"},C=r((()=>(0,o.Lk)("i",{class:"chevron right icon"},null,-1))),y={class:"ui header"},w={class:"ui header"},M=r((()=>(0,o.Lk)("i",{class:"chevron right icon"},null,-1))),W={class:"ui header"},T={class:"ui padded segment column"},E=r((()=>(0,o.Lk)("img",{src:n},null,-1))),A={class:"ui header"},U=r((()=>(0,o.Lk)("i",{class:"chevron right icon"},null,-1))),X={class:"ui header"},D={class:"ui header"},F=r((()=>(0,o.Lk)("i",{class:"chevron right icon"},null,-1))),O={class:"ui header"},S={href:"https://github.com/3dw/auto20-next/issues"},B=r((()=>(0,o.Lk)("i",{class:"chevron right icon"},null,-1))),N={class:"ui header"},G={href:"https://github.com/3dw/github-tutorial/blob/main/README.md"},z=r((()=>(0,o.Lk)("i",{class:"chevron right icon"},null,-1)));function I(t,e){const s=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",l,[(0,o.Lk)("h1",u,[c,(0,o.eW)((0,i.v_)(t.$t("about.intro")),1),h]),(0,o.Lk)("div",d,[(0,o.Lk)("div",_,[(0,o.Lk)("div",g,[(0,o.Lk)("h2",b,(0,i.v_)(t.$t("about.what_is_auto20")),1),(0,o.Lk)("p",null,[(0,o.Lk)("b",null,(0,i.v_)(t.$t("about.auto20")),1),(0,o.eW)((0,i.v_)(t.$t("about.intro_1")),1)]),(0,o.Lk)("p",null,[(0,o.Lk)("b",null,(0,i.v_)(t.$t("about.al")),1),(0,o.eW)((0,i.v_)(t.$t("about.intro_2")),1)]),(0,o.Lk)("p",null,(0,i.v_)(t.$t("about.intro_3")),1),(0,o.Lk)("h2",k,(0,i.v_)(t.$t("about.auto20_by")),1),(0,o.Lk)("p",null,[(0,o.eW)((0,i.v_)(t.$t("about.auto20_by_content1")),1),(0,o.Lk)("a",p,(0,i.v_)(t.$t("about.auto20_by_content2")),1),(0,o.eW)((0,i.v_)(t.$t("about.auto20_by_content3")),1)]),(0,o.Lk)("h2",v,(0,i.v_)(t.$t("about.card_flag")),1),(0,o.Lk)("p",null,[(0,o.Lk)("b",null,(0,i.v_)(t.$t("about.card_name")),1),(0,o.eW)((0,i.v_)(t.$t("about.card_content1")),1)]),(0,o.Lk)("p",null,(0,i.v_)(t.$t("about.flag_content1")),1),(0,o.Lk)("p",null,(0,i.v_)(t.$t("about.card_content2")),1),(0,o.Lk)("p",null,(0,i.v_)(t.$t("about.qrcode_content1")),1),(0,o.Lk)("p",null,[(0,o.bF)(s,{to:"/profile"},{default:(0,o.k6)((()=>[(0,o.eW)((0,i.v_)(t.$t("about.raise_flag")),1)])),_:1}),L]),(0,o.Lk)("h2",f,(0,i.v_)(t.$t("about.card_flag_tip")),1),(0,o.Lk)("p",null,(0,i.v_)(t.$t("about.card_flag_tip_content")),1),(0,o.Lk)("h2",$,(0,i.v_)(t.$t("about.flag_update1")),1),(0,o.Lk)("p",null,(0,i.v_)(t.$t("about.flag_update_content")),1),(0,o.Lk)("h2",m,(0,i.v_)(t.$t("about.flag_content2")),1),(0,o.Lk)("p",null,[(0,o.eW)((0,i.v_)(t.$t("about.flag_content3")),1),(0,o.bF)(s,{to:"privacy-policy"},{default:(0,o.k6)((()=>[(0,o.eW)((0,i.v_)(t.$t("login.pr")),1),C])),_:1}),(0,o.eW)((0,i.v_)(t.$t("about.flag_content4")),1)]),(0,o.Lk)("h2",y,(0,i.v_)(t.$t("about.flag_update2")),1),(0,o.Lk)("p",null,(0,i.v_)(t.$t("about.flag_content5")),1),(0,o.Lk)("h2",w,(0,i.v_)(t.$t("about.flag_download")),1),(0,o.Lk)("p",null,(0,i.v_)(t.$t("about.flag_content6")),1),(0,o.Lk)("p",null,[(0,o.bF)(s,{to:"privacy-policy"},{default:(0,o.k6)((()=>[(0,o.eW)((0,i.v_)(t.$t("about.pr_go")),1),M])),_:1})]),(0,o.Lk)("h2",W,(0,i.v_)(t.$t("about.flag_remove")),1),(0,o.Lk)("p",null,(0,i.v_)(t.$t("about.flag_content7")),1)]),(0,o.Lk)("div",T,[E,(0,o.Lk)("h2",A,(0,i.v_)(t.$t("about.map_is")),1),(0,o.Lk)("p",null,(0,i.v_)(t.$t("about.map_content1")),1),(0,o.Lk)("p",null,[(0,o.bF)(s,{to:"/maps"},{default:(0,o.k6)((()=>[(0,o.eW)((0,i.v_)(t.$t("about.map_go")),1),U])),_:1})]),(0,o.Lk)("h2",X,(0,i.v_)(t.$t("about.directory_is")),1),(0,o.Lk)("p",null,[(0,o.Lk)("b",null,(0,i.v_)(t.$t("login.bk")),1),(0,o.eW)((0,i.v_)(t.$t("about.directory_content1")),1)]),(0,o.Lk)("h2",D,(0,i.v_)(t.$t("about.group_is")),1),(0,o.Lk)("p",null,[(0,o.Lk)("b",null,(0,i.v_)(t.$t("login.gp")),1),(0,o.eW)((0,i.v_)(t.$t("about.group_content1")),1)]),(0,o.Lk)("p",null,[(0,o.bF)(s,{to:"/groups"},{default:(0,o.k6)((()=>[(0,o.eW)((0,i.v_)(t.$t("about.group_go")),1),F])),_:1})]),(0,o.Lk)("h2",O,(0,i.v_)(t.$t("about.bugreport_is")),1),(0,o.Lk)("p",null,[(0,o.Lk)("b",null,(0,i.v_)(t.$t("about.auto20")),1),(0,o.eW)((0,i.v_)(t.$t("about.bugreport_content1")),1)]),(0,o.Lk)("p",null,(0,i.v_)(t.$t("about.bugreport_content2")),1),(0,o.Lk)("p",null,[(0,o.Lk)("a",S,[(0,o.eW)((0,i.v_)(t.$t("about.bugreport_go")),1),B])]),(0,o.Lk)("h2",N,(0,i.v_)(t.$t("about.github_is")),1),(0,o.Lk)("p",null,(0,i.v_)(t.$t("about.github_content1")),1),(0,o.Lk)("p",null,[(0,o.Lk)("a",G,[(0,o.eW)((0,i.v_)(t.$t("about.github_go")),1),z])])])])])])}var j=s(1241);const x={},V=(0,j.A)(x,[["render",I],["__scopeId","data-v-88ab0c06"]]);var q=V},7227:function(t,e,s){s.r(e),s.d(e,{default:function(){return M}});var o=s(6768),i=s(4232),a=s(5130);const n=t=>((0,o.Qi)("data-v-26b101d3"),t=t(),(0,o.jt)(),t),r={class:"hello"},l={key:0,class:"ui row"},u={class:"sixteen wide column"},c={class:"ui huge buttons"},h=n((()=>(0,o.Lk)("i",{class:"google icon"},null,-1))),d={value:"newest"},_={value:"random"},g={key:0,value:"age_nearest"},b=["value"],k=n((()=>(0,o.Lk)("br",null,null,-1))),p=n((()=>(0,o.Lk)("div",{class:"ui divider"},null,-1))),v=n((()=>(0,o.Lk)("br",null,null,-1)));function L(t,e,s,n,L,f){const $=(0,o.g2)("loader"),m=(0,o.g2)("card");return(0,o.uX)(),(0,o.CE)("div",r,[t.uid||t.users&&0!=t.toList(t.users).length?t.users&&0!=t.toList(t.users).length?(0,o.bo)(((0,o.uX)(),(0,o.CE)("select",{key:2,class:"ui dropdown","onUpdate:modelValue":e[1]||(e[1]=e=>t.logic=e)},[(0,o.Lk)("option",d,(0,i.v_)(t.$t("friends.recent_updates")),1),(0,o.bo)((0,o.Lk)("option",{value:"nearest"},(0,i.v_)(t.$t("friends.nearest")),513),[[a.aG,t.userLocation||t.uid&&t.users[t.uid]]]),(0,o.bo)((0,o.Lk)("option",{value:"learner_habit_nearst"},(0,i.v_)(t.$t("friends.similiar_interest")),513),[[a.aG,t.uid&&t.users[t.uid]&&t.users[t.uid].learner_habit]]),(0,o.bo)((0,o.Lk)("option",{value:"ask_match_share"},(0,i.v_)(t.$t("friends.seeking_help")),513),[[a.aG,t.uid&&t.users[t.uid]&&t.users[t.uid].ask]]),(0,o.bo)((0,o.Lk)("option",{value:"share_match_ask"},(0,i.v_)(t.$t("friends.sharer")),513),[[a.aG,t.uid&&t.users[t.uid]&&t.users[t.uid].share]]),(0,o.Lk)("option",_,(0,i.v_)(t.$t("friends.random_profile")),1),t.uid&&t.users[t.uid]&&t.users[t.uid].child_birth?((0,o.uX)(),(0,o.CE)("option",g,(0,i.v_)(t.$t("friends.similiar_age_kid")),1)):(0,o.Q3)("",!0),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(t.cities,((e,s)=>((0,o.uX)(),(0,o.CE)("option",{value:"near_"+e.c.join(","),key:s},(0,i.v_)(e.t)+(0,i.v_)(t.$t("friends.area")),9,b)))),128))],512)),[[a.u1,t.logic]]):((0,o.uX)(),(0,o.Wv)($,{key:1})):((0,o.uX)(),(0,o.CE)("div",l,[(0,o.Lk)("div",u,[(0,o.Lk)("div",c,[(0,o.Lk)("button",{class:"ui orange button",onClick:e[0]||(e[0]=(...e)=>t.loginGoogle&&t.loginGoogle(...e))},[h,(0,o.eW)((0,i.v_)(t.$t("login.login")),1)])])])])),k,p,v,(0,o.Lk)("div",{class:"ui two doubling cards container",onScroll:e[2]||(e[2]=(...e)=>t.handleScroll&&t.handleScroll(...e)),ref:"scrollContainer"},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(t.visibleCards,((e,s)=>((0,o.uX)(),(0,o.CE)("div",{class:"ui card",key:s},[(0,o.bF)(m,{h:e,full:!1,mySearch:t.mySearch,book:t.book,onLocate:t.locate,onAddBook:t.addBook,onRemoveBook:t.removeBook,uid:t.uid},null,8,["h","mySearch","book","onLocate","onAddBook","onRemoveBook","uid"])])))),128))],544)])}s(3375),s(9225),s(3972),s(9209),s(5714),s(7561),s(6197);var f=s(9034),$=s(2119),m=s(242),C=(0,o.pM)({name:"FindCards",mixins:[f.A],props:["mySearch","book","users","places","center","user","uid"],components:{Loader:$.A,Card:m.A},data(){return{n:10,busy:!1,allCards:[],logic:"random",userLocation:null,cities:[{t:this.$t("friends.taipei"),c:[25.046337,121.517444]},{t:this.$t("friends.newtaipei"),c:[25.011709,121.465881],z:10},{t:this.$t("friends.taoyuan"),c:[24.993923,121.30168]},{t:this.$t("friends.taichung"),c:[24.163162,120.647828]},{t:this.$t("friends.tainan"),c:[22.991235,120.184982]},{t:this.$t("friends.kaohsiung"),c:[22.627277,120.301437]},{t:this.$t("friends.changhua"),c:[120.4818,23.99297]},{t:this.$t("friends.pingtung"),c:[120.62,22.54951]},{t:this.$t("friends.yunlin"),c:[120.3897,23.75585]},{t:this.$t("friends.miaoli"),c:[120.9417,24.48927]},{t:this.$t("friends.chiayiCounty"),c:[120.574,23.45889]},{t:this.$t("friends.hsinchuCounty"),c:[121.1252,24.70328]},{t:this.$t("friends.hsinchuCity"),c:[120.9647,24.80395]},{t:this.$t("friends.keelung"),c:[121.7081,25.10898]},{t:this.$t("friends.yilan"),c:[24.69295,121.7195],z:10},{t:this.$t("friends.nantou"),c:[23.83876,120.9876],z:10},{t:this.$t("friends.chiayiCity"),c:[23.47545,120.4473],z:10},{t:this.$t("friends.hualien"),c:[23.7569,121.3542],z:10},{t:this.$t("friends.taitung"),c:[22.98461,120.9876],z:10},{t:this.$t("friends.penghu"),c:[23.56548,119.6151],z:9},{t:this.$t("friends.lienchiang"),c:[119.5397,26.19737]}]}},computed:{visibleCards(){const t=this.allCards.filter((t=>{(new Date).getTime();if(isNaN(t.lastUpdate))return!1;const e=this.mySearch.toLowerCase(),s=[t.name,t.learner_habit,t.share,t.ask,t.note].some((t=>t&&t.toLowerCase().includes(e)));return s}));return t.slice(0,this.n)},list(){return this.processData(this.users)}},mounted(){console.log("Initial center in child component:"),console.log(this.center),this.allCards=this.list,this.getUserLocation()},watch:{center(t){console.log("Child component received new center:",t),this.allCards=this.processData(this.users),this.$forceUpdate()},users(t){this.allCards=this.processData(t)},logic(t){console.log(t);const e=t.match(/^near_(\d+\.\d+),(\d+\.\d+)$/);if("nearest"!==t||this.userLocation)if(e){const t=parseFloat(e[1]),s=parseFloat(e[2]);this.userLocation={lat:t,lng:s},console.log("Updated user location to:",this.userLocation),this.allCards=this.processData(this.users)}else this.allCards=this.processData(this.users);else this.getUserLocation()}},methods:{loginGoogle(){this.$emit("loginGoogle")},toList(t){return t&&"object"===typeof t?Object.values(t):[]},processData(t){const e=Object.keys(t||{}).map((e=>t[e]));if("newest"===this.logic)return e.sort(((t,e)=>(e.lastUpdate||0)-(t.lastUpdate||0)));if("random"===this.logic)return e.sort((()=>.5-Math.random()));if("nearest"===this.logic||this.logic.match(/^near_(\d+\.\d+),(\d+\.\d+)$/))return e.sort(((t,e)=>this.distanceToCenter(t.latlngColumn)-this.distanceToCenter(e.latlngColumn)));if("age_nearest"===this.logic&&this.users[this.uid]&&this.users[this.uid].child_birth){const t=new Date(this.users[this.uid].child_birth).getTime();return e.sort(((t,e)=>this.distanceToCenter(t.latlngColumn)-this.distanceToCenter(e.latlngColumn))).sort(((e,s)=>{const o=e.child_birth?new Date(e.child_birth).getTime():1/0,i=s.child_birth?new Date(s.child_birth).getTime():1/0;return Math.abs(o-t)-Math.abs(i-t)}))}if("ask_match_share"===this.logic&&this.users[this.uid]){const t=this.users[this.uid];return e.filter((t=>t.uid!==this.uid)).sort(((t,e)=>this.distanceToCenter(t.latlngColumn)-this.distanceToCenter(e.latlngColumn))).sort(((e,s)=>{const o=this.countOverlap(t.ask,e.share),i=this.countOverlap(t.ask,s.share);return i-o}))}if("share_match_ask"===this.logic&&this.users[this.uid]){const t=this.users[this.uid];return e.filter((t=>t.uid!==this.uid)).sort(((t,e)=>this.distanceToCenter(t.latlngColumn)-this.distanceToCenter(e.latlngColumn))).sort(((e,s)=>{const o=this.countOverlap(t.share,e.ask),i=this.countOverlap(t.share,s.ask);return i-o}))}if("learner_habit_nearest"===this.logic&&this.users[this.uid]){const t=this.users[this.uid];return e.filter((t=>t.uid!==this.uid)).sort(((t,e)=>this.distanceToCenter(t.latlngColumn)-this.distanceToCenter(e.latlngColumn))).sort(((e,s)=>{const o=this.countOverlap(t.learner_habit,e.learner_habit)+this.countOverlap(e.ask,t.share),i=this.countOverlap(t.learner_habit,s.learner_habit)+this.countOverlap(s.ask,t.share);return i-o}))}return e},countOverlap(t,e){if(!t||!e)return 0;const s=t.split(/[，,、\s]/g),o=e.split(/[，,、\s]/g),i=new Set(s),a=new Set(o);let n=0;return i.forEach((t=>{a.has(t)&&n++})),n},distanceToCenter(t){if(!t||2!==t.split(",").length)return console.error("Invalid latlngColumn format:",t),Number.MAX_VALUE;let[e,s]=t.split(",").map(Number);if(isNaN(e)||isNaN(s))return console.error("Cannot parse lat or lng from latlngColumn:",t),Number.MAX_VALUE;if(!this.userLocation)return Number.MAX_VALUE;const o=this.userLocation,i=t=>t*Math.PI/180,a=i(e-o.lat),n=i(s-o.lng),r=Math.sin(a/2)*Math.sin(a/2)+Math.cos(i(o.lat))*Math.cos(i(e))*Math.sin(n/2)*Math.sin(n/2),l=2*Math.atan2(Math.sqrt(r),Math.sqrt(1-r));return 6371*l},handleScroll(){const t=this.$refs.scrollContainer;t.scrollHeight-t.scrollTop<=t.clientHeight+100&&!this.busy&&this.loadMore()},loadMore(){this.busy=!0,setTimeout((()=>{this.n<this.allCards.length&&(this.n+=10),this.busy=!1}),1e3)},locate(t,e){this.$emit("locate",t,e)},addBook(t){console.log(t),this.$emit("addBook",t)},removeBook(t){console.log(t),this.$emit("removeBook",t)},getUserLocation(){navigator.geolocation?navigator.geolocation.getCurrentPosition((t=>{const e=t.coords.latitude,s=t.coords.longitude;this.userLocation={lat:e,lng:s},console.log("User location obtained:",this.userLocation),this.allCards=this.processData(this.users)}),(t=>{console.error("Error getting user location:",t)})):console.error("Geolocation is not supported by this browser.")}}}),y=s(1241);const w=(0,y.A)(C,[["render",L],["__scopeId","data-v-26b101d3"]]);var M=w}}]);
//# sourceMappingURL=about.85cad187.js.map