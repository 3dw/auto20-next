(function(){"use strict";var e={6808:function(e,t,o){o.d(t,{UM:function(){return d},db:function(){return a},pO:function(){return u},sY:function(){return c},y6:function(){return r},yA:function(){return s}});var n=o(6400),i=o(4161);const l=(0,n.Wp)({apiKey:"AIzaSyA64Lzpmdn-HovWkOvTtPFecurm9Szaxf8",authDomain:"shackhand-autolearn.firebaseapp.com",databaseURL:"https://shackhand-autolearn.firebaseio.com",projectId:"shackhand-autolearn",storageBucket:"shackhand-autolearn.appspot.com",messagingSenderId:"270389952986",appId:"1:270389952986:web:010827f42571edac5c80e3"}),s=l,a=(0,i.C3)(l),r=((0,i.KR)(a,"places"),(0,i.KR)(a,"users")),u=(0,i.KR)(a,"chats"),c=(0,i.KR)(a,"groups"),d=(0,i.KR)(a,"books")},2848:function(e,t,o){var n=o(5130),i=o(6768),l=o(4232);const s={class:"ui menu",id:"main-menu"},a=(0,i.Lk)("i",{class:"icon bars"},null,-1),r=[a],u=(0,i.Lk)("i",{class:"home icon"},null,-1),c=(0,i.Lk)("i",{class:"info icon"},null,-1),d=(0,i.Lk)("i",{class:"map icon"},null,-1),h=(0,i.Lk)("i",{class:"users icon"},null,-1),p=(0,i.Lk)("i",{class:"object group outline icon"},null,-1),g={class:"right menu"},m={class:"ui simple dropdown item"},f=["src"],k={key:1,class:"user icon"},b={class:"menu"},v=(0,i.Lk)("i",{class:"flag icon"},null,-1),L={class:"ui divider"},y=(0,i.Lk)("i",{class:"book icon no-float"},null,-1),_=(0,i.Lk)("i",{class:"sign-out icon"},null,-1),C=(0,i.Lk)("i",{class:"home icon no-float"},null,-1),w=(0,i.Lk)("i",{class:"info icon no-float"},null,-1),A=(0,i.Lk)("i",{class:"save icon no-float"},null,-1),E=(0,i.Lk)("i",{class:"users icon no-float"},null,-1),S=(0,i.Lk)("i",{class:"map icon no-float"},null,-1),X=(0,i.Lk)("i",{class:"object group outlin icon no-float"},null,-1),W=(0,i.Lk)("i",{class:"user icon no-float"},null,-1),$=(0,i.Lk)("i",{class:"book icon no-float"},null,-1),M=(0,i.Lk)("br",null,null,-1),x={key:0,class:"ui form container"},F={class:"search-input"},U=(0,i.Lk)("i",{class:"search icon"},null,-1),T=(0,i.Lk)("br",null,null,-1),B=(0,i.Lk)("br",null,null,-1),I=(0,i.Lk)("br",null,null,-1);function H(e,t,o,a,H,R){const Q=(0,i.g2)("router-link"),G=(0,i.g2)("slide"),O=(0,i.g2)("carousel"),N=(0,i.g2)("router-view"),q=(0,i.g2)("chatbox"),j=(0,i.gN)("autofocus");return(0,i.uX)(),(0,i.CE)(i.FK,null,[(0,i.Lk)("nav",s,[(0,i.Lk)("button",{class:"no-border ui item",onClick:t[0]||(t[0]=(...t)=>e.toggleSidebar&&e.toggleSidebar(...t))},r),(0,i.bF)(Q,{class:"item fat-only",to:"/"},{default:(0,i.k6)((()=>[u,(0,i.Lk)("span",null,(0,l.v_)(e.$t("login.hp")),1)])),_:1}),(0,i.bF)(Q,{class:"item",to:"/about"},{default:(0,i.k6)((()=>[c,(0,i.eW)((0,l.v_)(e.$t("login.ab")),1)])),_:1}),(0,i.bF)(Q,{class:"item",to:"/maps"},{default:(0,i.k6)((()=>[d,(0,i.eW)((0,l.v_)(e.$t("login.mp")),1)])),_:1}),(0,i.bF)(Q,{class:"item fat-only",to:"/friends"},{default:(0,i.k6)((()=>[h,(0,i.eW)((0,l.v_)(e.$t("login.fr")),1)])),_:1}),(0,i.bF)(Q,{class:"item fat-only",to:"/groups"},{default:(0,i.k6)((()=>[p,(0,i.eW)((0,l.v_)(e.$t("login.gp")),1)])),_:1}),(0,i.Lk)("div",g,[(0,i.Lk)("div",m,[e.photoURL?((0,i.uX)(),(0,i.CE)("img",{key:0,class:"ui avatar image",src:e.photoURL},null,8,f)):((0,i.uX)(),(0,i.CE)("i",k)),(0,i.Lk)("div",b,[(0,i.bF)(Q,{class:"item",to:"/profile"},{default:(0,i.k6)((()=>[v,(0,i.eW)((0,l.v_)(e.$t("login.fg")),1)])),_:1}),(0,i.bo)((0,i.Lk)("div",L,null,512),[[n.aG,e.myGroupIdx().length>0]]),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.myGroupIdx(),(t=>((0,i.uX)(),(0,i.Wv)(Q,{class:"item",key:t,to:"/group/"+t},{default:(0,i.k6)((()=>[(0,i.eW)((0,l.v_)(e.groups[t].n),1)])),_:2},1032,["to"])))),128)),e.uid?((0,i.uX)(),(0,i.Wv)(Q,{key:0,class:"item",to:"/book"},{default:(0,i.k6)((()=>[y,(0,i.eW)((0,l.v_)(e.$t("login.bk")),1)])),_:1})):(0,i.Q3)("",!0),e.uid?((0,i.uX)(),(0,i.CE)("button",{key:1,class:"no-border ui item",onClick:t[1]||(t[1]=(...t)=>e.logout&&e.logout(...t))},[_,(0,i.eW)((0,l.v_)(e.$t("login.logout")),1)])):(0,i.Q3)("",!0)])])])]),(0,i.bF)(O,{wrapAround:!0,"items-to-show":1,autoplay:4e3,transition:4e3,pauseAutoplayOnHover:!0},{addons:(0,i.k6)((()=>[])),default:(0,i.k6)((()=>[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.news,(t=>((0,i.uX)(),(0,i.Wv)(G,{key:t},{default:(0,i.k6)((()=>[(0,i.Lk)("span",null,(0,l.v_)(e.$t("news."+t)),1)])),_:2},1024)))),128))])),_:1}),(0,i.Lk)("div",{class:(0,l.C4)(["ui sidebar vertical menu",{hidden:!e.sidebarVisible}]),id:"side-menu"},[(0,i.bF)(Q,{class:"item",to:"/"},{default:(0,i.k6)((()=>[C,(0,i.eW)((0,l.v_)(e.$t("login.hp")),1)])),_:1}),(0,i.bF)(Q,{class:"item",to:"/about"},{default:(0,i.k6)((()=>[w,(0,i.eW)((0,l.v_)(e.$t("login.ab")),1)])),_:1}),(0,i.bF)(Q,{class:"item",to:"/privacy-policy"},{default:(0,i.k6)((()=>[A,(0,i.eW)((0,l.v_)(e.$t("login.pr")),1)])),_:1}),(0,i.bF)(Q,{class:"item",to:"/friends"},{default:(0,i.k6)((()=>[E,(0,i.eW)((0,l.v_)(e.$t("login.fr")),1)])),_:1}),(0,i.bF)(Q,{class:"item",to:"/maps"},{default:(0,i.k6)((()=>[S,(0,i.eW)((0,l.v_)(e.$t("login.mp")),1)])),_:1}),(0,i.bF)(Q,{class:"item",to:"/groups"},{default:(0,i.k6)((()=>[X,(0,i.eW)((0,l.v_)(e.$t("login.gp")),1)])),_:1}),(0,i.bF)(Q,{class:"item",to:"/profile"},{default:(0,i.k6)((()=>[W,(0,i.eW)((0,l.v_)(e.$t("login.fg")),1)])),_:1}),e.uid?((0,i.uX)(),(0,i.Wv)(Q,{key:0,class:"item",to:"/book"},{default:(0,i.k6)((()=>[$,(0,i.eW)((0,l.v_)(e.$t("login.bk")),1)])),_:1})):(0,i.Q3)("",!0)],2),(0,i.Lk)("div",{class:(0,l.C4)(["ui sidebar bg",{hidden:!e.sidebarVisible}]),onClick:t[2]||(t[2]=(...t)=>e.toggleSidebar&&e.toggleSidebar(...t))},null,2),M,e.doSearch(e.$route.path)?((0,i.uX)(),(0,i.CE)("div",x,[(0,i.Lk)("div",F,[(0,i.bo)((0,i.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=t=>e.mySearch=t),placeholder:"關鍵字搜尋",autofocus:""},null,512),[[j],[n.Jo,e.mySearch]]),U])])):(0,i.Q3)("",!0),T,(0,i.bF)(N,{isInApp:e.isInApp,zoom:e.zoom,uid:e.uid,users:e.users,book:e.book,center:e.center,places:e.places,user:e.user,mySearch:e.mySearch,email:e.email,photoURL:e.photoURL,onLoginGoogle:e.loginGoogle,onAddBook:e.addBook,onRemoveBook:e.removeBook,onLocate:e.locate,onGetUserLocation:e.getUserLocation,onLogout:e.logout},null,8,["isInApp","zoom","uid","users","book","center","places","user","mySearch","email","photoURL","onLoginGoogle","onAddBook","onRemoveBook","onLocate","onGetUserLocation","onLogout"]),B,I,(0,i.bF)(q,{id:"ch",onLoginGoogle:e.loginGoogle,uid:e.uid,user:e.user,photoURL:e.photoURL},null,8,["onLoginGoogle","uid","user","photoURL"])],64)}o(4114);var R=o(9420),Q=o.n(R),G=o(4161),O=o(6808),N=o(2621);const q=e=>((0,i.Qi)("data-v-62c1e978"),e=e(),(0,i.jt)(),e),j={class:"ui inverted big menu",id:"menu"},D={class:"item ui form"},P={class:"ui input"},K={class:"right menu"},V=q((()=>(0,i.Lk)("i",{class:"comments icon"},null,-1))),z=q((()=>(0,i.Lk)("i",{class:"compress icon"},null,-1))),Z={id:"box"},J={class:"ui list"},Y=["src"],ee=["onClick"],te={class:"text"},oe={key:0,class:"item preview"},ne=["src"],ie={key:1,class:"item"},le={class:"ui form"},se={class:"field"},ae=["src"],re={class:"inline fields"},ue={class:"field"},ce={class:"ui radio checkbox"},de=["value"],he=["onClick"],pe={class:"ui button group"},ge={key:2,class:"item"},me={key:0,class:"ui big buttons"},fe=q((()=>(0,i.Lk)("i",{class:"google icon"},null,-1)));function ke(e,t,o,s,a,r){const u=(0,i.g2)("router-link");return(0,i.uX)(),(0,i.CE)("div",{class:(0,l.C4)(["chats",{full:e.isFull,mini:e.isMini}])},[(0,i.Lk)("div",j,[(0,i.bo)((0,i.Lk)("div",D,[(0,i.Lk)("div",P,[(0,i.bo)((0,i.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.key=t),placeholder:"搜尋"},null,512),[[n.Jo,e.key]])])],512),[[n.aG,e.isFull]]),(0,i.Lk)("div",K,[e.isFull?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("a",{key:0,class:"item",onClick:t[1]||(t[1]=t=>{e.isFull=!0,e.isMini=!1,e.reCount()})},[V,(0,i.eW)((0,l.v_)(e.$t("chat.gc")),1),(0,i.bo)((0,i.Lk)("div",{class:"red note"},(0,l.v_)(e.fil(e.chats).length-e.read),513),[[n.aG,e.fil(e.chats).length>e.read]])])),e.isMini?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("a",{key:1,class:"item",onClick:t[2]||(t[2]=t=>{e.isFull=!1,e.isMini=!0})},[z,(0,i.eW)((0,l.v_)(e.$t("chat.cp")),1)]))])]),(0,i.Lk)("div",Z,[(0,i.Lk)("div",J,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.fil(e.chats).slice(e.fil(e.chats).length-5,e.fil(e.chats).length),((t,o)=>((0,i.uX)(),(0,i.CE)("div",{class:"item",key:t.t},[(0,i.bo)((0,i.Lk)("p",null,[(0,i.bF)(u,{to:"/flag/"+t.uid},{default:(0,i.k6)((()=>[(0,i.Lk)("img",{class:"ui avatar",src:t.photoURL||"http://graph.facebook.com/"+t.uid+"/picture",alt:"^_^"},null,8,Y)])),_:2},1032,["to"]),(0,i.Lk)("a",{onClick:o=>e.key=t.l,class:(0,l.C4)(t.l)},"["+(0,l.v_)(t.l)+"]",11,ee),(0,i.Lk)("span",te,(0,l.v_)(t.n)+" : "+(0,l.v_)(t.t),1),(0,i.bo)((0,i.Lk)("span",{class:"gray"},"  -"+(0,l.v_)(e.countDateDiff(t.time)),513),[[n.aG,e.isFull]])],512),[[n.aG,e.edit!==t]])])))),128)),e.p.t?((0,i.uX)(),(0,i.CE)("div",oe,[(0,i.bF)(u,{to:"/flag/"+e.p.uid},{default:(0,i.k6)((()=>[(0,i.Lk)("img",{class:"ui avatar",src:e.p.photoURL||"/static/img/handshake0.png"},null,8,ne)])),_:1},8,["to"]),(0,i.Lk)("a",{onClick:t[3]||(t[3]=t=>e.key=e.p.l),class:(0,l.C4)(e.p.l)},"["+(0,l.v_)(e.p.l)+"] (預覽)",3),(0,i.eW)((0,l.v_)(e.p.n)+" : "+(0,l.v_)(e.p.t),1),(0,i.bo)((0,i.Lk)("span",{class:"gray"},"  -"+(0,l.v_)(e.countDateDiff(e.p.time)),513),[[n.aG,e.isFull]])])):(0,i.Q3)("",!0),e.uid?((0,i.uX)(),(0,i.CE)("div",ie,[(0,i.Lk)("div",le,[(0,i.Lk)("div",se,[(0,i.Lk)("img",{class:"ui avatar",src:e.photoURL},null,8,ae),(0,i.bo)((0,i.Lk)("input",{class:"input","onUpdate:modelValue":t[4]||(t[4]=t=>e.msg=t),placeholder:"在想什麼嗎?",autofocus:""},null,512),[[n.Jo,e.msg]])]),(0,i.Lk)("div",re,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.labels,(o=>((0,i.uX)(),(0,i.CE)("div",ue,[(0,i.Lk)("div",ce,[(0,i.bo)((0,i.Lk)("input",{type:"radio",name:"l","onUpdate:modelValue":t[5]||(t[5]=t=>e.label=t),value:o},null,8,de),[[n.XL,e.label]]),(0,i.Lk)("label",null,[(0,i.Lk)("a",{onClick:t=>e.label=o,class:(0,l.C4)(o)},(0,l.v_)(o),11,he)])])])))),256)),(0,i.Lk)("div",pe,[(0,i.Lk)("a",{class:"ui blue small button",onClick:t[6]||(t[6]=(...t)=>e.preview&&e.preview(...t))},"預覽"),(0,i.Lk)("a",{class:"ui green small button",onClick:t[7]||(t[7]=(...t)=>e.addChat&&e.addChat(...t))},"留言")])])])])):((0,i.uX)(),(0,i.CE)("div",ge,[e.uid?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("div",me,[(0,i.Lk)("button",{class:"ui orange button",onClick:t[8]||(t[8]=t=>e.loginGoogle())},[fe,(0,i.eW)("登入以留言 ")])]))]))])])],2)}var be=o(9034),ve=(0,i.pM)({name:"ChatBox",mixins:[be.A],props:["uid","user","photoURL"],data(){return{p:"",msg:"",key:"閒聊",edit:"",chats:[],read:0,isFull:!1,isMini:!0,label:"閒聊",labels:["諮詢","故障","找伴","閒聊"]}},watch:{label(e){this.key=e}},methods:{preview(){var e={uid:this.uid,n:this.user.providerData[0].displayName,t:this.msg,l:this.label,edit:!1,photoURL:this.photoURL||"",time:(new Date).getTime()};this.p=e},addChat(){var e={uid:this.uid,n:this.user.providerData[0].displayName,t:this.msg,l:this.label,photoURL:this.photoURL||"",time:(new Date).getTime()};if(this.msg){const t=(Math.random()+"").substr(0,8).replace(".","");this.chats[t]=e,this.msg="",this.p=""}(0,G.hZ)((0,G.KR)(O.db,"chats"),this.chats).then(console.log("chats更新成功"))},loginGoogle(){this.$emit("loginGoogle")},fil(e){var t=this.key;const o=Object.keys(e);for(var n=[],i=0;i<o.length;i++)n.push(e[o[i]]);return n=n.filter((function(e){return(e.t+e.l).indexOf(t)>-1||!t})).map((function(e){return e.edit=!1,e})),n.sort((function(e,t){return e.time-t.time})),n},reCount(){this.read=this.fil(this.chats).length,localStorage.setItem("read",this.read)}},mounted(){(0,G.Zy)(O.pO,(e=>{const t=e.val();this.chats=t})),this.read=localStorage.getItem("read")||0,"undefined"===this.read&&(this.read=0)}}),Le=o(1241);const ye=(0,Le.A)(ve,[["render",ke],["__scopeId","data-v-62c1e978"]]);var _e=ye,Ce=o(1114);const we=new(Q())(window.navigator.userAgent);let Ae=we.isInApp;/Android/.test(window.navigator.userAgent)&&/Chrome|Google/.test(window.navigator.userAgent)&&(Ae=!1);const Ee=(0,N.xI)(O.yA),Se=new N.HF;Se.addScope("profile"),Se.addScope("email"),Se.addScope("https://www.googleapis.com/auth/userinfo.email");var Xe=(0,i.pM)({name:"WeLearn",components:{Carousel:Ce.FN,Slide:Ce.q7,Pagination:Ce.dK,Navigation:Ce.Vx,Chatbox:_e},data(){return{mySearch:"",news:["upgrading","flag","remove"],zoom:7,center:[23.533,121.0654],sidebarVisible:!1,users:null,book:[],books:[],user:null,email:null,uid:"",photoURL:null,isInApp:Ae,groups:null,places:null}},mounted(){const e=this;console.log(e.isInApp),(0,G.Zy)(O.y6,(t=>{const o=t.val();e.users=o})),(0,G.Zy)(O.sY,(t=>{const o=t.val();e.groups=o})),(0,G.Zy)(O.UM,(t=>{console.log("get books");const o=t.val()||{};e.books=o}))},watch:{$route(e,t){console.log(t.path),console.log(e.path),window.scrollTo(0,0),this.sidebarVisible=!1},center(e,t){console.log("Center updated from",t,"to",e)},uid(e){e&&(this.book=this.books[e],console.log(this.book),this.$nextTick((()=>{console.log("Book updated and propagated to children")})))}},methods:{doSearch:function(e){return!e.match(/(^\/$|myPlace|polis|qr|outer|flag|myFlag|group\/|place|profile|about|privacy-policy|faq|flag\/\d+|ans\/\d+)/)},myGroupIdx(){return(this.groups||[]).filter((e=>(e.members||[]).indexOf(this.uid||"")>-1)).map((function(e){return e.idx}))},changeZh(){this.$i18n.locale="zh",localStorage.setItem("lang","zh")},changeEn(){this.$i18n.locale="en",localStorage.setItem("lang","en")},locate:function(e,t){this.zoom=13,this.center=e.latlngColumn.split(","),console.log("Updated location:",this.center),this.$nextTick((()=>{console.log("Center updated and propagated to children")})),t&&this.$router.push({path:"/maps"})},getUserLocation:function(){console.log("try getUserLocation"),navigator.geolocation?navigator.geolocation.getCurrentPosition((e=>{this.center=[e.coords.latitude,e.coords.longitude],console.log("Updated location:",this.center),this.$nextTick((()=>{console.log("Center updated and propagated to children")}))}),(e=>{console.error("Error getting location:",e)})):console.error("Geolocation is not supported by this browser.")},toggleSidebar(){console.log("toggleSidebar"),this.sidebarVisible=!this.sidebarVisible},setLocal:function(e){console.log("set:"+e),"book"==e&&localStorage.setItem(e,JSON.stringify(this.book))},addBook:function(e){-1===this.book.indexOf(e)&&(this.book.push(e),(0,G.hZ)((0,G.KR)(O.db,"books/"+this.uid),this.book))},removeBook:function(e){window.confirm("確定要將這位朋友移出您的名簿嗎？")&&(this.book.splice(e,1),(0,G.hZ)((0,G.KR)(O.db,"books/"+this.uid),this.book))},copyLink(){if(!document.hasFocus())return void alert("Document does not have focus, cannot copy link.");console.log(this.$route);const e="https://auto20-next.pages.dev/#"+this.$route.path;navigator.clipboard.writeText(e).then((()=>{window.alert("已複製當前網址: "+e)})).catch((e=>{console.error("無法複製當前網址: ",e)})),this.$forceUpdate()},logout(){const e=this;Ee.signOut().then((function(){e.user=null,e.uid="",e.photoURL="",console.log(e.$router),e.$router.push("/")}))},loginGoogle:function(){const e=this;this.isInApp?window.alert("本系統不支援Facebook, Line等App內部瀏覽，請用一般瀏覽器開啟，方可登入，謝謝"):(0,N.df)(Ee,Se).then((t=>{const o=t.user;e.user=o,e.email=o.providerData[0].email,e.uid=o.uid,console.log(e.uid),e.photoURL=o.photoURL?decodeURI(o.photoURL):"https://auto20-next.pages.dev/logo-new.png",e.uid&&e.users[e.uid]&&(e.user=e.users[e.uid]),e.uid&&e.users[e.uid]&&e.users[e.uid].latlngColumn&&this.locate(e.users[e.uid],!1),e.$router.push("/profile")})).catch((e=>{console.error("Login error:",e),e.message.includes("sessionStorage")&&window.alert("瀏覽器不支持sessionStorage，請檢查瀏覽器設置或更換瀏覽器再試一次。")}))}}});const We=(0,Le.A)(Xe,[["render",H]]);var $e=We,Me=o(1387),xe=o(1501);const Fe=e=>((0,i.Qi)("data-v-fb099776"),e=e(),(0,i.jt)(),e),Ue={class:"home"},Te=Fe((()=>(0,i.Lk)("img",{id:"main-img",src:xe,alt:"互助互惠"},null,-1)));function Be(e,t,o,n,l,s){const a=(0,i.g2)("HelloWorld");return(0,i.uX)(),(0,i.CE)("div",Ue,[Te,(0,i.bF)(a,{uid:e.uid,users:e.users,places:e.places,book:e.book,isInApp:e.isInApp,onAddBook:e.addBook,onLocate:e.locate,onRemoveBook:e.removeBook,onLoginGoogle:e.loginGoogle},null,8,["uid","users","places","book","isInApp","onAddBook","onLocate","onRemoveBook","onLoginGoogle"])])}const Ie=e=>((0,i.Qi)("data-v-45abd252"),e=e(),(0,i.jt)(),e),He={class:"hello"},Re={class:"ui header"},Qe=Ie((()=>(0,i.Lk)("br",null,null,-1))),Ge={class:"ui huge buttons"},Oe=Ie((()=>(0,i.Lk)("i",{class:"google icon"},null,-1))),Ne=Ie((()=>(0,i.Lk)("div",{class:"or"},null,-1))),qe={key:0};function je(e,t,o,n,s,a){const r=(0,i.g2)("router-link"),u=(0,i.g2)("loader");return(0,i.uX)(),(0,i.CE)(i.FK,null,[(0,i.Lk)("div",He,[(0,i.Lk)("h4",Re,(0,l.v_)(e.$t("login.hd")),1)]),Qe,(0,i.Lk)("div",Ge,[e.user&&e.user.uid?((0,i.uX)(),(0,i.Wv)(r,{key:1,class:"ui blue button",to:"/profile"},{default:(0,i.k6)((()=>[(0,i.eW)((0,l.v_)(e.$t("login.go_flag")),1)])),_:1})):((0,i.uX)(),(0,i.CE)("button",{key:0,class:(0,l.C4)(["ui basic orange button",{disabled:e.isInApp}]),onClick:t[0]||(t[0]=(...t)=>e.loginGoogle&&e.loginGoogle(...t))},[Oe,(0,i.eW)((0,l.v_)(e.$t("login.login")),1)],2)),Ne,(0,i.bF)(r,{class:"ui blue button",to:"/about"},{default:(0,i.k6)((()=>[(0,i.eW)((0,l.v_)(e.$t("login.lm")),1)])),_:1})]),e.isInApp?((0,i.uX)(),(0,i.CE)("p",qe,"本系統不支援facebook, link等app內部瀏覽，請用一般瀏覽器開啟，方可登入，謝謝")):(0,i.Q3)("",!0),0==e.toList(e.users).length?((0,i.uX)(),(0,i.Wv)(u,{key:1})):(0,i.Q3)("",!0)],64)}var De=o(64),Pe=o(2119),Ke=(0,i.pM)({name:"HelloWorld",components:{Card:De.A,Loader:Pe.A},props:{uid:{type:String,required:!1,default:""},user:{type:Object,required:!1,default:()=>({})},users:{type:Object,required:!1,default:()=>({})},places:{type:Object,required:!1,default:()=>({})},book:{type:Array,required:!1,default:()=>[]},mySearch:{type:String,required:!1,default:""},isInApp:{type:Boolean,required:!0}},data(){return{logic:"random",shuffledList:[],newestList:[]}},emits:["addBook","removeBook","locate","loginGoogle"],computed:{ordered_list(){return"random"===this.logic?this.shuffledList:this.newestList}},watch:{logic(e){"random"===e?this.shuffleList():"newest"===e&&this.sortByNewest()},users:{handler(){this.shuffleList(),this.sortByNewest()},deep:!0},places:{handler(){this.shuffleList(),this.sortByNewest()},deep:!0}},mounted(){this.shuffleList(),this.sortByNewest()},methods:{toList(e){return e&&"object"===typeof e?Object.values(e):[]},shuffleList(){const e=this.toList(this.users).concat(this.toList(this.places));for(let t=e.length-1;t>0;t--){const o=Math.floor(Math.random()*(t+1));[e[t],e[o]]=[e[o],e[t]]}this.shuffledList=e},sortByNewest(){const e=this.toList(this.users).slice().sort(((e,t)=>!t.lastUpdate||isNaN(t.lastUpdate)?-1:t.lastUpdate-e.lastUpdate));this.newestList=e},addBook(e){console.log(e),this.$emit("addBook",e)},removeBook(e){console.log(e),this.$emit("removeBook",e)},locate(e,t){this.$emit("locate",e,t)},loginGoogle(){this.$emit("loginGoogle")}}});const Ve=(0,Le.A)(Ke,[["render",je],["__scopeId","data-v-45abd252"]]);var ze=Ve,Ze=(0,i.pM)({name:"HomeView",components:{HelloWorld:ze},props:{uid:{type:String,required:!1,default:()=>""},users:{type:Object,required:!1,default:()=>({})},places:{type:Object,required:!1,default:()=>({})},book:{type:Array,required:!1,default:()=>[]},mySearch:{type:String,required:!1,default:()=>""},isInApp:{type:Boolean,required:!0}},emits:["addBook","removeBook","locate","loginGoogle"],methods:{addBook:function(e){console.log(e),this.$emit("addBook",e)},removeBook:function(e){console.log(e),this.$emit("removeBook",e)},locate:function(e,t){this.$emit("locate",e,t)},loginGoogle:function(){this.$emit("loginGoogle")}}});const Je=(0,Le.A)(Ze,[["render",Be],["__scopeId","data-v-fb099776"]]);var Ye=Je,et=o(5384),tt={login:{welcome:"Welcome to Autonomous Learning 2.0(Auto20) non-profit friend search platform",hp:"Home page",ab:"About us",mp:"Map",fr:"Friends",gp:"Groups",fg:"My flag",hd:"Some are first in learning, and others excel in different fields.",pr:"Privacy Policy",bk:"My directory",logout:"Logout",lm:"Learn more",login:"Login",go_flag:"Go to my flag"},chat:{gc:"Chats",cp:"Shrink"},news:{upgrading:"We are upgrading",flag:"Please update your flag regularly",remove:"Flags that logged in with Facebook will be removed"},about:{intro:" Introduction ",what_is_auto20:"What is Autonomous Learning 2.0(Auto20)?",auto20:"Autonomous Learning 2.0(Auto20)",intro_1:' is a public welfare friend-finding platform, free of charge and without advertising. It aims to help users find friends through geographical location, personal interests and expertise. The core function of the platform, "Mutual Aid Flag", provides public self-introduction, allowing people to get to know each other initially before meeting.',al:"Autonomous Learning",intro_2:' is "homeschooling" in the narrow sense and "Self-directed learning" in the broad sense. Independent learning is an attitude of being responsible for one\'s own growth and life.',intro_3:'We welcome all friends who are interested in "Self-directed Learning" to participate, regardless of age and whether they are in school or not.'},privacy:{title:"Privacy Policy",strong:"In order to protect your personal privacy, please do not place any sensitive or too complete personally identifiable information on the mutual aid flag."}},ot={login:{welcome:"歡迎來到自學2.0公益尋友平台",hp:"首頁",ab:"關於我們",mp:"地圖",fr:"夥伴",gp:"社團",fg:"我的旗幟",hd:"聞道有先後，術業有專攻",pr:"隱私權政策",bk:"我的名簿",logout:"登出",lm:"瞭解更多",login:"登入",go_flag:"前往我的旗幟"},chat:{gc:"群聊",cp:"縮小"},news:{upgrading:"自學2.0更新中",flag:"請定期更新您的互助旗",remove:"以Facebook登入之旗幟將被移除"},about:{intro:" 使用說明 ",what_is_auto20:"自學2.0是什麼？",auto20:"自學2.0",intro_1:"是一個公益尋友平台，免付費、無業配廣告，旨在透過地理位置、個人興趣及專長來協助用戶尋找朋友。平台的核心功能「互助旗」提供公開的自我介紹，讓人們在見面前能初步了解和認識對方。",al:"自學",intro_2:"有狹義的「在家自學」和廣義的「自主學習」。自主學習是一種為自己的成長和生命負責的態度。",intro_3:"自學2.0歡迎所有對「自主學習」有興趣的朋友一起參與，不分年齡、在校與否。"},privacy:{title:"隱私權政策",strong:"為了保護您的個人隱私，請不要在互助旗上放置任何敏感或過於完整的個人身份資訊。"}};const nt=[{path:"/",name:"home",component:Ye},{path:"/qr/:uid",name:"qr",component:()=>o.e(998).then(o.bind(o,2613))},{path:"/about",name:"about",component:()=>o.e(594).then(o.bind(o,3778))},{path:"/privacy-policy",name:"privacy-policy",component:()=>o.e(928).then(o.bind(o,4525))},{path:"/profile",name:"profile",component:()=>Promise.all([o.e(886),o.e(138)]).then(o.bind(o,2907))},{path:"/flag/:uid",name:"Flag",component:()=>o.e(5).then(o.bind(o,8976))},{path:"/friends",name:"friends",component:()=>o.e(594).then(o.bind(o,2134))},{path:"/maps",name:"maps",component:()=>Promise.all([o.e(886),o.e(522)]).then(o.bind(o,5073))},{path:"/groups",name:"groups",component:()=>o.e(583).then(o.bind(o,5119))},{path:"/group/:idx",name:"group",component:()=>o.e(583).then(o.bind(o,5400))},{path:"/book",name:"book",component:()=>o.e(952).then(o.bind(o,295))}],it=(0,Me.aE)({history:(0,Me.Bt)(),routes:nt}),lt=(0,et.hU)({locale:localStorage.getItem("lang")||"zh",fallbackLocale:localStorage.getItem("lang")||"zh",globalInjection:!0,legacy:!1,messages:{zh:ot,en:tt}}),st=(0,n.Ef)($e);st.use(it),st.use(lt),st.mount("#app")},9034:function(e,t){t.A={methods:{part(e){return String(e).substring(0,100)},toAge(e){const t=(new Date).getFullYear();return t-parseInt(e)},highlight(e,t){if(!e)return"";if(e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"),e=e.replace(/&lt;\s*br\/?\s*&gt;/g,"<br/>"),!t)return e;if(t.startsWith("$"))return e;const o=t.split(/\s+/g);for(const n of o)e=e.replace(new RegExp(n,"gi"),'<span class="highlightedText">$&</span>');return e},getIcon(e){return e&&e.photoURL?e.photoURL:e&&e.name?`https://www.moedict.tw/${e.name}.png`:"https://www.moedict.tw/unknown.png"},countDateDiff(e){if(!e)return"";const t=new Date(e);return t.toLocaleDateString()},makeHref(e){if(!e)return"";let t=String(e);return t.startsWith("http://")||t.startsWith("https://")||(t="http://"+t),t.replace("https://","")},badAge(e){if(!e)return!1;const t=(new Date).getFullYear(),o=t-parseInt(e);return isNaN(o)},isValid(e){return e&&e.name&&e.share&&e.learner_habit&&e.note&&e.address&&!("undefined,undefined"===e.latlngColumn)&&!("36.778261,-119.4179324"===e.latlngColumn)&&e.connect_me},asValid(e){return e&&e.name&&e.note&&e.note.length>=20&&e.address&&!("undefined,undefined"===e.latlngColumn)&&!("36.778261,-119.4179324"===e.latlngColumn)},searchBy(e,t){const o=Object.keys(e),n=o.map((t=>e[t]));if(!n)return[];t||(t="");const i=t.split(/[\s&]+/g);let l=n;for(const s of i){let e,t;[e,t]=s.split(/[~-]/),s.match(/(\d+)[~-](\d+)/)?l=l.filter((o=>(this.toAge(o.learner_birth)<=Number(t)&&this.toAge(o.learner_birth))>=e||this.toAge(o.child_birth)<=Number(t)&&this.toAge(o.child_birth)>=e||this.toAge(o.child_birth2)<=Number(t)&&this.toAge(o.child_birth2)>=e)):s.match(/(\d+)\+/)?(e=s.split("+")[0],l=l.filter((t=>this.toAge(t.learner_birth)>=Number(e)||this.toAge(t.child_birth)>=Number(e)||this.toAge(t.child_birth2)>=Number(e)))):s.match(/(\d+)-/)?(t=s.split("-")[0],l=l.filter((e=>this.toAge(e.learner_birth)<=Number(t)||this.toAge(e.child_birth)<=Number(t)||this.toAge(e.child_birth2)<=Number(t)))):l=l.filter((e=>!!e.name&&(e.name+e.address+e.note+e.freetime+e.learner_habit+e.share+e.ask+e.id).includes(s)))}return l.sort(((e,t)=>(e.lastUpdate||(e.lastUpdate=0),t.lastUpdate||(t.lastUpdate=0),t.lastUpdate-e.lastUpdate))),l}}}},64:function(e,t,o){o.d(t,{A:function(){return He}});var n=o(6768),i=o(4232),l=o(5130);const s=e=>((0,n.Qi)("data-v-389e75ef"),e=e(),(0,n.jt)(),e),a={class:"hello"},r={class:"image"},u={class:"ui header"},c=["src"],d={key:0},h=["innerHTML"],p={key:1},g={key:2},m={key:3},f={class:"content"},k={class:"description gray"},b=["innerHTML"],v=["innerHTML"],L=["innerHTML"],y=["innerHTML"],_=["innerHTML"],C={key:0,class:"content"},w=s((()=>(0,n.Lk)("div",{class:"ui divider"},null,-1))),A={key:0,class:"descrtpion"},E={key:1,class:"descrtpion"},S={key:2,class:"descrtpion"},X={class:"content"},W=s((()=>(0,n.Lk)("div",{class:"ui divider"},null,-1))),$={key:0},M=["src"],x=s((()=>(0,n.Lk)("i",{class:"right arrow icon"},null,-1))),F={key:1},U=["src"],T=s((()=>(0,n.Lk)("i",{class:"right arrow icon"},null,-1))),B={class:"content"},I=s((()=>(0,n.Lk)("div",{class:"ui divider"},null,-1))),H={key:0,class:"descrtpion"},R=["innerHTML"],Q=s((()=>(0,n.Lk)("br",null,null,-1))),G={key:1,class:"descrtpion"},O=["innerHTML"],N=s((()=>(0,n.Lk)("br",null,null,-1))),q=["to"],j={class:"image"},D={class:"ui header"},P=["src"],K={key:0},V=["innerHTML"],z={key:1},Z={key:2},J={key:3},Y={class:"content"},ee={class:"description gray"},te=["innerHTML"],oe=["innerHTML"],ne=["innerHTML"],ie=["innerHTML"],le=["innerHTML"],se={key:0,class:"content"},ae=s((()=>(0,n.Lk)("div",{class:"ui divider"},null,-1))),re={key:0,class:"descrtpion"},ue={key:1,class:"descrtpion"},ce={key:2,class:"descrtpion"},de={class:"content"},he=s((()=>(0,n.Lk)("div",{class:"ui divider"},null,-1))),pe={key:0},ge=["src"],me=s((()=>(0,n.Lk)("i",{class:"right arrow icon"},null,-1))),fe={key:1},ke=["src"],be=s((()=>(0,n.Lk)("i",{class:"right arrow icon"},null,-1))),ve={class:"content"},Le=s((()=>(0,n.Lk)("div",{class:"ui divider"},null,-1))),ye={key:0,class:"descrtpion"},_e=["innerHTML"],Ce=s((()=>(0,n.Lk)("br",null,null,-1))),we={key:1,class:"descrtpion"},Ae=["innerHTML"],Ee=s((()=>(0,n.Lk)("br",null,null,-1))),Se=s((()=>(0,n.Lk)("div",{class:"filler"},null,-1))),Xe=s((()=>(0,n.Lk)("i",{class:"book icon"},null,-1))),We=s((()=>(0,n.Lk)("i",{class:"book icon"},null,-1))),$e=s((()=>(0,n.Lk)("i",{class:"map icon"},null,-1))),Me=s((()=>(0,n.Lk)("i",{class:"share square icon"},null,-1))),xe=s((()=>(0,n.Lk)("i",{class:"qrcode icon"},null,-1)));function Fe(e,t,o,s,Fe,Ue){const Te=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("div",a,[e.clickable?((0,n.uX)(),(0,n.Wv)(Te,{key:0,to:"/flag/"+(e.h.uid||e.h.idx)},{default:(0,n.k6)((()=>[(0,n.Lk)("div",r,[(0,n.Lk)("h3",u,[(0,n.Lk)("img",{class:"main",src:e.getIcon(e.h),alt:"^_^"},null,8,c),(0,n.eW)((0,i.v_)(e.h.name),1),e.h.learner_birth?((0,n.uX)(),(0,n.CE)("span",d,[(0,n.eW)("-"),(0,n.Lk)("span",{innerHTML:e.toAge(e.h.learner_birth)},null,8,h),(0,n.eW)("歲")])):(0,n.Q3)("",!0),e.h.child_birth?((0,n.uX)(),(0,n.CE)("span",p,"(孩子約")):(0,n.Q3)("",!0),e.h.child_birth2?((0,n.uX)(),(0,n.CE)("span",g,(0,i.v_)(e.toAge(e.h.child_birth2))+" ~",1)):(0,n.Q3)("",!0),e.h.child_birth?((0,n.uX)(),(0,n.CE)("span",m,(0,i.v_)(e.toAge(e.h.child_birth))+" 歲)",1)):(0,n.Q3)("",!0)])]),(0,n.Lk)("div",f,[(0,n.Lk)("p",k,[(0,n.Lk)("span",{innerHTML:e.highlight(e.h.address,e.mySearch)},null,8,b),(0,n.eW)("   - "+(0,i.v_)(e.countDateDiff(e.h.lastUpdate))+"已更新",1)]),e.h.learner_habit?((0,n.uX)(),(0,n.CE)("p",{key:0,class:"description",innerHTML:"興趣： "+e.highlight(e.h.learner_habit,e.mySearch)},null,8,v)):(0,n.Q3)("",!0),e.h.share?((0,n.uX)(),(0,n.CE)("p",{key:1,class:"description",innerHTML:"可分享： "+e.highlight(e.h.share,e.mySearch)},null,8,L)):(0,n.Q3)("",!0),e.h.ask?((0,n.uX)(),(0,n.CE)("p",{key:2,class:"description",innerHTML:"尋找： "+e.highlight(e.h.ask,e.mySearch)},null,8,y)):(0,n.Q3)("",!0),e.h.price?((0,n.uX)(),(0,n.CE)("p",{key:3,class:"description",innerHTML:"可支付： "+e.highlight(e.h.price,e.mySearch)},null,8,_)):(0,n.Q3)("",!0)]),e.h.connect_me&&e.full?((0,n.uX)(),(0,n.CE)("div",C,[w,e.isEmail(e.h.connect_me)?((0,n.uX)(),(0,n.CE)("p",A,[(0,n.eW)("可點擊的email連絡方式： "),(0,n.Lk)("a",{onClick:t[0]||(t[0]=(0,l.D$)((t=>e.gotoMail(e.h.connect_me)),["stop"]))},(0,i.v_)(e.h.connect_me),1)])):((0,n.uX)(),(0,n.CE)("p",E,"連絡方式： "+(0,i.v_)(e.h.connect_me),1)),e.h.freetime?((0,n.uX)(),(0,n.CE)("p",S,"有空時間： "+(0,i.v_)(e.h.freetime),1)):(0,n.Q3)("",!0)])):(0,n.Q3)("",!0),(0,n.Lk)("div",X,[W,e.h.site?((0,n.uX)(),(0,n.CE)("p",$,[(0,n.Lk)("a",{onClick:t[1]||(t[1]=(0,l.D$)((t=>e.goto(e.h.site)),["stop"]))},[(0,n.eW)("個人網址："),(0,n.Lk)("img",{src:"https://www.google.com/s2/favicons?domain="+e.h.site,title:"個人網址",alt:"個人網址"},null,8,M),x])])):(0,n.Q3)("",!0),e.h.site2?((0,n.uX)(),(0,n.CE)("p",F,[(0,n.Lk)("a",{onClick:t[2]||(t[2]=(0,l.D$)((t=>e.goto(e.h.site2)),["stop"]))},[(0,n.eW)("社群網址："),(0,n.Lk)("img",{src:"https://www.google.com/s2/favicons?domain="+e.h.site2,title:"社群網址",alt:"個人網址"},null,8,U),T])])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",B,[I,e.full?((0,n.uX)(),(0,n.CE)("p",G,[(0,n.Lk)("span",{class:"text",innerHTML:e.highlight(e.h.note,e.mySearch)},null,8,O),N])):((0,n.uX)(),(0,n.CE)("p",H,[(0,n.Lk)("span",{class:"text",innerHTML:e.highlight(e.part(e.h.note),e.mySearch)+"..."},null,8,R),Q]))])])),_:1},8,["to"])):((0,n.uX)(),(0,n.CE)("div",{key:1,to:"/flag/"+(e.h.uid||e.h.idx)},[(0,n.Lk)("div",j,[(0,n.Lk)("h3",D,[(0,n.Lk)("img",{class:"main",src:e.getIcon(e.h),alt:"^_^"},null,8,P),(0,n.eW)((0,i.v_)(e.h.name),1),e.h.learner_birth?((0,n.uX)(),(0,n.CE)("span",K,[(0,n.eW)("-"),(0,n.Lk)("span",{innerHTML:e.toAge(e.h.learner_birth)},null,8,V),(0,n.eW)("歲")])):(0,n.Q3)("",!0),e.h.child_birth?((0,n.uX)(),(0,n.CE)("span",z,"(孩子約")):(0,n.Q3)("",!0),e.h.child_birth2?((0,n.uX)(),(0,n.CE)("span",Z,(0,i.v_)(e.toAge(e.h.child_birth2))+" ~",1)):(0,n.Q3)("",!0),e.h.child_birth?((0,n.uX)(),(0,n.CE)("span",J,(0,i.v_)(e.toAge(e.h.child_birth))+" 歲)",1)):(0,n.Q3)("",!0)])]),(0,n.Lk)("div",Y,[(0,n.Lk)("p",ee,[(0,n.Lk)("span",{innerHTML:e.highlight(e.h.address,e.mySearch)},null,8,te),(0,n.eW)("   - "+(0,i.v_)(e.countDateDiff(e.h.lastUpdate))+"已更新",1)]),e.h.learner_habit?((0,n.uX)(),(0,n.CE)("p",{key:0,class:"description",innerHTML:"興趣： "+e.highlight(e.h.learner_habit,e.mySearch)},null,8,oe)):(0,n.Q3)("",!0),e.h.share?((0,n.uX)(),(0,n.CE)("p",{key:1,class:"description",innerHTML:"可分享： "+e.highlight(e.h.share,e.mySearch)},null,8,ne)):(0,n.Q3)("",!0),e.h.ask?((0,n.uX)(),(0,n.CE)("p",{key:2,class:"description",innerHTML:"尋找： "+e.highlight(e.h.ask,e.mySearch)},null,8,ie)):(0,n.Q3)("",!0),e.h.price?((0,n.uX)(),(0,n.CE)("p",{key:3,class:"description",innerHTML:"可支付： "+e.highlight(e.h.price,e.mySearch)},null,8,le)):(0,n.Q3)("",!0)]),e.h.connect_me&&e.full?((0,n.uX)(),(0,n.CE)("div",se,[ae,e.isEmail(e.h.connect_me)?((0,n.uX)(),(0,n.CE)("p",re,[(0,n.eW)("可點擊的email連絡方式： "),(0,n.Lk)("a",{onClick:t[3]||(t[3]=(0,l.D$)((t=>e.gotoMail(e.h.connect_me)),["stop"]))},(0,i.v_)(e.h.connect_me),1)])):((0,n.uX)(),(0,n.CE)("p",ue,"連絡方式： "+(0,i.v_)(e.h.connect_me),1)),e.h.freetime?((0,n.uX)(),(0,n.CE)("p",ce,"有空時間： "+(0,i.v_)(e.h.freetime),1)):(0,n.Q3)("",!0)])):(0,n.Q3)("",!0),(0,n.Lk)("div",de,[he,e.h.site?((0,n.uX)(),(0,n.CE)("p",pe,[(0,n.Lk)("a",{onClick:t[4]||(t[4]=(0,l.D$)((t=>e.goto(e.h.site)),["stop"]))},[(0,n.eW)("個人網址："),(0,n.Lk)("img",{src:"https://www.google.com/s2/favicons?domain="+e.h.site,title:"個人網址",alt:"個人網址"},null,8,ge),me])])):(0,n.Q3)("",!0),e.h.site2?((0,n.uX)(),(0,n.CE)("p",fe,[(0,n.Lk)("a",{onClick:t[5]||(t[5]=(0,l.D$)((t=>e.goto(e.h.site2)),["stop"]))},[(0,n.eW)("社群網址："),(0,n.Lk)("img",{src:"https://www.google.com/s2/favicons?domain="+e.h.site2,title:"社群網址",alt:"個人網址"},null,8,ke),be])])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",ve,[Le,e.full?((0,n.uX)(),(0,n.CE)("p",we,[(0,n.Lk)("span",{class:"text",innerHTML:e.highlight(e.h.note,e.mySearch)},null,8,Ae),Ee])):((0,n.uX)(),(0,n.CE)("p",ye,[(0,n.Lk)("span",{class:"text",innerHTML:e.highlight(e.part(e.h.note),e.mySearch)+"..."},null,8,_e),Ce]))])],8,q)),Se,(0,n.Lk)("div",{class:(0,i.C4)(["ui bottom attached stackable buttons",{vertical:!e.full||e.thin}])},[!e.uid||e.book&&-1!=e.book.indexOf(e.h.uid||e.h.idx)?e.uid&&e.book&&e.book.indexOf(e.h.uid||e.h.idx)>-1?((0,n.uX)(),(0,n.CE)("div",{key:1,class:"ui red button",onClick:t[7]||(t[7]=t=>e.removeBook(e.book.indexOf(e.h.uid||e.h.idx)))},[We,(0,n.eW)("從名簿移除")])):(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("div",{key:0,class:"ui green button",onClick:t[6]||(t[6]=t=>e.addBook(e.h.uid||e.h.idx))},[Xe,(0,n.eW)("登入名簿")])),(0,n.Lk)("div",{class:"ui purple button",onClick:t[8]||(t[8]=t=>e.locate(e.h,!0))},[$e,(0,n.eW)("地圖檢視")]),(0,n.Lk)("div",{class:"ui blue button",onClick:t[9]||(t[9]=t=>e.copyFlagURL(e.h.uid))},[Me,(0,n.eW)("分享名片")]),(0,n.bF)(Te,{class:"ui teal button",to:"/qr/"+e.h.uid},{default:(0,n.k6)((()=>[xe,(0,n.eW)("顯示QR碼 ")])),_:1},8,["to"])],2)])}var Ue=o(9034),Te=(0,n.pM)({name:"NameCard",mixins:[Ue.A],props:{h:{type:Object,required:!0},mySearch:{type:String,required:!1,default:()=>""},full:{type:Boolean,required:!1,default:()=>!1},uid:{type:String,required:!1,default:()=>""},book:{type:Array,required:!1,default:()=>[]},clickable:{type:Boolean,required:!1,default:()=>!0}},data(){return{thin:window.innerWidth<720}},methods:{isEmail(e){const t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return t.test(e)},goto(e){e.startsWith("http://")||e.startsWith("https://")||(e="https://"+e),window.open(e)},locate:function(e,t){console.log(e),this.$emit("locate",e,t)},addBook:function(e){console.log(e),this.$emit("addBook",e)},removeBook:function(e){console.log(e),this.$emit("removeBook",e)},gotoMail(e){window.location.href=`mailto:${e}`},loginGoogle:function(){this.$emit("loginGoogle")},copyFlagURL(e){if(!document.hasFocus())return void alert("Document does not have focus, cannot copy link.");const t="https://auto20-next.pages.dev/#/flag/"+e;navigator.clipboard.writeText(t).then((()=>{window.alert("已複製該名片")})).catch((e=>{console.error("無法複製該名片",e)})),this.$forceUpdate()}}}),Be=o(1241);const Ie=(0,Be.A)(Te,[["render",Fe],["__scopeId","data-v-389e75ef"]]);var He=Ie},2119:function(e,t,o){o.d(t,{A:function(){return h}});var n=o(6768),i=o(4232);const l={class:"hello"},s={class:"ui active inverted dimmer"},a={class:"ui big text loader"};function r(e,t,o,r,u,c){return(0,n.uX)(),(0,n.CE)("div",l,[(0,n.Lk)("div",s,[(0,n.Lk)("div",a,[(0,n.Lk)("b",null,(0,i.v_)(e.myHint),1)])])])}var u=(0,n.pM)({name:"LoaderComponent",data(){return{hints:["歡迎所有願意分享互助的朋友參與。","地圖的左上角有 + , - 鍵可以放大和縮小。","登入平台時，請拖曳地圖上的標記到正確位置。","「分享」和「尋找」之間可以相互配對。","地圖介面讓您能夠根據地理位置就近尋找夥伴。","請不要在互助旗上放置過於完整的個人資訊。","建立自己的名簿，方便下次查找特定的朋友。","Andriod手機上點選「安裝應用程式」可以安裝自學2.0","iOS手機上點選「新增至主畫面」可以安裝自學2.0"],myHint:"地圖介面讓您能夠根據地理位置就近尋找夥伴。"}},mounted(){this.myHint=this.hints[Math.floor(Math.random()*this.hints.length)]},methods:{}}),c=o(1241);const d=(0,c.A)(u,[["render",r],["__scopeId","data-v-afe07500"]]);var h=d},1501:function(e,t,o){e.exports=o.p+"img/handshake1.3875f7ab.webp"}},t={};function o(n){var i=t[n];if(void 0!==i)return i.exports;var l=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(l.exports,l,l.exports,o),l.loaded=!0,l.exports}o.m=e,function(){var e=[];o.O=function(t,n,i,l){if(!n){var s=1/0;for(c=0;c<e.length;c++){n=e[c][0],i=e[c][1],l=e[c][2];for(var a=!0,r=0;r<n.length;r++)(!1&l||s>=l)&&Object.keys(o.O).every((function(e){return o.O[e](n[r])}))?n.splice(r--,1):(a=!1,l<s&&(s=l));if(a){e.splice(c--,1);var u=i();void 0!==u&&(t=u)}}return t}l=l||0;for(var c=e.length;c>0&&e[c-1][2]>l;c--)e[c]=e[c-1];e[c]=[n,i,l]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){o.f={},o.e=function(e){return Promise.all(Object.keys(o.f).reduce((function(t,n){return o.f[n](e,t),t}),[]))}}(),function(){o.u=function(e){return"js/"+({5:"flag",138:"profile",522:"maps",583:"groups",594:"about",928:"privacy-policy",952:"book",998:"qr"}[e]||e)+"."+{5:"3b9933bf",138:"876b89e8",522:"770b6eab",583:"b55f7ba5",594:"f898744b",886:"54748357",928:"3e1413e5",952:"c81b5368",998:"6e301d85"}[e]+".js"}}(),function(){o.miniCssF=function(e){return"css/"+{5:"flag",138:"profile",522:"maps",583:"groups",594:"about",928:"privacy-policy",952:"book",998:"qr"}[e]+"."+{5:"4e5993e3",138:"1e74bfea",522:"5fa7a45c",583:"1b6bf20c",594:"119de270",928:"9c8a7039",952:"8da445d2",998:"a3161191"}[e]+".css"}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="auto20-next:";o.l=function(n,i,l,s){if(e[n])e[n].push(i);else{var a,r;if(void 0!==l)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var d=u[c];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+l){a=d;break}}a||(r=!0,a=document.createElement("script"),a.charset="utf-8",a.timeout=120,o.nc&&a.setAttribute("nonce",o.nc),a.setAttribute("data-webpack",t+l),a.src=n),e[n]=[i];var h=function(t,o){a.onerror=a.onload=null,clearTimeout(p);var i=e[n];if(delete e[n],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((function(e){return e(o)})),t)return t(o)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),r&&document.head.appendChild(a)}}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){o.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){o.p="/"}(),function(){if("undefined"!==typeof document){var e=function(e,t,n,i,l){var s=document.createElement("link");s.rel="stylesheet",s.type="text/css",o.nc&&(s.nonce=o.nc);var a=function(o){if(s.onerror=s.onload=null,"load"===o.type)i();else{var n=o&&o.type,a=o&&o.target&&o.target.href||t,r=new Error("Loading CSS chunk "+e+" failed.\n("+n+": "+a+")");r.name="ChunkLoadError",r.code="CSS_CHUNK_LOAD_FAILED",r.type=n,r.request=a,s.parentNode&&s.parentNode.removeChild(s),l(r)}};return s.onerror=s.onload=a,s.href=t,n?n.parentNode.insertBefore(s,n.nextSibling):document.head.appendChild(s),s},t=function(e,t){for(var o=document.getElementsByTagName("link"),n=0;n<o.length;n++){var i=o[n],l=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(l===e||l===t))return i}var s=document.getElementsByTagName("style");for(n=0;n<s.length;n++){i=s[n],l=i.getAttribute("data-href");if(l===e||l===t)return i}},n=function(n){return new Promise((function(i,l){var s=o.miniCssF(n),a=o.p+s;if(t(s,a))return i();e(n,a,null,i,l)}))},i={524:0};o.f.miniCss=function(e,t){var o={5:1,138:1,522:1,583:1,594:1,928:1,952:1,998:1};i[e]?t.push(i[e]):0!==i[e]&&o[e]&&t.push(i[e]=n(e).then((function(){i[e]=0}),(function(t){throw delete i[e],t})))}}}(),function(){var e={524:0};o.f.j=function(t,n){var i=o.o(e,t)?e[t]:void 0;if(0!==i)if(i)n.push(i[2]);else{var l=new Promise((function(o,n){i=e[t]=[o,n]}));n.push(i[2]=l);var s=o.p+o.u(t),a=new Error,r=function(n){if(o.o(e,t)&&(i=e[t],0!==i&&(e[t]=void 0),i)){var l=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+l+": "+s+")",a.name="ChunkLoadError",a.type=l,a.request=s,i[1](a)}};o.l(s,r,"chunk-"+t,t)}},o.O.j=function(t){return 0===e[t]};var t=function(t,n){var i,l,s=n[0],a=n[1],r=n[2],u=0;if(s.some((function(t){return 0!==e[t]}))){for(i in a)o.o(a,i)&&(o.m[i]=a[i]);if(r)var c=r(o)}for(t&&t(n);u<s.length;u++)l=s[u],o.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return o.O(c)},n=self["webpackChunkauto20_next"]=self["webpackChunkauto20_next"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=o.O(void 0,[504],(function(){return o(2848)}));n=o.O(n)})();
//# sourceMappingURL=app.cc915f9c.js.map