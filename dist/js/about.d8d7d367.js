"use strict";(self["webpackChunkauto20_next"]=self["webpackChunkauto20_next"]||[]).push([[594],{2119:function(t,e,s){s.d(e,{A:function(){return d}});var a=s(6768),n=s(4232);const i={class:"hello"},o={class:"ui active inverted dimmer"},r={class:"ui big text loader"};function l(t,e,s,l,u,c){return(0,a.uX)(),(0,a.CE)("div",i,[(0,a.Lk)("div",o,[(0,a.Lk)("div",r,[(0,a.Lk)("b",null,(0,n.v_)(t.myHint),1)])])])}var u=(0,a.pM)({name:"LoaderComponent",data(){return{hints:["歡迎所有願意分享互助的朋友參與。","地圖的左上角有 + , - 鍵可以放大和縮小。","登入平台時，請拖曳地圖上的標記到正確位置。","「分享」和「尋找」之間可以相互配對。","地圖介面讓您能夠根據地理位置就近尋找夥伴。","請不要在互助旗上放置過於完整的個人資訊。","建立自己的名簿，方便下次查找特定的朋友。","Andriod手機上點選「安裝應用程式」可以安裝自學2.0","iOS手機上點選「新增至主畫面」可以安裝自學2.0"],myHint:"地圖介面讓您能夠根據地理位置就近尋找夥伴。"}},mounted(){this.myHint=this.hints[Math.floor(Math.random()*this.hints.length)]},methods:{}}),c=s(1241);const h=(0,c.A)(u,[["render",l],["__scopeId","data-v-afe07500"]]);var d=h},1581:function(t,e,s){s.r(e),s.d(e,{default:function(){return G}});var a=s(6768),n=s(4232),i=s(1501),o=s.p+"img/map1.1c12248b.webp";const r=t=>((0,a.Qi)("data-v-f924631c"),t=t(),(0,a.jt)(),t),l={class:"hello"},u={class:"ui grid container"},c={class:"ui two column stackable row"},h={class:"ui padded segment column"},d=r((()=>(0,a.Lk)("img",{id:"about-main",src:i},null,-1))),_={class:"ui header"},g={class:"ui header"},v={href:"http://www.alearn.org.tw",target:"_blank"},p={class:"ui header"},b=r((()=>(0,a.Lk)("i",{class:"chevron right icon"},null,-1))),k={class:"ui header"},f={class:"ui header"},m={class:"ui header"},L=r((()=>(0,a.Lk)("i",{class:"chevron right icon"},null,-1))),$={class:"ui header"},C={class:"ui header"},y=r((()=>(0,a.Lk)("i",{class:"chevron right icon"},null,-1))),w={class:"ui header"},M={class:"ui padded segment column"},A=r((()=>(0,a.Lk)("img",{src:o},null,-1))),W={class:"ui header"},E=r((()=>(0,a.Lk)("i",{class:"chevron right icon"},null,-1))),T={class:"ui header"},N={class:"ui header"},X=r((()=>(0,a.Lk)("i",{class:"chevron right icon"},null,-1))),B={class:"ui header"},D={href:"https://github.com/3dw/auto20-next/issues"},F=r((()=>(0,a.Lk)("i",{class:"chevron right icon"},null,-1))),O={class:"ui header"},S={href:"https://github.com/3dw/github-tutorial/blob/main/README.md"},U=r((()=>(0,a.Lk)("i",{class:"chevron right icon"},null,-1)));function I(t,e){const s=(0,a.g2)("router-link");return(0,a.uX)(),(0,a.CE)("div",l,[(0,a.Lk)("div",u,[(0,a.Lk)("div",c,[(0,a.Lk)("div",h,[d,(0,a.Lk)("h2",_,(0,n.v_)(t.$t("about.what_is_auto20")),1),(0,a.Lk)("p",null,[(0,a.Lk)("b",null,(0,n.v_)(t.$t("about.auto20")),1),(0,a.eW)((0,n.v_)(t.$t("about.intro_1")),1)]),(0,a.Lk)("p",null,[(0,a.Lk)("b",null,(0,n.v_)(t.$t("about.al")),1),(0,a.eW)((0,n.v_)(t.$t("about.intro_2")),1)]),(0,a.Lk)("p",null,(0,n.v_)(t.$t("about.intro_3")),1),(0,a.Lk)("h2",g,(0,n.v_)(t.$t("about.auto20_by")),1),(0,a.Lk)("p",null,[(0,a.eW)((0,n.v_)(t.$t("about.auto20_by_content1")),1),(0,a.Lk)("a",v,(0,n.v_)(t.$t("about.auto20_by_content2")),1),(0,a.eW)((0,n.v_)(t.$t("about.auto20_by_content3")),1)]),(0,a.Lk)("h2",p,(0,n.v_)(t.$t("about.card_flag")),1),(0,a.Lk)("p",null,[(0,a.Lk)("b",null,(0,n.v_)(t.$t("about.card_name")),1),(0,a.eW)((0,n.v_)(t.$t("about.card_content1")),1)]),(0,a.Lk)("p",null,(0,n.v_)(t.$t("about.flag_content1")),1),(0,a.Lk)("p",null,(0,n.v_)(t.$t("about.card_content2")),1),(0,a.Lk)("p",null,(0,n.v_)(t.$t("about.qrcode_content1")),1),(0,a.Lk)("p",null,[(0,a.bF)(s,{to:"/profile"},{default:(0,a.k6)((()=>[(0,a.eW)((0,n.v_)(t.$t("about.raise_flag")),1)])),_:1}),b]),(0,a.Lk)("h2",k,(0,n.v_)(t.$t("about.card_flag_tip")),1),(0,a.Lk)("p",null,(0,n.v_)(t.$t("about.card_flag_tip_content")),1),(0,a.Lk)("h2",f,(0,n.v_)(t.$t("about.flag_update1")),1),(0,a.Lk)("p",null,(0,n.v_)(t.$t("about.flag_update_content")),1),(0,a.Lk)("h2",m,(0,n.v_)(t.$t("about.flag_content2")),1),(0,a.Lk)("p",null,[(0,a.eW)((0,n.v_)(t.$t("about.flag_content3")),1),(0,a.bF)(s,{to:"privacy-policy"},{default:(0,a.k6)((()=>[(0,a.eW)((0,n.v_)(t.$t("login.pr")),1),L])),_:1}),(0,a.eW)((0,n.v_)(t.$t("about.flag_content4")),1)]),(0,a.Lk)("h2",$,(0,n.v_)(t.$t("about.flag_update2")),1),(0,a.Lk)("p",null,(0,n.v_)(t.$t("about.flag_content5")),1),(0,a.Lk)("h2",C,(0,n.v_)(t.$t("about.flag_download")),1),(0,a.Lk)("p",null,(0,n.v_)(t.$t("about.flag_content6")),1),(0,a.Lk)("p",null,[(0,a.bF)(s,{to:"privacy-policy"},{default:(0,a.k6)((()=>[(0,a.eW)((0,n.v_)(t.$t("about.pr_go")),1),y])),_:1})]),(0,a.Lk)("h2",w,(0,n.v_)(t.$t("about.flag_remove")),1),(0,a.Lk)("p",null,(0,n.v_)(t.$t("about.flag_content7")),1)]),(0,a.Lk)("div",M,[A,(0,a.Lk)("h2",W,(0,n.v_)(t.$t("about.map_is")),1),(0,a.Lk)("p",null,(0,n.v_)(t.$t("about.map_content1")),1),(0,a.Lk)("p",null,[(0,a.bF)(s,{to:"/maps"},{default:(0,a.k6)((()=>[(0,a.eW)((0,n.v_)(t.$t("about.map_go")),1),E])),_:1})]),(0,a.Lk)("h2",T,(0,n.v_)(t.$t("about.directory_is")),1),(0,a.Lk)("p",null,[(0,a.Lk)("b",null,(0,n.v_)(t.$t("login.bk")),1),(0,a.eW)((0,n.v_)(t.$t("about.directory_content1")),1)]),(0,a.Lk)("h2",N,(0,n.v_)(t.$t("about.group_is")),1),(0,a.Lk)("p",null,[(0,a.Lk)("b",null,(0,n.v_)(t.$t("login.gp")),1),(0,a.eW)((0,n.v_)(t.$t("about.group_content1")),1)]),(0,a.Lk)("p",null,[(0,a.bF)(s,{to:"/groups"},{default:(0,a.k6)((()=>[(0,a.eW)((0,n.v_)(t.$t("about.group_go")),1),X])),_:1})]),(0,a.Lk)("h2",B,(0,n.v_)(t.$t("about.bugreport_is")),1),(0,a.Lk)("p",null,[(0,a.Lk)("b",null,(0,n.v_)(t.$t("about.auto20")),1),(0,a.eW)((0,n.v_)(t.$t("about.bugreport_content1")),1)]),(0,a.Lk)("p",null,(0,n.v_)(t.$t("about.bugreport_content2")),1),(0,a.Lk)("p",null,[(0,a.Lk)("a",D,[(0,a.eW)((0,n.v_)(t.$t("about.bugreport_go")),1),F])]),(0,a.Lk)("h2",O,(0,n.v_)(t.$t("about.github_is")),1),(0,a.Lk)("p",null,(0,n.v_)(t.$t("about.github_content")),1),(0,a.Lk)("p",null,[(0,a.Lk)("a",S,[(0,a.eW)((0,n.v_)(t.$t("about.github_go")),1),U])])])])])])}var j=s(1241);const x={},z=(0,j.A)(x,[["render",I],["__scopeId","data-v-f924631c"]]);var G=z},1238:function(t,e,s){s.r(e),s.d(e,{default:function(){return y}});var a=s(6768),n=s(4232),i=s(5130);const o=t=>((0,a.Qi)("data-v-4710f05f"),t=t(),(0,a.jt)(),t),r={class:"hello"},l={key:0,class:"ui row"},u={class:"sixteen wide column"},c={class:"ui huge buttons"},h={value:"newest"},d={value:"random"},_={key:0,value:"age_nearest"},g=["value"],v=o((()=>(0,a.Lk)("br",null,null,-1))),p=o((()=>(0,a.Lk)("br",null,null,-1)));function b(t,e,s,o,b,k){const f=(0,a.g2)("loader"),m=(0,a.g2)("card");return(0,a.uX)(),(0,a.CE)("div",r,[t.uid||t.users&&0!=t.toList(t.users).length?t.users&&0!=t.toList(t.users).length?(0,a.bo)(((0,a.uX)(),(0,a.CE)("select",{key:2,class:"ui dropdown","onUpdate:modelValue":e[1]||(e[1]=e=>t.logic=e)},[(0,a.Lk)("option",h,(0,n.v_)(t.$t("friends.recent_updates")),1),(0,a.bo)((0,a.Lk)("option",{value:"nearest"},(0,n.v_)(t.$t("friends.nearest")),513),[[i.aG,t.uid&&t.users[t.uid]&&t.users[t.uid].latlngColumn]]),(0,a.bo)((0,a.Lk)("option",{value:"learner_habit_nearst"},(0,n.v_)(t.$t("friends.similiar_interest")),513),[[i.aG,t.uid&&t.users[t.uid]&&t.users[t.uid].learner_habit]]),(0,a.bo)((0,a.Lk)("option",{value:"ask_match_share"},(0,n.v_)(t.$t("friends.seeking_help")),513),[[i.aG,t.uid&&t.users[t.uid]&&t.users[t.uid].ask]]),(0,a.bo)((0,a.Lk)("option",{value:"share_match_ask"},(0,n.v_)(t.$t("friends.sharer")),513),[[i.aG,t.uid&&t.users[t.uid]&&t.users[t.uid].share]]),(0,a.Lk)("option",d,(0,n.v_)(t.$t("friends.random_profile")),1),t.uid&&t.users[t.uid]&&t.users[t.uid].child_birth?((0,a.uX)(),(0,a.CE)("option",_,(0,n.v_)(t.$t("friends.similar_age_kid")),1)):(0,a.Q3)("",!0),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.cities,((e,s)=>((0,a.uX)(),(0,a.CE)("option",{value:"near_"+e.c.join(","),key:s},(0,n.v_)(e.t)+(0,n.v_)(t.$t("friends.area")),9,g)))),128))],512)),[[i.u1,t.logic]]):((0,a.uX)(),(0,a.Wv)(f,{key:1})):((0,a.uX)(),(0,a.CE)("div",l,[(0,a.Lk)("div",u,[(0,a.Lk)("div",c,[(0,a.Lk)("button",{class:"ui orange button",onClick:e[0]||(e[0]=(...e)=>t.toggleLogin&&t.toggleLogin(...e))},(0,n.v_)(t.$t("login.login")),1)])])])),v,p,(0,a.Lk)("div",{class:"ui two doubling cards container",onScroll:e[2]||(e[2]=(...e)=>t.handleScroll&&t.handleScroll(...e)),ref:"scrollContainer"},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.visibleCards,((e,s)=>((0,a.uX)(),(0,a.CE)("div",{class:"ui card",key:s},[(0,a.bF)(m,{h:e,full:!1,mySearch:t.mySearch,book:t.book,onLocate:t.locate,onAddBook:t.addBook,onRemoveBook:t.removeBook,uid:t.uid},null,8,["h","mySearch","book","onLocate","onAddBook","onRemoveBook","uid"])])))),128))],544)])}s(3375),s(9225),s(3972),s(9209),s(5714),s(7561),s(6197);var k=s(9034),f=s(2119),m=s(1138),L=(0,a.pM)({name:"FindCards",mixins:[k.A],props:["mySearch","book","users","places","center","user","uid"],components:{Loader:f.A,Card:m.A},data(){return{n:10,busy:!1,allCards:[],logic:"random",userLocation:null,cities:[{t:this.$t("friends.taipei"),c:[25.046337,121.517444]},{t:this.$t("friends.newtaipei"),c:[25.011709,121.465881],z:10},{t:this.$t("friends.taoyuan"),c:[24.993923,121.30168]},{t:this.$t("friends.taichung"),c:[24.163162,120.647828]},{t:this.$t("friends.tainan"),c:[22.991235,120.184982]},{t:this.$t("friends.kaohsiung"),c:[22.627277,120.301437]},{t:this.$t("friends.changhua"),c:[120.4818,23.99297]},{t:this.$t("friends.pingtung"),c:[120.62,22.54951]},{t:this.$t("friends.yunlin"),c:[120.3897,23.75585]},{t:this.$t("friends.miaoli"),c:[120.9417,24.48927]},{t:this.$t("friends.chiayiCounty"),c:[120.574,23.45889]},{t:this.$t("friends.hsinchuCounty"),c:[121.1252,24.70328]},{t:this.$t("friends.hsinchuCity"),c:[120.9647,24.80395]},{t:this.$t("friends.keelung"),c:[121.7081,25.10898]},{t:this.$t("friends.yilan"),c:[24.69295,121.7195],z:10},{t:this.$t("friends.nantou"),c:[23.83876,120.9876],z:10},{t:this.$t("friends.chiayiCity"),c:[23.47545,120.4473],z:10},{t:this.$t("friends.hualien"),c:[23.7569,121.3542],z:10},{t:this.$t("friends.taitung"),c:[22.98461,120.9876],z:10},{t:this.$t("friends.penghu"),c:[23.56548,119.6151],z:9},{t:this.$t("friends.lienchiang"),c:[119.5397,26.19737]}]}},computed:{visibleCards(){const t=this.allCards.filter((t=>{if(isNaN(t.lastUpdate))return!1;const e=this.mySearch.toLowerCase(),s=[t.name,t.learner_habit,t.share,t.ask,t.note].some((t=>t&&t.toLowerCase().includes(e)));return s}));return t.slice(0,this.n)},list(){return this.processData(this.users)}},mounted(){console.log("Initial center in child component:"),console.log(this.center),this.allCards=this.list},watch:{center(t){console.log("Child component received new center:",t),this.allCards=this.processData(this.users),this.$forceUpdate()},users(t){this.allCards=this.processData(t)},logic(t){console.log(t);const e=t.match(/^near_(\d+\.\d+),(\d+\.\d+)$/);if("nearest"!==t||this.userLocation)if(e){const t=parseFloat(e[1]),s=parseFloat(e[2]);this.userLocation={lat:t,lng:s},console.log("Updated user location to:",this.userLocation),this.allCards=this.processData(this.users)}else this.allCards=this.processData(this.users);else{if(console.log(this.users[this.uid].latlngColumn),this.users[this.uid].latlngColumn){const[t,e]=this.users[this.uid].latlngColumn.split(",").map(Number);isNaN(t)||isNaN(e)?console.error("Cannot parse lat or lng from latlngColumn:",this.users.latlngColumn):(this.userLocation={lat:t,lng:e},console.log("User location set to:",this.userLocation))}this.allCards=this.processData(this.users)}}},methods:{loginGoogle(t,e){this.$emit("loginGoogle",t,e)},toggleLogin(){this.$emit("toggleLogin")},toList(t){return t&&"object"===typeof t?Object.values(t):[]},processData(t){const e=Object.keys(t||{}).map((e=>t[e]));if("newest"===this.logic)return e.sort(((t,e)=>(e.lastUpdate||0)-(t.lastUpdate||0)));if("random"===this.logic)return e.sort((()=>.5-Math.random()));if("nearest"===this.logic||this.logic.match(/^near_(\d+\.\d+),(\d+\.\d+)$/))return e.sort(((t,e)=>this.distanceToCenter(t.latlngColumn)-this.distanceToCenter(e.latlngColumn)));if("age_nearest"===this.logic&&this.users[this.uid]&&this.users[this.uid].child_birth){const t=new Date(this.users[this.uid].child_birth).getTime();return e.sort(((t,e)=>this.distanceToCenter(t.latlngColumn)-this.distanceToCenter(e.latlngColumn))).sort(((e,s)=>{const a=e.child_birth?new Date(e.child_birth).getTime():1/0,n=s.child_birth?new Date(s.child_birth).getTime():1/0;return Math.abs(a-t)-Math.abs(n-t)}))}if("ask_match_share"===this.logic&&this.users[this.uid]){const t=this.users[this.uid];return e.filter((t=>t.uid!==this.uid)).sort(((t,e)=>this.distanceToCenter(t.latlngColumn)-this.distanceToCenter(e.latlngColumn))).sort(((e,s)=>{const a=this.countOverlap(t.ask,e.share),n=this.countOverlap(t.ask,s.share);return n-a}))}if("share_match_ask"===this.logic&&this.users[this.uid]){const t=this.users[this.uid];return e.filter((t=>t.uid!==this.uid)).sort(((t,e)=>this.distanceToCenter(t.latlngColumn)-this.distanceToCenter(e.latlngColumn))).sort(((e,s)=>{const a=this.countOverlap(t.share,e.ask),n=this.countOverlap(t.share,s.ask);return n-a}))}if("learner_habit_nearest"===this.logic&&this.users[this.uid]){const t=this.users[this.uid];return e.filter((t=>t.uid!==this.uid)).sort(((t,e)=>this.distanceToCenter(t.latlngColumn)-this.distanceToCenter(e.latlngColumn))).sort(((e,s)=>{const a=this.countOverlap(t.learner_habit,e.learner_habit)+this.countOverlap(e.ask,t.share),n=this.countOverlap(t.learner_habit,s.learner_habit)+this.countOverlap(s.ask,t.share);return n-a}))}return e},countOverlap(t,e){if(!t||!e)return 0;const s=t.split(/[，,、\s]/g),a=e.split(/[，,、\s]/g),n=new Set(s),i=new Set(a);let o=0;return n.forEach((t=>{i.has(t)&&o++})),o},distanceToCenter(t){if(!t||2!==t.split(",").length)return console.error("Invalid latlngColumn format:",t),Number.MAX_VALUE;let[e,s]=t.split(",").map(Number);if(isNaN(e)||isNaN(s))return console.error("Cannot parse lat or lng from latlngColumn:",t),Number.MAX_VALUE;if(!this.userLocation)return Number.MAX_VALUE;const a=this.userLocation,n=t=>t*Math.PI/180,i=n(e-a.lat),o=n(s-a.lng),r=Math.sin(i/2)*Math.sin(i/2)+Math.cos(n(a.lat))*Math.cos(n(e))*Math.sin(o/2)*Math.sin(o/2),l=2*Math.atan2(Math.sqrt(r),Math.sqrt(1-r));return 6371*l},handleScroll(){const t=this.$refs.scrollContainer;t.scrollHeight-t.scrollTop<=t.clientHeight+100&&!this.busy&&this.loadMore()},loadMore(){this.busy=!0,setTimeout((()=>{this.n<this.allCards.length&&(this.n+=10),this.busy=!1}),1e3)},locate(t,e){this.$emit("locate",t,e)},addBook(t){console.log(t),this.$emit("addBook",t)},removeBook(t){console.log(t),this.$emit("removeBook",t)}}}),$=s(1241);const C=(0,$.A)(L,[["render",b],["__scopeId","data-v-4710f05f"]]);var y=C},2561:function(t,e,s){s.r(e),s.d(e,{default:function(){return h}});var a=s(6768);const n={class:"hello"},i=(0,a.Fv)('<div class="ui segment container" data-v-09c31344><h2 class="ui header" data-v-09c31344>友站連結</h2><div class="buttons-container" data-v-09c31344><a class="button primary" href="https://galacticproject.notion.site/d7477db76ecd4ff3b453a39ba21d97ef" data-v-09c31344>星河計畫-自學生經驗匯流</a><a class="button pink" href="https://discord.gg/m9888BCPd7" data-v-09c31344>在家自學社群Discord</a><a class="button secondary" href="https://math.alearn.org.tw" data-v-09c31344>自由數學</a><a class="button quaternary" href="https://map.alearn.org.tw/#/" data-v-09c31344>自學地圖</a><a class="button tertiary" href="https://sites.google.com/view/autoalearn" data-v-09c31344>自主學習促進會</a><a class="button primary" href="https://hack.bestian.tw/" data-v-09c31344>Bestian 的工坊</a></div></div>',1),o=[i];function r(t,e){return(0,a.uX)(),(0,a.CE)("div",n,o)}var l=s(1241);const u={},c=(0,l.A)(u,[["render",r],["__scopeId","data-v-09c31344"]]);var h=c},1501:function(t,e,s){t.exports=s.p+"img/handshake1.c81ff127.webp"}}]);
//# sourceMappingURL=about.d8d7d367.js.map