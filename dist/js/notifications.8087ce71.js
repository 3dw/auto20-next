"use strict";(self["webpackChunkauto20_next"]=self["webpackChunkauto20_next"]||[]).push([[893],{9600:function(t,i,e){e.r(i),e.d(i,{default:function(){return g}});var n=e(6768),s=e(4232),o=e(5130);const a=t=>((0,n.Qi)("data-v-c357fb7a"),t=t(),(0,n.jt)(),t),c={class:"hello"},d={class:"ui segment container"},l=a((()=>(0,n.Lk)("h2",{class:"ui header"},[(0,n.Lk)("i",{class:"bell icon"}),(0,n.eW)("通知")],-1))),u={class:"ui list"},r=a((()=>(0,n.Lk)("div",{class:"filler"},null,-1))),h={class:"ui buttons"},f=a((()=>(0,n.Lk)("i",{class:"eye icon"},null,-1))),k=["onClick"],v=a((()=>(0,n.Lk)("i",{class:"delete icon"},null,-1)));function b(t,i,e,a,b,p){const L=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("div",c,[(0,n.Lk)("div",d,[l,(0,n.Lk)("div",u,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(t.sortedNotifications,((i,e)=>(0,n.bo)(((0,n.uX)(),(0,n.CE)("div",{class:(0,s.C4)(["left aligned item",{hidden:i.hidden}]),key:e},[(0,n.eW)((0,s.v_)(i.date.split("T")[0])+"："+(0,s.v_)(i.text)+" "+(0,s.v_)(i.hidden),1),r,(0,n.Lk)("div",h,[(0,n.bF)(L,{class:"ui green button",to:i.route},{default:(0,n.k6)((()=>[f,(0,n.eW)("查看")])),_:2},1032,["to"]),(0,n.Lk)("button",{class:"ui basic red button",onClick:(0,o.D$)((e=>t.hideNotification(i.nid)),["prevent"])},[v,(0,n.eW)("刪除")],8,k)])],2)),[[o.aG,!i.hidden]]))),128))])])])}var p=e(4161),L=e(6808),C=(0,n.pM)({name:"NotificationsView",props:["uid"],data(){return{notifications:{}}},computed:{sortedNotifications(){return Object.values(this.notifications).map(((t,i)=>(t.nid=Object.keys(this.notifications)[i],t))).sort(((t,i)=>new Date(i.date)-new Date(t.date)))}},mounted(){(0,p.Zy)((0,p.KR)(L.db,"users/"+this.uid+"/notifications"),(t=>{const i=t.val()||{};this.notifications=i}))},methods:{hideNotification(t){const i=t;console.log(i),(0,p.hZ)((0,p.KR)(L.db,"users/"+this.uid+"/notifications/"+i+"/hidden"),!0).then((()=>{this.notifications[i].hidden=!0,console.log("通知已隱藏")})).catch((t=>{console.error("隱藏通知時出錯：",t)}))}}}),_=e(1241);const m=(0,_.A)(C,[["render",b],["__scopeId","data-v-c357fb7a"]]);var g=m}}]);
//# sourceMappingURL=notifications.8087ce71.js.map