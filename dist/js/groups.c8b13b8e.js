"use strict";(self["webpackChunkauto20_next"]=self["webpackChunkauto20_next"]||[]).push([[583],{4526:function(s,e,i){i.r(e),i.d(e,{default:function(){return is}});var l=i(6768),t=i(4232),o=i(5130);const n=s=>((0,l.Qi)("data-v-1d2b5f8d"),s=s(),(0,l.jt)(),s),u={class:"hello"},a={key:0,class:"ui container"},r={class:"ui grid"},d={key:0,class:"ui one column row"},c={class:"ui column ui segment"},p=n((()=>(0,l.Lk)("br",{class:"thin-only"},null,-1))),h=n((()=>(0,l.Lk)("i",{class:"edit icon"},null,-1))),g=n((()=>(0,l.Lk)("i",{class:"globe icon"},null,-1))),k={class:"ui form"},m={key:0,class:"field"},b=n((()=>(0,l.Lk)("i",{class:"google icon"},null,-1))),L={class:"field"},v={class:"ui labeled input"},f=n((()=>(0,l.Lk)("label",{class:"ui label"},"輸入社團簡介 ",-1))),w={class:"field"},C=["onClick"],y={class:"ui grid"},R={class:"row"},x=["src"],I=["onClick"],N=["onClick"],X={class:"two column stackable row"},E={class:"column"},_={class:"ui divided list"},G=n((()=>(0,l.Lk)("div",{class:"item left aligned"},"資源：",-1))),K=["href"],U=["src","alt"],W={class:"item ui form"},Z={class:"field"},H={class:"ui labeled input"},J=n((()=>(0,l.Lk)("label",{class:"ui label"},"輸入資源名",-1))),Q={class:"field"},V={class:"ui labeled input"},j=n((()=>(0,l.Lk)("label",{class:"ui label"},"輸入資源網址",-1))),F={class:"field"},M=["onClick"],O={class:"column"},S={class:"ui divided list"},$={key:0,class:"item ui form"},D={class:"field"},B=["src"],A={class:"ui labeled input"},T=["onClick"];function Y(s,e,i,n,Y,q){const z=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",u,[s.users&&s.toList(s.users).length>0?((0,l.uX)(),(0,l.CE)("div",a,[(0,l.Lk)("div",r,[s.groups[s.$route.params.idx]&&s.groups[s.$route.params.idx].n?((0,l.uX)(),(0,l.CE)("div",d,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)([s.groups[s.$route.params.idx]],((i,n)=>((0,l.uX)(),(0,l.CE)("div",c,[(0,l.Lk)("h3",null,"〈"+(0,t.v_)(i.n)+"〉",1),(0,l.Lk)("p",null,[(0,l.eW)((0,t.v_)(i.intro),1),p,(0,l.eW)("    "),(0,l.Lk)("a",{onClick:e[0]||(e[0]=e=>s.edit=!s.edit)},[h,(0,l.eW)((0,t.v_)(s.edit?"結束":"")+"編輯社團資料",1)])]),(0,l.Lk)("p",null,[(0,l.bF)(z,{class:"ui basic green button",to:"/groups"},{default:(0,l.k6)((()=>[g,(0,l.eW)("探索所有社團")])),_:1})]),(0,l.bo)((0,l.Lk)("div",k,[s.uid?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("div",m,[(0,l.Lk)("button",{class:"ui orange button",onClick:e[1]||(e[1]=e=>s.loginGoogle())},[b,(0,l.eW)("請先登入")])])),(0,l.Lk)("div",L,[(0,l.Lk)("div",v,[f,(0,l.bo)((0,l.Lk)("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=e=>s.newIntro=e),placeholder:"請先輸入社團簡介"},null,512),[[o.Jo,s.newIntro]])])]),(0,l.Lk)("div",w,[(0,l.Lk)("a",{class:(0,t.C4)(["ui green button",{disabled:!s.newIntro}]),onClick:e=>s.addIntro(n)},"更新簡介",10,C)])],512),[[o.aG,s.edit]]),(0,l.Lk)("div",y,[(0,l.Lk)("div",R,[(0,l.Lk)("p",null,[(0,l.eW)("成員："),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(i.members,(e=>((0,l.uX)(),(0,l.CE)("span",null,[s.users[e]?((0,l.uX)(),(0,l.Wv)(z,{key:0,to:"/flag/"+e},{default:(0,l.k6)((()=>[(0,l.Lk)("img",{class:"ui avatar",src:s.users[e].photoURL,alt:"users[m].n"},null,8,x)])),_:2},1032,["to"])):(0,l.Q3)("",!0)])))),256)),(0,l.bo)((0,l.Lk)("span",null,[(0,l.bo)((0,l.Lk)("a",{class:"ui green tiny button",onClick:e=>s.join(i.idx)},"我要加入",8,I),[[o.aG,!s.isMember(i.idx)]]),(0,l.bo)((0,l.Lk)("a",{class:"ui red tiny button",onClick:e=>s.out(i.idx)},"我要退出",8,N),[[o.aG,s.isMember(i.idx)]])],512),[[o.aG,s.uid]])])]),(0,l.Lk)("div",X,[(0,l.Lk)("div",E,[(0,l.Lk)("div",_,[G,((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(i.res,((s,e)=>((0,l.uX)(),(0,l.CE)("div",{class:"item left aligned",key:e+s.n+s.href},[(0,l.Lk)("a",{href:s.href,target:"_blank",rel:"noopener noreferrer"},[(0,l.Lk)("img",{src:"http://www.google.com/s2/favicons?domain="+s.href,alt:s.n},null,8,U),(0,l.eW)((0,t.v_)(s.n),1)],8,K)])))),128)),(0,l.bo)((0,l.Lk)("div",W,[(0,l.Lk)("div",Z,[(0,l.Lk)("div",H,[J,(0,l.bo)((0,l.Lk)("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=e=>s.newResName=e),placeholder:"請先輸入資源名"},null,512),[[o.Jo,s.newResName]])])]),(0,l.Lk)("div",Q,[(0,l.Lk)("div",V,[j,(0,l.bo)((0,l.Lk)("input",{type:"text","onUpdate:modelValue":e[4]||(e[4]=e=>s.newHref=e),placeholder:"請先輸入資源網址"},null,512),[[o.Jo,s.newHref]])])]),(0,l.Lk)("div",F,[(0,l.Lk)("a",{class:(0,t.C4)(["ui green button",{disabled:!s.newHref||!s.newResName}]),onClick:e=>s.addRes(n)},"新增資源",10,M)])],512),[[o.aG,s.uid&&s.edit]])])]),(0,l.Lk)("div",O,[(0,l.Lk)("div",S,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(i.chats,((s,e)=>((0,l.uX)(),(0,l.CE)("div",{class:"item",key:e},(0,t.v_)(s.n)+" : "+(0,t.v_)(s.t),1)))),128)),s.uid&&s.edit?((0,l.uX)(),(0,l.CE)("div",$,[(0,l.Lk)("div",D,[(0,l.Lk)("img",{class:"ui avatar",src:s.photoURL},null,8,B),(0,l.Lk)("div",A,[(0,l.bo)((0,l.Lk)("input",{class:"input","onUpdate:modelValue":e[5]||(e[5]=e=>s.msg=e),placeholder:"在想什麼嗎?"},null,512),[[o.Jo,s.msg]]),(0,l.Lk)("a",{class:(0,t.C4)(["ui label green button",{disabled:!s.msg}]),onClick:e=>s.addChat(n)},"留言",10,T)])])])):(0,l.Q3)("",!0)])])])])])))),256))])):(0,l.Q3)("",!0)])])):(0,l.Q3)("",!0)])}i(4114);var q=i(4161),z=i(6808),P=(0,l.pM)({name:"GroupsView",props:["photoURL","users","user","uid","mySearch"],metaInfo:{title:"自學社團"},data(){return{edit:!1,newIntro:"",newName:"",newResName:"",newHref:"",msg:"",groups:[]}},methods:{toList:s=>s&&"object"===typeof s?Object.values(s):[],loginGoogle:function(){this.$emit("loginGoogle")},isMember(s){return(this.groups[s].members||[]).indexOf(this.uid)>-1},join(s){this.groups[s].members=this.groups[s].members||[],this.groups[s].members.push(this.uid),(0,q.hZ)((0,q.KR)(z.db,"groups"),this.groups).then(console.log("groups更新成功"))},out(s){this.groups[s].members=this.groups[s].members||[],this.groups[s].members=this.groups[s].members.filter((s=>s!==this.uid)),(0,q.hZ)((0,q.KR)(z.db,"groups"),this.groups).then(console.log("groups更新成功"))},searchBy(s,e){return e?s.filter((function(s){return JSON.stringify(s).indexOf(e)>-1})):s},addChat(s){var e={uid:this.uid,n:(this.user.providerData||[{displayName:"匿名"}])[0].displayName,t:this.msg,photoURL:this.photoURL||"",time:(new Date).getTime()};this.groups[s].chats=this.groups[s].chats||[],this.msg&&(this.groups[s].chats.push(e),this.msg=""),(0,q.hZ)((0,q.KR)(z.db,"groups/"+s),this.g).then(console.log("groups更新成功"))},addGroup(){this.groups.push({n:this.newName,res:[],chats:[],idx:this.groups.length}),this.newName="",(0,q.hZ)((0,q.KR)(z.db,"groups"),this.groups).then(console.log("groups更新成功"))},addRes(s){this.groups[s].res=this.groups[s].res||[],this.groups[s].res.push({n:this.newResName,href:this.newHref}),this.newResName="",this.newHref="",(0,q.hZ)((0,q.KR)(z.db,"groups"),this.groups).then(console.log("groups更新成功"))},addIntro(s){this.groups[s].intro=this.newIntro,this.newIntro="",(0,q.hZ)((0,q.KR)(z.db,"groups"),this.groups).then(console.log("groups更新成功"))}},mounted(){(0,q.Zy)(z.sY,(s=>{const e=s.val();this.groups=e||[]}))}}),ss=i(1241);const es=(0,ss.A)(P,[["render",Y],["__scopeId","data-v-1d2b5f8d"]]);var is=es},9374:function(s,e,i){i.r(e),i.d(e,{default:function(){return ns}});var l=i(6768),t=i(5130),o=i(4232);const n=s=>((0,l.Qi)("data-v-42777fbe"),s=s(),(0,l.jt)(),s),u={class:"hello"},a={key:0,class:"ui container"},r={class:"ui grid"},d={class:"row ui form"},c={class:"field"},p={class:"ui labeled input"},h=n((()=>(0,l.Lk)("label",{class:"ui label"},"輸入名字",-1))),g={class:"field"},k={class:"ui two column row"},m=n((()=>(0,l.Lk)("br",{class:"thin-only"},null,-1))),b=n((()=>(0,l.Lk)("i",{class:"edit icon"},null,-1))),L=n((()=>(0,l.Lk)("i",{class:"sign-in icon"},null,-1))),v={class:"ui form"},f={key:0,class:"field"},w=n((()=>(0,l.Lk)("i",{class:"google icon"},null,-1))),C={class:"field"},y={class:"ui labeled input"},R=n((()=>(0,l.Lk)("label",{class:"ui label"},"輸入社團簡介 ",-1))),x={class:"field"},I=["onClick"],N={class:"ui grid"},X={class:"row"},E=["src"],_=["onClick"],G=["onClick"],K={class:"two column stackable row"},U={class:"column"},W={class:"ui divided list"},Z=n((()=>(0,l.Lk)("div",{class:"item left aligned"},"資源",-1))),H=["href"],J=["src","alt"],Q={class:"item ui form"},V={class:"field"},j={class:"ui labeled input"},F=n((()=>(0,l.Lk)("label",{class:"ui label"},"輸入資源名",-1))),M={class:"field"},O={class:"ui labeled input"},S=n((()=>(0,l.Lk)("label",{class:"ui label"},"輸入資源網址",-1))),$={class:"field"},D=["onClick"],B={class:"column"},A={class:"ui divided list"},T={key:0,class:"item ui form"},Y={class:"field"},q=["src"],z={class:"ui labeled input"},P=["onClick"];function ss(s,e,i,n,ss,es){const is=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",u,[s.users&&s.toList(s.users).length>0?((0,l.uX)(),(0,l.CE)("div",a,[(0,l.Lk)("div",r,[(0,l.bo)((0,l.Lk)("div",d,[(0,l.Lk)("div",c,[(0,l.Lk)("div",p,[h,(0,l.bo)((0,l.Lk)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=e=>s.newName=e),placeholder:"請先輸入社團名"},null,512),[[t.Jo,s.newName]])])]),(0,l.Lk)("div",g,[(0,l.Lk)("a",{class:(0,o.C4)(["ui green button",{disabled:!s.newName}]),onClick:e[1]||(e[1]=e=>s.addGroup())},"創建社團",2)])],512),[[t.aG,s.uid]]),(0,l.Lk)("div",k,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(s.searchBy(s.groups,s.mySearch),((i,n)=>((0,l.uX)(),(0,l.CE)("div",{class:"ui column ui segment",key:i.idx},[(0,l.Lk)("h3",null,"〈"+(0,o.v_)(i.n)+"〉",1),(0,l.Lk)("p",null,[(0,l.eW)((0,o.v_)(i.intro),1),m,(0,l.eW)("    "),(0,l.Lk)("a",{onClick:e[2]||(e[2]=e=>s.edit=!s.edit)},[b,(0,l.eW)((0,o.v_)(s.edit?"結束":"")+"編輯社團資料",1)])]),(0,l.Lk)("p",null,[(0,l.bF)(is,{class:"ui basic green button",to:"/group/"+i.idx},{default:(0,l.k6)((()=>[L,(0,l.eW)("前往社團")])),_:2},1032,["to"])]),(0,l.bo)((0,l.Lk)("div",v,[s.uid?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("div",f,[(0,l.Lk)("button",{class:"ui orange button",onClick:e[3]||(e[3]=e=>s.loginGoogle())},[w,(0,l.eW)("請先登入")])])),(0,l.Lk)("div",C,[(0,l.Lk)("div",y,[R,(0,l.bo)((0,l.Lk)("input",{type:"text","onUpdate:modelValue":e[4]||(e[4]=e=>s.newIntro=e),placeholder:"請先輸入社團簡介"},null,512),[[t.Jo,s.newIntro]])])]),(0,l.Lk)("div",x,[(0,l.Lk)("a",{class:(0,o.C4)(["ui green button",{disabled:!s.newIntro}]),onClick:e=>s.addIntro(n)},"更新簡介",10,I)])],512),[[t.aG,s.edit]]),(0,l.Lk)("div",N,[(0,l.Lk)("div",X,[(0,l.Lk)("p",null,[(0,l.eW)("成員："),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(i.members,(e=>((0,l.uX)(),(0,l.CE)("span",null,[s.users[e]?((0,l.uX)(),(0,l.Wv)(is,{key:0,to:"/flag/"+e},{default:(0,l.k6)((()=>[(0,l.Lk)("img",{class:"ui avatar",src:s.users[e].photoURL,alt:"users[m].n"},null,8,E)])),_:2},1032,["to"])):(0,l.Q3)("",!0)])))),256)),(0,l.bo)((0,l.Lk)("span",null,[(0,l.bo)((0,l.Lk)("a",{class:"ui green tiny button",onClick:e=>s.join(i.idx)},"我要加入",8,_),[[t.aG,!s.isMember(i.idx)]]),(0,l.bo)((0,l.Lk)("a",{class:"ui red tiny button",onClick:e=>s.out(i.idx)},"我要退出",8,G),[[t.aG,s.isMember(i.idx)]])],512),[[t.aG,s.uid]])])]),(0,l.Lk)("div",K,[(0,l.Lk)("div",U,[(0,l.Lk)("div",W,[Z,((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(i.res,((s,e)=>((0,l.uX)(),(0,l.CE)("div",{class:"item left aligned",key:e+s.n+s.href},[(0,l.Lk)("a",{href:s.href,target:"_blank",rel:"noopener noreferrer"},[(0,l.Lk)("img",{src:"http://www.google.com/s2/favicons?domain="+s.href,alt:s.n},null,8,J),(0,l.eW)((0,o.v_)(s.n),1)],8,H)])))),128)),(0,l.bo)((0,l.Lk)("div",Q,[(0,l.Lk)("div",V,[(0,l.Lk)("div",j,[F,(0,l.bo)((0,l.Lk)("input",{type:"text","onUpdate:modelValue":e[5]||(e[5]=e=>s.newResName=e),placeholder:"請先輸入資源名"},null,512),[[t.Jo,s.newResName]])])]),(0,l.Lk)("div",M,[(0,l.Lk)("div",O,[S,(0,l.bo)((0,l.Lk)("input",{type:"text","onUpdate:modelValue":e[6]||(e[6]=e=>s.newHref=e),placeholder:"請先輸入資源網址"},null,512),[[t.Jo,s.newHref]])])]),(0,l.Lk)("div",$,[(0,l.Lk)("a",{class:(0,o.C4)(["ui green button",{disabled:!s.newHref||!s.newResName}]),onClick:e=>s.addRes(n)},"新增資源",10,D)])],512),[[t.aG,s.uid&&s.edit]])])]),(0,l.Lk)("div",B,[(0,l.Lk)("div",A,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(i.chats,((s,e)=>((0,l.uX)(),(0,l.CE)("div",{class:"item",key:e},(0,o.v_)(s.n)+" : "+(0,o.v_)(s.t),1)))),128)),s.uid&&s.edit?((0,l.uX)(),(0,l.CE)("div",T,[(0,l.Lk)("div",Y,[(0,l.Lk)("img",{class:"ui avatar",src:s.photoURL},null,8,q),(0,l.Lk)("div",z,[(0,l.bo)((0,l.Lk)("input",{class:"input","onUpdate:modelValue":e[7]||(e[7]=e=>s.msg=e),placeholder:"在想什麼嗎?"},null,512),[[t.Jo,s.msg]]),(0,l.Lk)("a",{class:(0,o.C4)(["ui label green button",{disabled:!s.msg}]),onClick:e=>s.addChat(n)},"留言",10,P)])])])):(0,l.Q3)("",!0)])])])])])))),128))])])])):(0,l.Q3)("",!0)])}i(4114);var es=i(4161),is=i(6808),ls=(0,l.pM)({name:"GroupsView",props:["photoURL","users","user","uid","mySearch"],metaInfo:{title:"自學社團"},data(){return{edit:!1,newIntro:"",newName:"",newResName:"",newHref:"",msg:"",groups:[]}},methods:{toList:s=>s&&"object"===typeof s?Object.values(s):[],loginGoogle:function(){this.$emit("loginGoogle")},isMember(s){return(this.groups[s].members||[]).indexOf(this.uid)>-1},join(s){this.groups[s].members=this.groups[s].members||[],this.groups[s].members.push(this.uid),(0,es.hZ)((0,es.KR)(is.db,"groups"),this.groups).then(console.log("groups更新成功"))},out(s){this.groups[s].members=this.groups[s].members||[],this.groups[s].members=this.groups[s].members.filter((s=>s!==this.uid)),(0,es.hZ)((0,es.KR)(is.db,"groups"),this.groups).then(console.log("groups更新成功"))},searchBy(s,e){return e?s.filter((function(s){return JSON.stringify(s).indexOf(e)>-1})):s},addChat(s){var e={uid:this.uid,n:(this.user.providerData||[{displayName:"匿名"}])[0].displayName,t:this.msg,photoURL:this.photoURL||"",time:(new Date).getTime()};this.groups[s].chats=this.groups[s].chats||[],this.msg&&(this.groups[s].chats.push(e),this.msg=""),(0,es.hZ)((0,es.KR)(is.db,"groups/"+s),this.g).then(console.log("groups更新成功"))},addGroup(){this.groups.push({n:this.newName,res:[],chats:[],idx:this.groups.length}),this.newName="",(0,es.hZ)((0,es.KR)(is.db,"groups"),this.groups).then(console.log("groups更新成功"))},addRes(s){this.groups[s].res=this.groups[s].res||[],this.groups[s].res.push({n:this.newResName,href:this.newHref}),this.newResName="",this.newHref="",(0,es.hZ)((0,es.KR)(is.db,"groups"),this.groups).then(console.log("groups更新成功"))},addIntro(s){this.groups[s].intro=this.newIntro,this.newIntro="",(0,es.hZ)((0,es.KR)(is.db,"groups"),this.groups).then(console.log("groups更新成功"))}},mounted(){(0,es.Zy)(is.sY,(s=>{const e=s.val();this.groups=e||[]}))}}),ts=i(1241);const os=(0,ts.A)(ls,[["render",ss],["__scopeId","data-v-42777fbe"]]);var ns=os}}]);
//# sourceMappingURL=groups.c8b13b8e.js.map